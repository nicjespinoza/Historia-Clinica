import{j as e,r as C,q as A,V as _,Q as R,X as w,U as M,Y as k,_ as D,R as H,C as z,$ as F,a0 as W,s as B}from"./ui-DQFPLK17.js";import{r as h}from"./vendor-CGaW2js3.js";import{r as G,u as U,a as q}from"./firebase-BCTgdpS7.js";import{c as $,s as J}from"./index-BULVNrj6.js";import{F as m}from"./FloatingLabelInput-BznBh-1o.js";const re=i=>{if(!i)return"";const t=new Date(i),o=new Date;let l=o.getFullYear()-t.getFullYear(),a=o.getMonth()-t.getMonth(),c=o.getDate()-t.getDate();if((a<0||a===0&&c<0)&&(l--,a+=12),c<0){const r=new Date(o.getFullYear(),o.getMonth(),0);c+=r.getDate(),a--}return`${l} años, ${a} meses, ${c} días`},T="meet.jit.si",ie=({isOpen:i,onClose:t,roomName:o,displayName:l,appointmentId:a})=>{const c=h.useRef(null),r=h.useRef(null),[d,u]=h.useState(!0),[s,n]=h.useState(null),[b,v]=h.useState(0),[y,x]=h.useState(!1),j=`HistoriaClinica${a.replace(/[^a-zA-Z0-9]/g,"")}`,O=async()=>{try{if(u(!0),n(null),window.JitsiMeetExternalAPI||await new Promise((g,P)=>{const E=document.querySelector('script[src*="external_api.js"]');E&&E.remove();const f=document.createElement("script");f.src=`https://${T}/external_api.js`,f.async=!0,f.onload=()=>{console.log("Jitsi script loaded successfully"),g()},f.onerror=()=>P(new Error("No se pudo cargar el script de video")),document.head.appendChild(f)}),await new Promise(g=>setTimeout(g,300)),!c.current)throw new Error("Container not ready");r.current&&(r.current.dispose(),r.current=null),console.log("Creating Jitsi room:",j),r.current=new window.JitsiMeetExternalAPI(T,{roomName:j,parentNode:c.current,width:"100%",height:"100%",configOverwrite:{prejoinPageEnabled:!1,prejoinConfig:{enabled:!1},enableLobby:!1,hideLobbyButton:!0,startWithAudioMuted:!1,startWithVideoMuted:!1,disableDeepLinking:!0,enableWelcomePage:!1,enableClosePage:!1,disableInviteFunctions:!0,hideConferenceSubject:!1,subject:"Consulta Médica Virtual",enableInsecureRoomNameWarning:!1,requireDisplayName:!1,p2p:{enabled:!0},fileRecordingsEnabled:!1,liveStreamingEnabled:!1,breakoutRooms:{hideAddRoomButton:!0,hideAutoAssignButton:!0,hideJoinRoomButton:!0}},interfaceConfigOverwrite:{TOOLBAR_BUTTONS:["microphone","camera","desktop","fullscreen","hangup","chat","settings","videoquality","tileview","toggle-camera"],SHOW_JITSI_WATERMARK:!1,SHOW_WATERMARK_FOR_GUESTS:!1,SHOW_BRAND_WATERMARK:!1,BRAND_WATERMARK_LINK:"",DEFAULT_BACKGROUND:"#1a1a2e",DISABLE_JOIN_LEAVE_NOTIFICATIONS:!1,MOBILE_APP_PROMO:!1,HIDE_INVITE_MORE_HEADER:!0,DISABLE_FOCUS_INDICATOR:!0,SHOW_PROMOTIONAL_CLOSE_PAGE:!1,ENABLE_FEEDBACK_ANIMATION:!1,TOOLBAR_ALWAYS_VISIBLE:!1,INITIAL_TOOLBAR_TIMEOUT:15e3,TOOLBAR_TIMEOUT:4e3},userInfo:{displayName:l||"Participante"}}),console.log("JaaS API created, adding listeners..."),r.current.addListener("videoConferenceJoined",g=>{console.log("User joined video conference:",g),u(!1)}),r.current.addListener("videoConferenceLeft",()=>{console.log("User left video conference"),t()}),r.current.addListener("readyToClose",()=>{console.log("Ready to close"),t()}),setTimeout(()=>{u(!1)},5e3)}catch(g){console.error("JaaS initialization error:",g),n(g.message||"Error al iniciar la video consulta"),u(!1)}};h.useEffect(()=>{if(!i){r.current&&(r.current.dispose(),r.current=null),u(!0),n(null);return}return O(),()=>{r.current&&(r.current.dispose(),r.current=null)}},[i,a,b]);const L=()=>{v(g=>g+1)},I=()=>{x(!y)};return i?e.jsx(C,{children:i&&e.jsxs(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black flex flex-col",children:[!y&&e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gradient-to-r from-purple-900 to-indigo-900 border-b border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-1.5 bg-white/10 rounded-lg",children:e.jsx(_,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-bold text-white",children:"Video Consulta"}),e.jsxs("p",{className:"text-[10px] text-purple-200",children:[l," • ID: ",j.slice(-8)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:I,className:"p-1.5 text-white/70 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:"Pantalla completa",children:e.jsx(R,{size:18})}),e.jsx("button",{onClick:t,className:"p-1.5 text-white/70 hover:text-white hover:bg-white/10 rounded-lg transition-colors",children:e.jsx(w,{size:18})})]})]}),y&&e.jsxs("div",{className:"absolute top-2 right-2 z-30 flex gap-2",children:[e.jsx("button",{onClick:I,className:"p-2 bg-black/50 text-white hover:bg-black/70 rounded-lg transition-colors",children:e.jsx(M,{size:20})}),e.jsx("button",{onClick:t,className:"p-2 bg-red-500/80 text-white hover:bg-red-500 rounded-lg transition-colors",children:e.jsx(w,{size:20})})]}),e.jsxs("div",{className:"flex-1 relative bg-gray-900",children:[d&&!s&&e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gradient-to-b from-purple-900 to-indigo-900 z-20",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx("div",{className:"w-14 h-14 border-4 border-white/20 rounded-full animate-pulse"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(k,{className:"w-7 h-7 text-white animate-bounce"})})]}),e.jsx("h3",{className:"text-base font-bold text-white mb-1",children:"Conectando..."}),e.jsx("p",{className:"text-purple-200 text-xs",children:"Iniciando video consulta"})]}),s&&e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gradient-to-b from-red-900 to-red-800 z-20",children:[e.jsx(D,{className:"w-10 h-10 text-white mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Error de Conexión"}),e.jsx("p",{className:"text-red-200 text-sm mb-4",children:s}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:L,className:"px-4 py-2 bg-white text-red-600 rounded-lg font-bold text-sm hover:bg-gray-100 transition-colors flex items-center gap-2",children:[e.jsx(H,{size:16}),"Reintentar"]}),e.jsx("button",{onClick:t,className:"px-4 py-2 bg-white/20 text-white rounded-lg font-bold text-sm hover:bg-white/30 transition-colors",children:"Cerrar"})]})]}),e.jsx("div",{ref:c,className:"w-full h-full",style:{visibility:d||s?"hidden":"visible",position:"absolute",top:0,left:0,right:0,bottom:0}})]})]})}):null},te=["Sangrado digestivo","Dificultad para tragar","Dolor al tragar","Dispepsia","Reflujo","Gastritis","Ulcera","Dolor abdominal","Hernia","Vomitos","Enfermedad de Crohn","Colitis","Ulcerativa","Colon irritable","Sindrome diarreico","Constipacion","Distension abdominal","Perdida de peso","Anemia","Pólipos","Cáncer","Ictericia","Cirrosis hepática","Calculo en via biliar","Intolerancia alimenticia","Masa abdominal","Diverticulitis","Hemorroides","Fisura anal","Pancreatitis","Colecistitis","Obesidad","Hallazgo radiologico anormal","Dolor anal","Picazon anal","Pared abdominal"],oe=["Migraña","Epilepsia","Accidente cerebrovascular","Aneurisma","Parkinson","Alzheimer","Tumores","Accidente isquemico transitorio","Esclerosis multiple","Demencia","Traumatismo","Neuropatia","Autismo"],ne=["Obesidad","Colesterol y triglicéridos altos","Diabetes","Resistencia a la Insulina","Hipertiroidismo","Hipotiroidismo","Hipertension arterial"],le=["Dermatitis","Psoriasis","Herpes","Rosácea","Eccema","Celulitis/Erisipela","Urticaria","Otros"],ce=["Asma","EPOC","Tuberculosis","Fibrosis pulmonar","Apnea del sueño","Cancer de pulmon","Trombosis pulmonar","Infec. respiratorias sup","Bronquitis","Neumonia","Cancer de vias respiratorias"],de=["Hipertension arterial","Insuficiencia cardiaca","Infarto","Cardiopatia isquémica","Arritmias","Angina de pecho","Enfermedad valvular","Miocardiopatia","Cardiopatias congenita","Endocarditis"],me=["Trastorno motor esofagico","Sangrado digestivo","Dispepsia","Reflujo","Gastritis","Ulcera","Enfermedad de Crohn","Colitis Ulcerativa","Colon irritable","Diarrea cronica","Constipacion cronica","Pólipos","Cáncer","Intolerancia alimenticia","Disfagia neurogenica","Enfermedad diverticular","Hemorroides","Fisura anal","Fistula anal","Acalasia","Síndrome de malabsorción"],ue=["Higado graso","Hepatitis","Cirrosis","Cancer higado","Hemocromatosis","Litiasis vesicular","Litiasis de la via biliar","Colangitis esclerosante primaria","Pancreatitis","Cáncer","Várices","Ictericia"],ge=["Insuficiencia venosa","Varices","Trombosis venosa superficial","Trombosis venosa profunda","Obstrucción arterial aguda o crónica","Aneurisma","Enfermedad carotidea"],he=["Sangrados o hematomas frecuentes","Leucemia","Linfomas","Mieloma","Anemia","Hemofilia","Púrpura trombocitopénica idiopática","Trombofilia","Neutropenia","Sindrome mileodisplasico","Policitemia vera","Plaquetopenia","Trombocitosis"],be=["Insuficiencia renal","Calculos","Cáncer","Infecciones a repeticion","Enfermedad renal diabética","Enfermedad renal hipertensiva","Pielonefritis","Enfermedad quística","Transplantado renal","Hiperplasia prostática benigna"],pe=["Lupus","Artritis","Artrosis","Esclerodermia","Fibromialgia","Gota","Osteoporosis","Polimialgia","Polimiositis","Esclerosis multiple","Sarcoidosis","Sd Antifosfolipidos","Vasculitis","Sindrome de Sjogren"],xe=["Malaria","VIH","Dengue","Sarampion","Hepatitis","Covid","Amigdalitis","ETS","Herpes","Parasitosis","Neumonia"],fe=["Ansiedad","Depresion","Esquizofrenia","Trastorno bipolar","Ataques de panico","Intento de suicidio","Fobias","Alzheimer","Trastorno obsesivo compulsivo","Anorexia","Bulimia","TDAH"],ve=["Miomas","Quistes de ovario","Endometriosis","Aborto","Preeclampsia","Infecciones vaginales","Eclampsia","Prolapso genital","Diabetes gestacional","Cáncer","Síndrome de ovario poliquístico","Embarazo ectópico","Infertilidad","Trastornos hormonales","Otros"],ye=["Endometriosis","Miomas","Cancer cervicouterino","Prolapso uterino","Quistes de ovarios","Ovario poliquístico","Hemorragia disfuncional","Infecciones ginecologicas"],we=["Analgesicos","Antibióticos","Protectores gástricos","Antihipertensivos","Hipoglicemiantes","Antiarrítmicos","Anticoagulantes","Aspirina","Antigagregantes plaquetarios","Antiulcerosos","Antiácidos","Antidepresivos","Antisicoticos","Ansioliticos"],je=["Medicamentos","Yodo","Latex","Anestesicos","Transfusiones sanguineas","Medio de contraste"],Ne=["Leche","Mariscos","Huevo","Pescado","Maní","Soja","Trigo","Frutos secos"],Ce=["Gluten","Lactosa","Fructosa","Histamina","Sorbitol","Salicilatos","Sacarosa"],Ae=["Tabaquismo","Alcohol","Drogas","Cafeina","Psicofarmacos","Vaping","Medicamentos controlados"],Ie=["Quimicos","Derivados del petroleo","Radiaciones","Mineria","Aserrin","Plomo","Pinturas","Venenos","Fertilizantes","Hierro y acero","Caucho","Aluminio","Derivados el alcohol"],Ee=["Cancer","Hipertiroidismo","Hipotiroidismo","Colitis ulcerativa","E. Crohn","Poliposis","Diabetes","Hipertension","Cardiopatia isquemica","Asma","EPOC","Epilepsia","Enf. Autoinmune"],Te=["Colitis Ulcerativa","Enfermedad de Crohn","Síndrome polipósico","Cancer digestivo","Enfermedades autoinmunes digestivas"],Y=["Piel y anexos","Cabeza","Cuello","Torax","Cardiaco","Pulmonar","Abdomen","Miembros superiores","Miembros inferiores","Neurologico","Genitales","Tacto Rectal"],V="flex items-center space-x-3 p-2.5 rounded-lg border-2 border-gray-900 bg-white hover:bg-gray-50 transition-all cursor-pointer",K="text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",Se=({items:i,data:t,onChange:o})=>e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 text-sm",children:i.map(l=>{const a=!!t[l];return e.jsxs("label",{className:`${V} ${a?"bg-blue-50 border-blue-100":""}`,children:[e.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${a?"bg-blue-600 border-gray-900":"bg-white border-gray-900"}`,children:a&&e.jsx(z,{size:12,className:"text-white"})}),e.jsx("input",{type:"checkbox",checked:a,onChange:c=>o(l,c.target.checked),className:"hidden"}),e.jsx("span",{className:`font-medium ${a?"text-blue-800":"text-gray-600"}`,children:l})]},l)})}),N=({label:i,checked:t,onClick:o})=>e.jsx("button",{type:"button",onClick:o,className:`px-4 py-1.5 rounded-full text-sm font-semibold transition-all shadow-sm ${t?"bg-blue-600 text-white ring-2 ring-blue-200":"bg-white text-gray-500 border-2 border-gray-900 hover:bg-gray-50"}`,children:i}),p=({label:i,value:t,onChange:o})=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between py-4 border-b border-gray-100 last:border-0 gap-3",children:[e.jsx("span",{className:"font-medium text-black",children:i}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(N,{label:"SI",checked:t.yes,onClick:()=>o("yes",!t.yes)}),e.jsx(N,{label:"NO",checked:t.no,onClick:()=>o("no",!t.no)}),t.na!==void 0&&e.jsx(N,{label:"N/A",checked:t.na,onClick:()=>o("na",!t.na)})]})]}),Oe=({data:i,onChange:t,hideVitals:o=!1})=>{const l=(a,c,r)=>{let d={...i.systems[a],[c]:r};c==="normal"&&r===!0?d.abnormal=!1:c==="abnormal"&&r===!0&&(d.normal=!1),t({...i,systems:{...i.systems,[a]:d}})};return e.jsxs("div",{className:"space-y-6 bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden",children:[e.jsx("h3",{className:K,children:"V. Examen Físico"}),!o&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-9 gap-4 text-sm mb-8",children:["fc","fr","temp","pa","pam","sat02","weight","height","imc"].map(a=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-gray-500 text-[11px] uppercase font-bold mb-1.5 tracking-wider",children:a}),e.jsx("input",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 text-gray-800 text-sm rounded-lg shadow-sm focus:ring-2 focus:ring-blue-100 focus:border-blue-500 transition-all outline-none text-center font-medium font-mono",value:i[a],onChange:c=>t({...i,[a]:c.target.value})})]},a))}),e.jsx("div",{className:"glass rounded-2xl overflow-hidden border border-white/20 shadow-lg",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-[#154c8a]/5 text-[#154c8a] uppercase text-xs backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 font-bold tracking-wide",children:"Organos y Sistemas"}),e.jsx("th",{className:"p-4 text-center font-bold w-24",children:"Normal"}),e.jsx("th",{className:"p-4 text-center font-bold w-24",children:"Anormal"}),e.jsx("th",{className:"p-4 font-bold",children:"Descripción"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100/50",children:Y.map(a=>{var c,r,d,u;return e.jsxs("tr",{className:"hover:bg-white/40 transition-colors duration-200",children:[e.jsx("td",{className:"p-4 font-medium text-gray-700",children:a}),e.jsx("td",{className:"p-4 text-center",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("input",{type:"checkbox",className:"w-5 h-5 appearance-none border border-gray-300 rounded-md checked:bg-[#154c8a] checked:border-[#154c8a] transition-all cursor-pointer relative after:content-[''] after:absolute after:hidden checked:after:block after:left-[6px] after:top-[2px] after:w-[6px] after:h-[10px] after:border-white after:border-r-2 after:border-b-2 after:rotate-45 shadow-sm",checked:((c=i.systems[a])==null?void 0:c.normal)||!1,onChange:s=>l(a,"normal",s.target.checked)})})}),e.jsx("td",{className:"p-4 text-center",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("input",{type:"checkbox",className:"w-5 h-5 appearance-none border border-gray-300 rounded-md checked:bg-red-500 checked:border-red-500 transition-all cursor-pointer relative after:content-[''] after:absolute after:hidden checked:after:block after:left-[6px] after:top-[2px] after:w-[6px] after:h-[10px] after:border-white after:border-r-2 after:border-b-2 after:rotate-45 shadow-sm",checked:((r=i.systems[a])==null?void 0:r.abnormal)||!1,onChange:s=>l(a,"abnormal",s.target.checked)})})}),e.jsx("td",{className:"p-4",children:((d=i.systems[a])==null?void 0:d.abnormal)&&e.jsx("input",{className:"w-full bg-transparent border-b border-gray-300 focus:border-[#154c8a] focus:outline-none text-gray-700 placeholder-gray-400 py-1 transition-colors",placeholder:"Describir hallazgos...",value:((u=i.systems[a])==null?void 0:u.description)||"",onChange:s=>l(a,"description",s.target.value)})})]},a)})})]})})]})},Q=async(i,t)=>{let o=i;if(i.type.startsWith("image/"))try{o=await $(i)}catch(d){console.warn("Image compression failed, uploading original:",d)}const l=`${Date.now()}_${o.name}`,a=G(J,`${t}/${l}`),c=await U(a,o);return await q(c.ref)},Le=async(i,t)=>Q(i,`profiles/${t}`),Pe=i=>["image/jpeg","image/png","image/gif","image/webp"].includes(i.type),_e=(i,t=10)=>{const o=t*1024*1024;return i.size<=o},S={weightGainOnset:{childhood:!1,youth:!1,pregnancy:!1,menopause:!1,postEvent:!1,when:""},familyObesity:{yes:!1,no:!1,who:""},familyPathologies:{yes:!1,no:!1,who:""},previousTreatments:{yes:!1,no:!1,which:""},previousMeds:{yes:!1,no:!1,which:""},maxWeight:"",minWeight:"",reboundCause:"",previousActivity:{yes:!1,no:!1,which:""},currentActivity:{yes:!1,no:!1,which:""},qualityOfLifeAlteration:{yes:!1,no:!1,how:""},metrics:{height:"",currentWeight:"",currentImc:"",lostWeight:"",lostOverweightPercentage:"",lostImcExcessPercentage:"",desiredWeight:"",desiredImc:""}},Re=({isOpen:i,onClose:t,onSave:o,initialData:l})=>{const[a,c]=h.useState(S);h.useEffect(()=>{if(i){const s=l&&Object.keys(l).length>0&&l.weightGainOnset;c(s?l:S)}},[i,l]);const r=(s,n)=>{c(b=>({...b,[s]:n}))},d=(s,n,b)=>{c(v=>{const x={...v[s],[n]:b};return b&&(n==="yes"&&(x.no=!1),n==="no"&&(x.yes=!1)),{...v,[s]:x}})},u=()=>{o(a)};return i?e.jsx(C,{children:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs(A.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-3xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Historia de Obesidad"}),e.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:e.jsx(w,{size:24,className:"text-gray-500"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-8",children:[e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Inicio de ganancia de peso"}),e.jsx("div",{className:"flex flex-wrap gap-4 mb-4",children:["Niñez","Juventud","Embarazo","Menopausia","Post evento"].map(s=>{const n=s==="Niñez"?"childhood":s==="Juventud"?"youth":s==="Embarazo"?"pregnancy":s==="Menopausia"?"menopause":"postEvent";return e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a.weightGainOnset[n],onChange:b=>r("weightGainOnset",{...a.weightGainOnset,[n]:b.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:s})]},n)})}),e.jsx(m,{label:"¿Cuándo?",value:a.weightGainOnset.when,onChange:s=>r("weightGainOnset",{...a.weightGainOnset,when:s.target.value}),wrapperClassName:"bg-white border-2 border-gray-900 rounded-xl"})]}),e.jsxs("div",{className:"border-t-2 border-gray-900 pt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(p,{label:"Antecedente de Obesidad en familiares en primer grado",value:a.familyObesity,onChange:(s,n)=>d("familyObesity",s,n)}),a.familyObesity.yes&&e.jsx("div",{className:"mt-4",children:e.jsx(m,{label:"¿Quién?",value:a.familyObesity.who,onChange:s=>r("familyObesity",{...a.familyObesity,who:s.target.value}),wrapperClassName:"bg-white border-2 border-gray-900 rounded-xl"})})]}),e.jsxs("div",{children:[e.jsx(p,{label:"Antecedentes patológicos en familiares en primer grado",value:a.familyPathologies,onChange:(s,n)=>d("familyPathologies",s,n)}),a.familyPathologies.yes&&e.jsx("div",{className:"mt-4",children:e.jsx(m,{label:"¿Quién?",value:a.familyPathologies.who,onChange:s=>r("familyPathologies",{...a.familyPathologies,who:s.target.value}),wrapperClassName:"bg-white border-2 border-gray-900 rounded-xl"})})]}),e.jsxs("div",{children:[e.jsx(p,{label:"Tratamientos previos para bajar de peso",value:a.previousTreatments,onChange:(s,n)=>d("previousTreatments",s,n)}),a.previousTreatments.yes&&e.jsx("div",{className:"mt-4",children:e.jsx(m,{label:"¿Cuál?",value:a.previousTreatments.which,onChange:s=>r("previousTreatments",{...a.previousTreatments,which:s.target.value}),wrapperClassName:"bg-white border-2 border-gray-900 rounded-xl"})})]}),e.jsxs("div",{children:[e.jsx(p,{label:"Medicamentos, suplementos nutricionales previos",value:a.previousMeds,onChange:(s,n)=>d("previousMeds",s,n)}),a.previousMeds.yes&&e.jsx("div",{className:"mt-4",children:e.jsx(m,{label:"¿Cuáles?",value:a.previousMeds.which,onChange:s=>r("previousMeds",{...a.previousMeds,which:s.target.value}),wrapperClassName:"bg-white border-2 border-gray-900 rounded-xl"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 border-t-2 border-gray-900 pt-6",children:[e.jsx(m,{label:"Peso máximo alcanzado (kg)",value:a.maxWeight,onChange:s=>r("maxWeight",s.target.value),wrapperClassName:"bg-white border-2 border-gray-900 rounded-xl"}),e.jsx(m,{label:"Peso mínimo alcanzado (kg)",value:a.minWeight,onChange:s=>r("minWeight",s.target.value),wrapperClassName:"bg-white border-2 border-gray-900 rounded-xl"})]}),e.jsx(m,{label:"Causa de rebote",value:a.reboundCause,onChange:s=>r("reboundCause",s.target.value),wrapperClassName:"bg-white border-2 border-gray-900 rounded-xl"}),e.jsxs("div",{className:"border-t-2 border-gray-900 pt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(p,{label:"Actividad física previa",value:a.previousActivity,onChange:(s,n)=>d("previousActivity",s,n)}),a.previousActivity.yes&&e.jsx("div",{className:"mt-4",children:e.jsx(m,{label:"¿Cuál?",value:a.previousActivity.which,onChange:s=>r("previousActivity",{...a.previousActivity,which:s.target.value}),wrapperClassName:"bg-white border-2 border-gray-900 rounded-xl"})})]}),e.jsxs("div",{children:[e.jsx(p,{label:"Actividad física actual",value:a.currentActivity,onChange:(s,n)=>d("currentActivity",s,n)}),a.currentActivity.yes&&e.jsx("div",{className:"mt-4",children:e.jsx(m,{label:"¿Cuál?",value:a.currentActivity.which,onChange:s=>r("currentActivity",{...a.currentActivity,which:s.target.value}),wrapperClassName:"bg-white border-2 border-gray-900 rounded-xl"})})]}),e.jsxs("div",{children:[e.jsx(p,{label:"Alteración de calidad de vida y laboral",value:a.qualityOfLifeAlteration,onChange:(s,n)=>d("qualityOfLifeAlteration",s,n)}),a.qualityOfLifeAlteration.yes&&e.jsx("div",{className:"mt-4",children:e.jsx(m,{label:"¿Cómo?",value:a.qualityOfLifeAlteration.how,onChange:s=>r("qualityOfLifeAlteration",{...a.qualityOfLifeAlteration,how:s.target.value}),wrapperClassName:"bg-white border-2 border-gray-900 rounded-xl"})})]})]}),e.jsxs("div",{className:"border-t-2 border-gray-900 pt-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(m,{label:"Talla (cm)",value:a.metrics.height,onChange:s=>r("metrics",{...a.metrics,height:s.target.value}),wrapperClassName:"bg-white border-2 border-gray-900 rounded-xl"}),e.jsx(m,{label:"Peso actual (kg)",value:a.metrics.currentWeight,onChange:s=>r("metrics",{...a.metrics,currentWeight:s.target.value}),wrapperClassName:"bg-white border-2 border-gray-900 rounded-xl"}),e.jsx(m,{label:"IMC actual",value:a.metrics.currentImc,onChange:s=>r("metrics",{...a.metrics,currentImc:s.target.value}),wrapperClassName:"bg-white border-2 border-gray-900 rounded-xl"}),e.jsx(m,{label:"Peso perdido",value:a.metrics.lostWeight,onChange:s=>r("metrics",{...a.metrics,lostWeight:s.target.value}),wrapperClassName:"bg-white border-2 border-gray-900 rounded-xl"}),e.jsx(m,{label:"% sobrepeso perdido",value:a.metrics.lostOverweightPercentage,onChange:s=>r("metrics",{...a.metrics,lostOverweightPercentage:s.target.value}),wrapperClassName:"bg-white border-2 border-gray-900 rounded-xl"}),e.jsx(m,{label:"% perdido exceso IMC",value:a.metrics.lostImcExcessPercentage,onChange:s=>r("metrics",{...a.metrics,lostImcExcessPercentage:s.target.value}),wrapperClassName:"bg-white border-2 border-gray-900 rounded-xl"}),e.jsx(m,{label:"Peso deseado (Kg)",value:a.metrics.desiredWeight,onChange:s=>r("metrics",{...a.metrics,desiredWeight:s.target.value}),wrapperClassName:"bg-white border-2 border-gray-900 rounded-xl"}),e.jsx(m,{label:"IMC deseado",value:a.metrics.desiredImc,onChange:s=>r("metrics",{...a.metrics,desiredImc:s.target.value}),wrapperClassName:"bg-white border-2 border-gray-900 rounded-xl"})]})]}),e.jsx("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-end",children:e.jsxs("button",{onClick:u,className:"bg-blue-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-blue-700 flex items-center gap-2 shadow-lg shadow-blue-600/20 transition-all transform hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(F,{size:20})," Agregar"]})})]})})}):null},Me=({message:i,type:t,isVisible:o,onClose:l})=>(h.useEffect(()=>{if(o){const a=setTimeout(()=>{l()},4e3);return()=>clearTimeout(a)}},[o,l]),e.jsx(C,{children:o&&e.jsxs(A.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:`fixed bottom-6 right-6 z-[100] flex items-center gap-3 px-6 py-4 rounded-xl shadow-2xl backdrop-blur-md border ${t==="success"?"bg-green-600/90 border-green-500 text-white":"bg-red-600/90 border-red-500 text-white"}`,children:[e.jsx("div",{className:`p-1 rounded-full ${t==="success"?"bg-green-500":"bg-red-500"}`,children:t==="success"?e.jsx(W,{size:20}):e.jsx(B,{size:20})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-bold text-sm",children:t==="success"?"Éxito":"Error"}),e.jsx("span",{className:"text-sm opacity-90 font-medium",children:i})]}),e.jsx("button",{onClick:l,className:"ml-4 p-1 hover:bg-white/20 rounded-full transition-colors",children:e.jsx(w,{size:16})})]})}));export{je as A,Se as C,le as D,Ie as E,Ce as F,me as G,ue as H,xe as I,ie as J,te as M,oe as N,Re as O,ge as P,ce as R,Y as S,Me as T,p as Y,ne as a,de as b,re as c,he as d,be as e,pe as f,fe as g,ve as h,Pe as i,ye as j,Ae as k,Ee as l,Oe as m,we as n,Ne as o,Te as p,Le as u,_e as v};
