var _s=Object.defineProperty;var js=(a,n,t)=>n in a?_s(a,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[n]=t;var R=(a,n,t)=>js(a,typeof n!="symbol"?n+"":n,t);import{j as o,a4 as wt,N as ra,ar as Ss,v as Tn,K as On,aa,O as ja,J as na,q as Se,as as Ms,C as Ps,r as Dt,s as Rn,X as $t,at as Es,au as Ts,av as Vr,a as Sa,t as In,aw as Ma,ax as Pa,ay as Ea,az as sa,aA as Ta,a7 as or,af as Oa,a9 as Os,m as Rs,ab as Ra,a1 as Ia,E as Ln,a6 as Yt,V as La,x as Ya}from"./ui-DQFPLK17.js";import{a as Or,r as b,h as Yn,i as Is,R as y,j as Ls,u as Ys,d as As,e as At,N as Fs}from"./vendor-CGaW2js3.js";import{u as Rr,d as Je,a as me,e as Hs,s as Ws}from"./index-BULVNrj6.js";import{c as zt,q as pa,w as An,b as Fn,o as Bs,d as Aa,e as qr,f as $s,s as ir,r as zs,u as Qs,a as Vs,h as Fa,i as qs}from"./firebase-BCTgdpS7.js";import{a as ie}from"./utils-CDN07tui.js";import{c as Ha,J as Ks,u as Us,T as Gs,M as Xs,Y as ce,N as Zs,a as Js,D as eo,R as to,b as ro,G as ao,H as no,P as so,d as oo,e as io,f as lo,I as co,g as uo,h as po,C as Wa,j as fo,A as mo,F as ho,k as go,E as vo,l as xo,O as Ba}from"./Toast-CGIuKJpu.js";import{c as bo}from"./confetti.module-oQXWb4Lk.js";import"./FloatingLabelInput-BznBh-1o.js";const yo=()=>{const a=Or(),{signIn:n}=Rr(),[t,e]=b.useState(""),[r,s]=b.useState(""),[i,l]=b.useState(""),[d,u]=b.useState(!1),c=async f=>{f.preventDefault(),u(!0),l("");try{await n(t,r);const m=zt(Je,"patients"),h=pa(m,An("email","==",t)),v=await Fn(h);if(v.empty)l("No se encontrÃ³ un perfil de paciente asociado a esta cuenta.");else{const g=v.docs[0],D={id:g.id,...g.data()};localStorage.setItem("currentPatient",JSON.stringify(D));const k=D.registrationStatus||"Paciente";a(k==="Proceso1"?"/app/patient/dashboard":k==="Proceso2"?"/app/patient/history":"/app/patient/dashboard")}}catch(m){console.error(m),m.code==="auth/invalid-credential"||m.code==="auth/user-not-found"||m.code==="auth/wrong-password"?l("Correo o contraseÃ±a incorrectos."):l("Error al iniciar sesiÃ³n. Intente nuevamente.")}finally{u(!1)}},p="w-full pl-10 pr-4 py-3 rounded-xl border-2 border-black font-medium text-[#084286] placeholder-gray-400 focus:border-[#084286] focus:ring-2 focus:ring-[#084286] outline-none transition-all";return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#083c79] p-4 font-sans",children:o.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-2xl shadow-xl w-full max-w-md border border-gray-100 relative",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"flex justify-center mb-6 pt-2",children:o.jsx("img",{src:"https://static.wixstatic.com/media/3743a7_bc65d6328e9c443e95b330a92181fbc8~mv2.png/v1/crop/x_10,y_7,w_390,h_61/fill/w_545,h_85,al_c,lg_1,q_85,enc_avif,quality_auto/logo-drmairenavalle.png",alt:"Logo Dr. Milton Mairena Valle",className:"h-12 md:h-14 object-contain"})}),o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 tracking-tight text-center",children:"Portal Paciente"}),o.jsx("p",{className:"text-gray-500 mt-2 font-medium text-center",children:"Acceda a su historial y citas"})]}),o.jsxs("form",{onSubmit:c,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-[#000000] mb-2",children:"Correo ElectrÃ³nico"}),o.jsxs("div",{className:"relative",children:[o.jsx(wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#084286] w-5 h-5"}),o.jsx("input",{type:"email",required:!0,className:p,placeholder:"ejemplo@correo.com",value:t,onChange:f=>e(f.target.value)})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-[#000000] mb-2",children:"ContraseÃ±a"}),o.jsxs("div",{className:"relative",children:[o.jsx(ra,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#084286] w-5 h-5"}),o.jsx("input",{type:"password",required:!0,className:p,placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",value:r,onChange:f=>s(f.target.value)})]})]}),i&&o.jsx("p",{className:"text-red-500 text-sm text-center font-medium",children:i}),o.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 shadow-lg shadow-blue-600/20 disabled:opacity-70",children:d?o.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):o.jsxs(o.Fragment,{children:["Ingresar ",o.jsx(Ss,{size:20})]})})]}),o.jsxs("div",{className:"mt-8 text-center space-y-4",children:[o.jsxs("p",{className:"text-gray-500 text-sm",children:["Â¿No tiene cuenta?"," ",o.jsx("button",{onClick:()=>a("/app/patient/register"),className:"text-blue-600 font-bold hover:underline",children:"RegÃ­strese aquÃ­"})]}),o.jsxs("button",{onClick:()=>a("/"),className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 rounded-xl font-bold transition-all flex items-center justify-center gap-2",children:[o.jsx(Tn,{size:18})," Regresar"]})]})]})})},wo=()=>{const a=Or(),{signUp:n}=Rr(),[t,e]=b.useState({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:""}),[r,s]=b.useState({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:""}),[i,l]=b.useState(""),[d,u]=b.useState(!1),[c,p]=b.useState(!1),[f,m]=b.useState(!1),h=()=>{t.firstName&&(s(_=>({..._,firstName:""})),t.firstName.length<3&&s(_=>({..._,firstName:"MÃ­nimo 3 caracteres"})))},v=()=>{t.lastName&&(s(_=>({..._,lastName:""})),t.lastName.length<3&&s(_=>({..._,lastName:"MÃ­nimo 3 caracteres"})))},g=async()=>{if(!t.email)return;if(s(w=>({...w,email:""})),!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t.email)){s(w=>({...w,email:"Formato invÃ¡lido (ej: abc@correo.com)"}));return}try{const{exists:w}=await me.checkEmailAvailability(t.email);w&&s(E=>({...E,email:"Este correo ya estÃ¡ registrado. Por favor inicie sesiÃ³n."}))}catch(w){console.error("Error validando email:",w)}},D=_=>{const w=_.replace(/\D/g,"");e({...t,phone:w})},k=()=>{if(!t.phone)return;s(w=>({...w,phone:""})),/^\d{11}$/.test(t.phone)||s(w=>({...w,phone:"Ingrese 11 dÃ­gitos: cÃ³digo de Ã¡rea + telÃ©fono"}))},C=()=>{if(!t.password)return;s(j=>({...j,password:""}));const _=t.password.length>=8,w=/[a-zA-Z]/.test(t.password),E=/[0-9]/.test(t.password),L=/[@&#$%*!]/.test(t.password);if(!_||!w||!E||!L){let j="Requisitos: ";const P=[];_||P.push("mÃ­n. 8 caracteres"),w||P.push("una letra"),E||P.push("un nÃºmero"),L||P.push("un carÃ¡cter especial (@&#$%*!)"),j+=P.join(", "),s(I=>({...I,password:j}))}},M=()=>{t.confirmPassword&&(s(_=>({..._,confirmPassword:""})),t.password!==t.confirmPassword&&s(_=>({..._,confirmPassword:"Las contraseÃ±as no coinciden"})))},S=async _=>{_.preventDefault(),l(""),s({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:""});const w=t.password.length>=8,E=/[a-zA-Z]/.test(t.password),L=/[0-9]/.test(t.password),j=/[@&#$%*!]/.test(t.password);if(!w||!E||!L||!j){s(P=>({...P,password:"ContraseÃ±a no cumple los requisitos de seguridad"}));return}if(t.password!==t.confirmPassword){s(P=>({...P,confirmPassword:"Las contraseÃ±as no coinciden"}));return}u(!0);try{const I=(await n(t.email,t.password)).user;try{const z=zt(Je,"patients"),$=pa(z,An("email","==",t.email));if(!(await Fn($)).empty){await I.delete(),s(ge=>({...ge,email:"Este correo ya existe en el sistema."})),u(!1);return}const V={firstName:t.firstName,lastName:t.lastName,email:t.email,phone:t.phone,registrationSource:"online",isOnline:!0,birthDate:"",ageDetails:"",sex:"",profession:"",address:"",initialReason:"",createdAt:new Date().toISOString(),registrationStatus:"Proceso1",registrationMessage:"Ficha clÃ­nica no completada"},ae=await me.createPatient(V);localStorage.setItem("currentPatient",JSON.stringify(ae)),a("/app/patient/dashboard")}catch(z){console.error("Error en base de datos:",z),await I.delete().catch(()=>{}),l("Error al guardar sus datos. Intente nuevamente.")}}catch(P){console.error("Registration error:",P),P.code==="auth/email-already-in-use"?s(I=>({...I,email:"Este correo electrÃ³nico ya estÃ¡ registrado."})):P.code==="auth/weak-password"?l("La contraseÃ±a es muy dÃ©bil."):l("Error al registrarse: "+P.message)}finally{u(!1)}},F="border-2 border-gray-900 bg-white",A="border-2 border-red-500 bg-white";return o.jsxs("div",{className:"min-h-screen py-6 px-4 flex items-center justify-center font-sans relative",style:{backgroundColor:"#083c79"},children:[o.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[30%] h-[30%] bg-blue-400/10 rounded-full blur-[100px]"}),o.jsx("div",{className:"absolute bottom-[10%] left-[-5%] w-[25%] h-[25%] bg-purple-500/10 rounded-full blur-[80px]"}),o.jsxs("div",{className:"w-full max-w-2xl bg-white shadow-2xl rounded-3xl overflow-hidden border border-white/10 relative z-10",children:[o.jsxs("form",{onSubmit:S,className:"p-6 md:p-8",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6 border-b border-gray-100 pb-4",children:[o.jsxs("div",{className:"flex-1 text-center pl-10",children:[o.jsx("img",{src:"https://static.wixstatic.com/media/3743a7_bc65d6328e9c443e95b330a92181fbc8~mv2.png/v1/crop/x_10,y_7,w_390,h_61/fill/w_545,h_85,al_c,lg_1,q_85,enc_avif,quality_auto/logo-drmairenavalle.png",alt:"Logo Dr. Milton Mairena Valle",className:"h-10 md:h-12 object-contain mx-auto mb-2"}),o.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 tracking-tight",children:"Registro de Paciente"}),o.jsx("p",{className:"text-xs md:text-sm text-gray-500 font-medium",children:"Complete sus datos para crear su cuenta"})]}),o.jsx("button",{type:"button",onClick:()=>a("/app/patient/login"),className:"bg-[#083c79] hover:bg-[#062a54] p-2 rounded-lg text-white transition-colors",children:o.jsx(Tn,{size:20})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:`rounded-xl px-4 py-3 ${r.firstName?A:F}`,children:[o.jsx("label",{className:"block text-xs text-gray-500 font-medium mb-1",children:"Nombre"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(wt,{className:`w-5 h-5 ${r.firstName?"text-red-400":"text-[#084286]"}`}),o.jsx("input",{required:!0,className:"flex-1 text-gray-900 font-semibold bg-transparent outline-none placeholder-gray-400",placeholder:"Ej: Juan",value:t.firstName,onChange:_=>e({...t,firstName:_.target.value}),onBlur:h})]})]}),r.firstName&&o.jsx("p",{className:"text-red-500 text-xs mt-1 ml-1 font-medium",children:r.firstName})]}),o.jsxs("div",{children:[o.jsxs("div",{className:`rounded-xl px-4 py-3 ${r.lastName?A:F}`,children:[o.jsx("label",{className:"block text-xs text-gray-500 font-medium mb-1",children:"Apellido"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(wt,{className:`w-5 h-5 ${r.lastName?"text-red-400":"text-[#084286]"}`}),o.jsx("input",{required:!0,className:"flex-1 text-gray-900 font-semibold bg-transparent outline-none placeholder-gray-400",placeholder:"Ej: PÃ©rez",value:t.lastName,onChange:_=>e({...t,lastName:_.target.value}),onBlur:v})]})]}),r.lastName&&o.jsx("p",{className:"text-red-500 text-xs mt-1 ml-1 font-medium",children:r.lastName})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:`rounded-xl px-4 py-3 ${r.email?A:F}`,children:[o.jsx("label",{className:"block text-xs text-gray-500 font-medium mb-1",children:"Correo ElectrÃ³nico"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(On,{className:`w-5 h-5 ${r.email?"text-red-400":"text-[#084286]"}`}),o.jsx("input",{type:"email",required:!0,className:"flex-1 text-gray-900 font-semibold bg-transparent outline-none placeholder-gray-400",placeholder:"ejemplo@correo.com",value:t.email,onChange:_=>e({...t,email:_.target.value}),onBlur:g})]})]}),r.email&&o.jsx("p",{className:"text-red-500 text-xs mt-1 ml-1 font-medium",children:r.email})]}),o.jsxs("div",{children:[o.jsxs("div",{className:`rounded-xl px-4 py-3 ${r.phone?A:F}`,children:[o.jsx("label",{className:"block text-xs text-gray-500 font-medium mb-1",children:"TelÃ©fono"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(aa,{className:`w-5 h-5 ${r.phone?"text-red-400":"text-[#084286]"}`}),o.jsx("input",{type:"tel",required:!0,className:"flex-1 text-gray-900 font-semibold bg-transparent outline-none placeholder-gray-400",placeholder:"50588888888",value:t.phone,onChange:_=>D(_.target.value),onBlur:k})]})]}),r.phone&&o.jsx("p",{className:"text-red-500 text-xs mt-1 ml-1 font-medium",children:r.phone})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:`rounded-xl px-4 py-3 ${r.password?A:F}`,children:[o.jsx("label",{className:"block text-xs text-gray-500 font-medium mb-1",children:"ContraseÃ±a"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ra,{className:`w-5 h-5 ${r.password?"text-red-400":"text-[#084286]"}`}),o.jsx("input",{type:c?"text":"password",required:!0,className:"flex-1 text-gray-900 font-semibold bg-transparent outline-none",value:t.password,onChange:_=>e({...t,password:_.target.value}),onBlur:C}),o.jsx("button",{type:"button",onClick:()=>p(!c),className:"text-[#084286] hover:text-[#063266]",children:c?o.jsx(ja,{size:18}):o.jsx(na,{size:18})})]})]}),o.jsx("p",{className:`text-xs mt-1 ml-1 ${r.password?"text-red-500 font-medium":"text-gray-400"}`,children:r.password||"MÃ­n. 8 caracteres, letra, nÃºmero y @&#$%*!"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:`rounded-xl px-4 py-3 ${r.confirmPassword?A:F}`,children:[o.jsx("label",{className:"block text-xs text-gray-500 font-medium mb-1",children:"Confirmar ContraseÃ±a"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ra,{className:`w-5 h-5 ${r.confirmPassword?"text-red-400":"text-[#084286]"}`}),o.jsx("input",{type:f?"text":"password",required:!0,className:"flex-1 text-gray-900 font-semibold bg-transparent outline-none",value:t.confirmPassword,onChange:_=>e({...t,confirmPassword:_.target.value}),onBlur:M}),o.jsx("button",{type:"button",onClick:()=>m(!f),className:"text-[#084286] hover:text-[#063266]",children:f?o.jsx(ja,{size:18}):o.jsx(na,{size:18})})]})]}),r.confirmPassword&&o.jsx("p",{className:"text-red-500 text-xs mt-1 ml-1 font-medium",children:r.confirmPassword})]})]}),i&&o.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm text-center border border-red-100 font-medium",children:i}),o.jsx("div",{className:"flex justify-center mt-4",children:o.jsx("button",{type:"submit",disabled:d||!!r.firstName||!!r.lastName||!!r.email||!!r.phone||!!r.password||!!r.confirmPassword,className:"px-12 bg-[#083c79] text-white py-3.5 rounded-xl font-bold text-lg hover:bg-[#062a54] shadow-xl shadow-blue-900/20 transition-all flex items-center justify-center gap-2 transform active:scale-[0.99] border-2 border-transparent disabled:opacity-50 disabled:cursor-not-allowed",children:d?o.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(wt,{size:20}),"Registrarse"]})})})]})]}),o.jsx("div",{className:"pb-6 text-center",children:o.jsxs("p",{className:"text-gray-500 text-sm",children:["Â¿Ya tiene cuenta?"," ",o.jsx("button",{onClick:()=>a("/app/patient/login"),className:"text-[#083c79] font-bold hover:underline",children:"Inicie SesiÃ³n aquÃ­"})]})})]})]})},Do=({patientId:a,chatRoomId:n,isPremium:t,currentUserId:e,userName:r="Usuario",otherUserName:s="Doctor"})=>{const[i,l]=b.useState([]),[d,u]=b.useState(""),[c,p]=b.useState(!1),[f,m]=b.useState(!1),[h,v]=b.useState(!1),[g,D]=b.useState(""),k=b.useRef(null),C=b.useRef(null);b.useEffect(()=>{const w=zt(Je,"chatRooms",n,"messages"),E=pa(w,Bs("createdAt","asc")),L=Aa(E,async j=>{const P=j.docs.map(I=>({id:I.id,...I.data()}));l(P);for(const I of P)if(I.senderId!==e&&!I.read)try{const z=qr(Je,"chatRooms",n,"messages",I.id);await $s(z,{read:!0,readAt:ir()})}catch{}});return()=>L()},[n,e]),b.useEffect(()=>{const w=qr(Je,"chatRooms",n,"typing","status"),E=Aa(w,L=>{var j,P;if(L.exists()){const I=L.data();for(const[z,$]of Object.entries(I))if(z!==e&&$.isTyping){const W=(P=(j=$.lastUpdate)==null?void 0:j.toDate)==null?void 0:P.call(j);if(W&&Date.now()-W.getTime()<3e3){v(!0),D($.userName||s);return}}}v(!1)});return()=>E()},[n,e,s]);const M=b.useCallback(Hs(async w=>{try{const E=qr(Je,"chatRooms",n,"typing","status");await qs(E,{[e]:{isTyping:w,userName:r,lastUpdate:ir()}},{merge:!0})}catch{}},300),[n,e,r]);b.useEffect(()=>{var w;(w=k.current)==null||w.scrollIntoView({behavior:"smooth"})},[i]);const S=async()=>{if(!(!d.trim()||f)){m(!0);try{const w=zt(Je,"chatRooms",n,"messages");await Fa(w,{senderId:e,senderName:r,content:d.trim(),type:"text",createdAt:ir(),read:!1}),u(""),M(!1)}catch(w){console.error("Error sending message:",w),alert("Error al enviar el mensaje")}finally{m(!1)}}},F=async w=>{var L;const E=(L=w.target.files)==null?void 0:L[0];if(E){if(!t){p(!0),C.current&&(C.current.value=""),setTimeout(()=>p(!1),4e3);return}m(!0);try{const j=zs(Ws,`chat/${n}/${Date.now()}_${E.name}`),P=await Qs(j,E),I=await Vs(P.ref),z=zt(Je,"chatRooms",n,"messages");await Fa(z,{senderId:e,content:I,type:"image",createdAt:ir()}),C.current&&(C.current.value="")}catch(j){console.error("Upload failed",j),alert("Error al subir la imagen")}finally{m(!1)}}},A=w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),S())},_=w=>w?w.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return o.jsxs("div",{className:"flex flex-col h-[600px] w-full max-w-md mx-auto bg-white/80 dark:bg-neutral-900/80 backdrop-blur-xl border border-white/20 shadow-2xl rounded-3xl overflow-hidden font-sans relative",children:[o.jsx("div",{className:"px-6 py-4 bg-white/50 dark:bg-neutral-800/50 border-b border-neutral-200 dark:border-neutral-700 flex items-center justify-between backdrop-blur-md z-10",children:o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-neutral-800 dark:text-neutral-100 text-lg",children:"Chat MÃ©dico"}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),o.jsx("span",{className:"text-xs text-neutral-500 font-medium",children:"Conectado (Firestore)"})]})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600",children:[i.map(w=>{const E=w.senderId===e;return o.jsx(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:ie("flex w-full",E?"justify-end":"justify-start"),children:o.jsxs("div",{className:ie("max-w-[80%] px-4 py-2.5 rounded-2xl text-sm shadow-sm relative",E?"bg-gradient-to-br from-teal-600 to-blue-600 text-white rounded-br-none":"bg-gray-100 dark:bg-neutral-800 text-gray-800 dark:text-gray-200 rounded-bl-none"),children:[w.type==="image"?o.jsx("img",{src:w.content,alt:"Shared",className:"rounded-lg max-h-48 object-cover border border-white/20"}):o.jsx("p",{className:"leading-relaxed",children:w.content}),o.jsxs("div",{className:"flex items-center justify-end gap-1 mt-1",children:[o.jsx("span",{className:ie("text-[10px] opacity-70",E?"text-blue-100":"text-gray-400"),children:_(w.createdAt)}),E&&o.jsx("span",{className:"ml-1",children:w.read?o.jsx(Ms,{className:"w-3.5 h-3.5 text-blue-200"}):o.jsx(Ps,{className:"w-3.5 h-3.5 text-blue-200/50"})})]})]})},w.id)}),o.jsx("div",{ref:k}),o.jsx(Dt,{children:h&&o.jsxs(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"flex items-center gap-2 px-4 py-2",children:[o.jsxs("div",{className:"flex gap-1",children:[o.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),o.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),o.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),o.jsxs("span",{className:"text-xs text-gray-500 italic",children:[g," estÃ¡ escribiendo..."]})]})})]}),o.jsx(Dt,{children:c&&o.jsxs(Se.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:"absolute bottom-20 left-4 right-4 bg-white/90 dark:bg-neutral-800/90 backdrop-blur-md border border-red-100 dark:border-red-900/30 p-4 rounded-xl shadow-xl z-20 flex items-start gap-3",children:[o.jsx("div",{className:"p-2 bg-red-100 text-red-600 rounded-full shrink-0",children:o.jsx(Rn,{size:20})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"Funcionalidad Premium"}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Reserva tu cita y realiza el pago para compartir imÃ¡genes mÃ©dicas de alta resoluciÃ³n con tu doctor."})]}),o.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx($t,{size:16})})]})}),o.jsx("div",{className:"p-4 bg-white/50 dark:bg-neutral-900/50 backdrop-blur-md border-t border-neutral-200 dark:border-neutral-800",children:o.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-neutral-800 p-1.5 rounded-full border border-neutral-200 dark:border-neutral-700 shadow-sm focus-within:ring-2 focus-within:ring-blue-500/20 transition-all",children:[o.jsx("button",{onClick:()=>{var w;return(w=C.current)==null?void 0:w.click()},disabled:f,className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-full transition-colors disabled:opacity-50",title:"Adjuntar imagen",children:o.jsx(Es,{size:20})}),o.jsx("input",{type:"file",ref:C,className:"hidden",accept:"image/*",onChange:F}),o.jsx("input",{type:"text",value:d,onChange:w=>{u(w.target.value),M(w.target.value.length>0)},onKeyDown:A,onBlur:()=>M(!1),placeholder:"Escribe un mensaje...",disabled:f,className:"flex-1 bg-transparent border-none focus:ring-0 text-sm text-gray-800 dark:text-gray-200 placeholder-gray-400 disabled:opacity-50"}),o.jsx("button",{onClick:S,disabled:!d.trim()||f,className:"p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md hover:shadow-lg transform hover:scale-105 active:scale-95",children:o.jsx(Ts,{size:18})})]})})]})},No=({isOpen:a,onClose:n,appointment:t,patientId:e,customerEmail:r,customerName:s})=>{const[i,l]=b.useState("manual"),[d,u]=b.useState(!1),[c,p]=b.useState(null),[f,m]=b.useState(!1),h=async()=>{u(!0),p(null);try{if(i==="powertranz"||i==="tilopay"){p("Los pagos en lÃ­nea redirigirÃ¡n a la pÃ¡gina segura del banco. Por ahora, use Pago Manual."),u(!1);return}if(i==="manual"){m(!0),u(!1);return}}catch(g){console.error("Payment error:",g),p(g.message||"Error al procesar el pago. Intente nuevamente.")}finally{u(!1)}},v=async()=>{u(!0),p(null);try{await me.updateAppointment(t.id,{paymentStatus:"paid",paymentMethod:"manual",paidAt:new Date().toISOString(),paid:!0}),window.location.href="/app/patient/dashboard?payment=success"}catch(g){console.error("Manual payment error:",g),p("Error al confirmar el pago. Intente nuevamente."),u(!1)}};return a?o.jsx(Dt,{children:a&&o.jsxs("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4",children:[o.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,className:"absolute inset-0 bg-black/70 backdrop-blur-sm"}),o.jsxs(Se.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"relative w-full max-w-md bg-white rounded-3xl shadow-2xl overflow-hidden max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-32 bg-gradient-to-br from-blue-50 to-indigo-50 opacity-100"}),o.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 z-10 rounded-full hover:bg-white/50 transition-colors",children:o.jsx($t,{size:20})}),o.jsx("div",{className:"relative p-6 pt-8",children:f?o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-20 h-20 mx-auto bg-green-100 rounded-full flex items-center justify-center mb-6 text-green-600 shadow-sm border border-green-200",children:o.jsx(Vr,{size:40})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Confirmar Pago Manual"}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Â¿El paciente realizÃ³ el pago en efectivo o por transferencia?"}),o.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 mb-6",children:o.jsxs("p",{className:"text-amber-800 text-xs text-left",children:[o.jsx("strong",{children:"âš ï¸ Importante:"})," Solo confirme si el pago ya fue recibido. Esto activarÃ¡ el acceso a la consulta."]})}),o.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 text-left border border-gray-100 shadow-inner",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-xs text-gray-500 font-bold uppercase",children:"Monto"}),o.jsx("span",{className:"text-lg font-bold text-gray-900",children:"C$ 1,200.00"})]}),o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-xs text-gray-500 font-bold uppercase",children:"Fecha"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:t.date})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-xs text-gray-500 font-bold uppercase",children:"Hora"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:t.time})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>m(!1),className:"flex-1 py-3 bg-gray-100 text-gray-600 rounded-xl font-bold hover:bg-gray-200 transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:v,disabled:d,className:"flex-1 py-3 bg-green-600 text-white rounded-xl font-bold shadow-lg shadow-green-600/20 hover:bg-green-700 transition-all flex items-center justify-center gap-2",children:d?o.jsxs(o.Fragment,{children:[o.jsx(Sa,{className:"animate-spin",size:18}),"Confirmando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(In,{size:18}),"Confirmar Pago"]})})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 mx-auto bg-white rounded-full flex items-center justify-center mb-4 text-blue-600 shadow-md border border-blue-100",children:o.jsx(Ma,{size:32})}),o.jsx("h2",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Confirmar Consulta"}),o.jsx("div",{className:"text-4xl font-black text-gray-900 tracking-tight",children:"C$ 1,200.00"})]}),o.jsxs("div",{className:"bg-white rounded-xl p-4 mb-6 text-left border border-gray-100 shadow-sm",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-xs text-gray-500 font-bold uppercase",children:"Fecha"}),o.jsx("span",{className:"text-sm font-bold text-gray-900",children:t.date})]}),o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-xs text-gray-500 font-bold uppercase",children:"Hora"}),o.jsx("span",{className:"text-sm font-bold text-gray-900",children:t.time})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-xs text-gray-500 font-bold uppercase",children:"Tipo"}),o.jsx("span",{className:`text - sm font - bold ${t.type==="virtual"?"text-purple-600":"text-blue-600"} `,children:t.type==="virtual"?"ðŸ“¹ Virtual":"ðŸ¥ Presencial"})]})]}),o.jsxs("div",{className:"space-y-3 mb-6",children:[o.jsx("p",{className:"text-left text-xs font-bold text-gray-400 uppercase ml-1",children:"MÃ©todo de Pago"}),o.jsxs("label",{className:`flex items - center gap - 4 p - 4 rounded - xl border - 2 cursor - pointer transition - all ${i==="manual"?"border-green-500 bg-green-50":"border-gray-100 hover:border-gray-200 bg-gray-50"} `,children:[o.jsx("input",{type:"radio",name:"method",value:"manual",checked:i==="manual",onChange:()=>l("manual"),className:"hidden"}),o.jsx("div",{className:`w - 5 h - 5 rounded - full border - 2 flex items - center justify - center ${i==="manual"?"border-green-500":"border-gray-300"} `,children:i==="manual"&&o.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500"})}),o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o.jsx("div",{className:"p-2 bg-green-100 rounded-lg text-green-600",children:o.jsx(Vr,{size:20})}),o.jsxs("div",{className:"text-left flex-1",children:[o.jsx("p",{className:"font-bold text-gray-900 text-sm",children:"Pago Manual"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Efectivo, transferencia o depÃ³sito"})]}),o.jsx("span",{className:"text-xs text-green-700 font-bold bg-green-100 px-2 py-1 rounded",children:"Recomendado"})]})]}),o.jsxs("label",{className:`flex items - center gap - 4 p - 4 rounded - xl border - 2 cursor - pointer transition - all opacity - 60 ${i==="powertranz"?"border-blue-400 bg-blue-50":"border-gray-100 bg-gray-50"} `,children:[o.jsx("input",{type:"radio",name:"method",value:"powertranz",checked:i==="powertranz",onChange:()=>l("powertranz"),className:"hidden"}),o.jsx("div",{className:`w - 5 h - 5 rounded - full border - 2 flex items - center justify - center ${i==="powertranz"?"border-blue-400":"border-gray-300"} `,children:i==="powertranz"&&o.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-blue-400"})}),o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-lg text-blue-600",children:o.jsx(Pa,{size:20})}),o.jsxs("div",{className:"text-left flex-1",children:[o.jsx("p",{className:"font-bold text-gray-900 text-sm",children:"Tarjeta de CrÃ©dito/DÃ©bito"}),o.jsx("p",{className:"text-xs text-gray-500",children:"PrÃ³ximamente"})]}),o.jsx(Ea,{size:14,className:"text-gray-400"})]})]}),o.jsxs("label",{className:`flex items - center gap - 4 p - 4 rounded - xl border - 2 cursor - pointer transition - all opacity - 60 ${i==="tilopay"?"border-blue-400 bg-blue-50":"border-gray-100 bg-gray-50"} `,children:[o.jsx("input",{type:"radio",name:"method",value:"tilopay",checked:i==="tilopay",onChange:()=>l("tilopay"),className:"hidden"}),o.jsx("div",{className:`w - 5 h - 5 rounded - full border - 2 flex items - center justify - center ${i==="tilopay"?"border-blue-400":"border-gray-300"} `,children:i==="tilopay"&&o.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-blue-400"})}),o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg text-indigo-600",children:o.jsx(Pa,{size:20})}),o.jsxs("div",{className:"text-left flex-1",children:[o.jsx("p",{className:"font-bold text-gray-900 text-sm",children:"TiloPay"}),o.jsx("p",{className:"text-xs text-gray-500",children:"PrÃ³ximamente"})]}),o.jsx(Ea,{size:14,className:"text-gray-400"})]})]})]}),c&&o.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-xs rounded-lg flex items-center gap-2 border border-red-100",children:[o.jsx(Rn,{size:16}),c]}),o.jsx("button",{onClick:h,disabled:d,className:"w-full py-4 text-white rounded-xl font-bold shadow-lg transition-all transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-2 bg-gradient-to-r from-green-500 to-emerald-600 shadow-green-500/30 hover:shadow-green-500/50",children:d?o.jsxs(o.Fragment,{children:[o.jsx(Sa,{className:"animate-spin",size:20}),"Procesando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Vr,{size:18}),"Confirmar Pago"]})}),o.jsxs("p",{className:"mt-4 text-[10px] text-gray-400 flex items-center justify-center gap-1",children:[o.jsx(Ma,{size:12})," Pagos seguros y confiables"]})]})})]})]})}):null},Hn=6048e5,ko=864e5,Ir=6e4,Lr=36e5,Co=1e3,$a=Symbol.for("constructDateFrom");function J(a,n){return typeof a=="function"?a(n):a&&typeof a=="object"&&$a in a?a[$a](n):a instanceof Date?new a.constructor(n):new Date(n)}function Y(a,n){return J(n||a,a)}function Me(a,n,t){const e=Y(a,t==null?void 0:t.in);return isNaN(n)?J((t==null?void 0:t.in)||a,NaN):(n&&e.setDate(e.getDate()+n),e)}function Ee(a,n,t){const e=Y(a,t==null?void 0:t.in);if(isNaN(n))return J(a,NaN);if(!n)return e;const r=e.getDate(),s=J(a,e.getTime());s.setMonth(e.getMonth()+n+1,0);const i=s.getDate();return r>=i?s:(e.setFullYear(s.getFullYear(),s.getMonth(),r),e)}function Wn(a,n,t){return J(a,+Y(a)+n)}function _o(a,n,t){return Wn(a,n*Lr)}let jo={};function gt(){return jo}function Ue(a,n){var l,d,u,c;const t=gt(),e=(n==null?void 0:n.weekStartsOn)??((d=(l=n==null?void 0:n.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((c=(u=t.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,r=Y(a,n==null?void 0:n.in),s=r.getDay(),i=(s<e?7:0)+s-e;return r.setDate(r.getDate()-i),r.setHours(0,0,0,0),r}function _t(a,n){return Ue(a,{...n,weekStartsOn:1})}function Bn(a,n){const t=Y(a,n==null?void 0:n.in),e=t.getFullYear(),r=J(t,0);r.setFullYear(e+1,0,4),r.setHours(0,0,0,0);const s=_t(r),i=J(t,0);i.setFullYear(e,0,4),i.setHours(0,0,0,0);const l=_t(i);return t.getTime()>=s.getTime()?e+1:t.getTime()>=l.getTime()?e:e-1}function wr(a){const n=Y(a),t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),+a-+t}function Ge(a,...n){const t=J.bind(null,n.find(e=>typeof e=="object"));return n.map(t)}function mt(a,n){const t=Y(a,n==null?void 0:n.in);return t.setHours(0,0,0,0),t}function jt(a,n,t){const[e,r]=Ge(t==null?void 0:t.in,a,n),s=mt(e),i=mt(r),l=+s-wr(s),d=+i-wr(i);return Math.round((l-d)/ko)}function So(a,n){const t=Bn(a,n),e=J(a,0);return e.setFullYear(t,0,4),e.setHours(0,0,0,0),_t(e)}function Qt(a,n,t){const e=Y(a,t==null?void 0:t.in);return e.setTime(e.getTime()+n*Ir),e}function fa(a,n,t){return Ee(a,n*3,t)}function Mo(a,n,t){return Wn(a,n*1e3)}function Dr(a,n,t){return Me(a,n*7,t)}function Pe(a,n,t){return Ee(a,n*12,t)}function za(a,n){let t,e=n==null?void 0:n.in;return a.forEach(r=>{!e&&typeof r=="object"&&(e=J.bind(null,r));const s=Y(r,e);(!t||t<s||isNaN(+s))&&(t=s)}),J(e,t||NaN)}function Qa(a,n){let t,e=n==null?void 0:n.in;return a.forEach(r=>{!e&&typeof r=="object"&&(e=J.bind(null,r));const s=Y(r,e);(!t||t>s||isNaN(+s))&&(t=s)}),J(e,t||NaN)}function Po(a,n,t){const[e,r]=Ge(t==null?void 0:t.in,a,n);return+mt(e)==+mt(r)}function He(a){return a instanceof Date||typeof a=="object"&&Object.prototype.toString.call(a)==="[object Date]"}function St(a){return!(!He(a)&&typeof a!="number"||isNaN(+Y(a)))}function Nr(a,n,t){const[e,r]=Ge(t==null?void 0:t.in,a,n),s=e.getFullYear()-r.getFullYear(),i=e.getMonth()-r.getMonth();return s*12+i}function et(a,n){const t=Y(a,n==null?void 0:n.in);return Math.trunc(t.getMonth()/3)+1}function kr(a,n,t){const[e,r]=Ge(t==null?void 0:t.in,a,n),s=e.getFullYear()-r.getFullYear(),i=et(e)-et(r);return s*4+i}function Cr(a,n,t){const[e,r]=Ge(t==null?void 0:t.in,a,n);return e.getFullYear()-r.getFullYear()}function Eo(a,n,t){const[e,r]=Ge(t==null?void 0:t.in,a,n),s=Va(e,r),i=Math.abs(jt(e,r));e.setDate(e.getDate()-s*i);const l=+(Va(e,r)===-s),d=s*(i-l);return d===0?0:d}function Va(a,n){const t=a.getFullYear()-n.getFullYear()||a.getMonth()-n.getMonth()||a.getDate()-n.getDate()||a.getHours()-n.getHours()||a.getMinutes()-n.getMinutes()||a.getSeconds()-n.getSeconds()||a.getMilliseconds()-n.getMilliseconds();return t<0?-1:t>0?1:t}function $n(a,n){const t=Y(a,n==null?void 0:n.in);return t.setHours(23,59,59,999),t}function zn(a,n){const t=Y(a,n==null?void 0:n.in),e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(23,59,59,999),t}function oa(a,n){const t=Y(a,n==null?void 0:n.in),e=t.getMonth(),r=e-e%3;return t.setMonth(r,1),t.setHours(0,0,0,0),t}function Qn(a,n){const t=Y(a,n==null?void 0:n.in);return t.setDate(1),t.setHours(0,0,0,0),t}function Vn(a,n){const t=Y(a,n==null?void 0:n.in),e=t.getFullYear();return t.setFullYear(e+1,0,0),t.setHours(23,59,59,999),t}function Yr(a,n){const t=Y(a,n==null?void 0:n.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function To(a,n){var l,d;const t=gt(),e=t.weekStartsOn??((d=(l=t.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??0,r=Y(a,n==null?void 0:n.in),s=r.getDay(),i=(s<e?-7:0)+6-(s-e);return r.setDate(r.getDate()+i),r.setHours(23,59,59,999),r}const Oo={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ro=(a,n,t)=>{let e;const r=Oo[a];return typeof r=="string"?e=r:n===1?e=r.one:e=r.other.replace("{{count}}",n.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+e:e+" ago":e};function Nt(a){return(n={})=>{const t=n.width?String(n.width):a.defaultWidth;return a.formats[t]||a.formats[a.defaultWidth]}}const Io={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Lo={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Yo={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ao={date:Nt({formats:Io,defaultWidth:"full"}),time:Nt({formats:Lo,defaultWidth:"full"}),dateTime:Nt({formats:Yo,defaultWidth:"full"})},Fo={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ho=(a,n,t,e)=>Fo[a];function Re(a){return(n,t)=>{const e=t!=null&&t.context?String(t.context):"standalone";let r;if(e==="formatting"&&a.formattingValues){const i=a.defaultFormattingWidth||a.defaultWidth,l=t!=null&&t.width?String(t.width):i;r=a.formattingValues[l]||a.formattingValues[i]}else{const i=a.defaultWidth,l=t!=null&&t.width?String(t.width):a.defaultWidth;r=a.values[l]||a.values[i]}const s=a.argumentCallback?a.argumentCallback(n):n;return r[s]}}const Wo={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Bo={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$o={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},zo={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Qo={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Vo={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qo=(a,n)=>{const t=Number(a),e=t%100;if(e>20||e<10)switch(e%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Ko={ordinalNumber:qo,era:Re({values:Wo,defaultWidth:"wide"}),quarter:Re({values:Bo,defaultWidth:"wide",argumentCallback:a=>a-1}),month:Re({values:$o,defaultWidth:"wide"}),day:Re({values:zo,defaultWidth:"wide"}),dayPeriod:Re({values:Qo,defaultWidth:"wide",formattingValues:Vo,defaultFormattingWidth:"wide"})};function Ie(a){return(n,t={})=>{const e=t.width,r=e&&a.matchPatterns[e]||a.matchPatterns[a.defaultMatchWidth],s=n.match(r);if(!s)return null;const i=s[0],l=e&&a.parsePatterns[e]||a.parsePatterns[a.defaultParseWidth],d=Array.isArray(l)?Go(l,p=>p.test(i)):Uo(l,p=>p.test(i));let u;u=a.valueCallback?a.valueCallback(d):d,u=t.valueCallback?t.valueCallback(u):u;const c=n.slice(i.length);return{value:u,rest:c}}}function Uo(a,n){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t)&&n(a[t]))return t}function Go(a,n){for(let t=0;t<a.length;t++)if(n(a[t]))return t}function qn(a){return(n,t={})=>{const e=n.match(a.matchPattern);if(!e)return null;const r=e[0],s=n.match(a.parsePattern);if(!s)return null;let i=a.valueCallback?a.valueCallback(s[0]):s[0];i=t.valueCallback?t.valueCallback(i):i;const l=n.slice(r.length);return{value:i,rest:l}}}const Xo=/^(\d+)(th|st|nd|rd)?/i,Zo=/\d+/i,Jo={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ei={any:[/^b/i,/^(a|c)/i]},ti={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ri={any:[/1/i,/2/i,/3/i,/4/i]},ai={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ni={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},si={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},oi={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ii={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},li={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ci={ordinalNumber:qn({matchPattern:Xo,parsePattern:Zo,valueCallback:a=>parseInt(a,10)}),era:Ie({matchPatterns:Jo,defaultMatchWidth:"wide",parsePatterns:ei,defaultParseWidth:"any"}),quarter:Ie({matchPatterns:ti,defaultMatchWidth:"wide",parsePatterns:ri,defaultParseWidth:"any",valueCallback:a=>a+1}),month:Ie({matchPatterns:ai,defaultMatchWidth:"wide",parsePatterns:ni,defaultParseWidth:"any"}),day:Ie({matchPatterns:si,defaultMatchWidth:"wide",parsePatterns:oi,defaultParseWidth:"any"}),dayPeriod:Ie({matchPatterns:ii,defaultMatchWidth:"any",parsePatterns:li,defaultParseWidth:"any"})},Kn={code:"en-US",formatDistance:Ro,formatLong:Ao,formatRelative:Ho,localize:Ko,match:ci,options:{weekStartsOn:0,firstWeekContainsDate:1}};function di(a,n){const t=Y(a,n==null?void 0:n.in);return jt(t,Yr(t))+1}function ma(a,n){const t=Y(a,n==null?void 0:n.in),e=+_t(t)-+So(t);return Math.round(e/Hn)+1}function ha(a,n){var c,p,f,m;const t=Y(a,n==null?void 0:n.in),e=t.getFullYear(),r=gt(),s=(n==null?void 0:n.firstWeekContainsDate)??((p=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:p.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,i=J((n==null?void 0:n.in)||a,0);i.setFullYear(e+1,0,s),i.setHours(0,0,0,0);const l=Ue(i,n),d=J((n==null?void 0:n.in)||a,0);d.setFullYear(e,0,s),d.setHours(0,0,0,0);const u=Ue(d,n);return+t>=+l?e+1:+t>=+u?e:e-1}function ui(a,n){var l,d,u,c;const t=gt(),e=(n==null?void 0:n.firstWeekContainsDate)??((d=(l=n==null?void 0:n.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((c=(u=t.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,r=ha(a,n),s=J((n==null?void 0:n.in)||a,0);return s.setFullYear(r,0,e),s.setHours(0,0,0,0),Ue(s,n)}function Un(a,n){const t=Y(a,n==null?void 0:n.in),e=+Ue(t,n)-+ui(t,n);return Math.round(e/Hn)+1}function Z(a,n){const t=a<0?"-":"",e=Math.abs(a).toString().padStart(n,"0");return t+e}const Xe={y(a,n){const t=a.getFullYear(),e=t>0?t:1-t;return Z(n==="yy"?e%100:e,n.length)},M(a,n){const t=a.getMonth();return n==="M"?String(t+1):Z(t+1,2)},d(a,n){return Z(a.getDate(),n.length)},a(a,n){const t=a.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(a,n){return Z(a.getHours()%12||12,n.length)},H(a,n){return Z(a.getHours(),n.length)},m(a,n){return Z(a.getMinutes(),n.length)},s(a,n){return Z(a.getSeconds(),n.length)},S(a,n){const t=n.length,e=a.getMilliseconds(),r=Math.trunc(e*Math.pow(10,t-3));return Z(r,n.length)}},xt={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qa={G:function(a,n,t){const e=a.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return t.era(e,{width:"abbreviated"});case"GGGGG":return t.era(e,{width:"narrow"});case"GGGG":default:return t.era(e,{width:"wide"})}},y:function(a,n,t){if(n==="yo"){const e=a.getFullYear(),r=e>0?e:1-e;return t.ordinalNumber(r,{unit:"year"})}return Xe.y(a,n)},Y:function(a,n,t,e){const r=ha(a,e),s=r>0?r:1-r;if(n==="YY"){const i=s%100;return Z(i,2)}return n==="Yo"?t.ordinalNumber(s,{unit:"year"}):Z(s,n.length)},R:function(a,n){const t=Bn(a);return Z(t,n.length)},u:function(a,n){const t=a.getFullYear();return Z(t,n.length)},Q:function(a,n,t){const e=Math.ceil((a.getMonth()+1)/3);switch(n){case"Q":return String(e);case"QQ":return Z(e,2);case"Qo":return t.ordinalNumber(e,{unit:"quarter"});case"QQQ":return t.quarter(e,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(e,{width:"wide",context:"formatting"})}},q:function(a,n,t){const e=Math.ceil((a.getMonth()+1)/3);switch(n){case"q":return String(e);case"qq":return Z(e,2);case"qo":return t.ordinalNumber(e,{unit:"quarter"});case"qqq":return t.quarter(e,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(e,{width:"wide",context:"standalone"})}},M:function(a,n,t){const e=a.getMonth();switch(n){case"M":case"MM":return Xe.M(a,n);case"Mo":return t.ordinalNumber(e+1,{unit:"month"});case"MMM":return t.month(e,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(e,{width:"wide",context:"formatting"})}},L:function(a,n,t){const e=a.getMonth();switch(n){case"L":return String(e+1);case"LL":return Z(e+1,2);case"Lo":return t.ordinalNumber(e+1,{unit:"month"});case"LLL":return t.month(e,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(e,{width:"wide",context:"standalone"})}},w:function(a,n,t,e){const r=Un(a,e);return n==="wo"?t.ordinalNumber(r,{unit:"week"}):Z(r,n.length)},I:function(a,n,t){const e=ma(a);return n==="Io"?t.ordinalNumber(e,{unit:"week"}):Z(e,n.length)},d:function(a,n,t){return n==="do"?t.ordinalNumber(a.getDate(),{unit:"date"}):Xe.d(a,n)},D:function(a,n,t){const e=di(a);return n==="Do"?t.ordinalNumber(e,{unit:"dayOfYear"}):Z(e,n.length)},E:function(a,n,t){const e=a.getDay();switch(n){case"E":case"EE":case"EEE":return t.day(e,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(e,{width:"short",context:"formatting"});case"EEEE":default:return t.day(e,{width:"wide",context:"formatting"})}},e:function(a,n,t,e){const r=a.getDay(),s=(r-e.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return Z(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(r,{width:"short",context:"formatting"});case"eeee":default:return t.day(r,{width:"wide",context:"formatting"})}},c:function(a,n,t,e){const r=a.getDay(),s=(r-e.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return Z(s,n.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(r,{width:"narrow",context:"standalone"});case"cccccc":return t.day(r,{width:"short",context:"standalone"});case"cccc":default:return t.day(r,{width:"wide",context:"standalone"})}},i:function(a,n,t){const e=a.getDay(),r=e===0?7:e;switch(n){case"i":return String(r);case"ii":return Z(r,n.length);case"io":return t.ordinalNumber(r,{unit:"day"});case"iii":return t.day(e,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(e,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(e,{width:"short",context:"formatting"});case"iiii":default:return t.day(e,{width:"wide",context:"formatting"})}},a:function(a,n,t){const r=a.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(a,n,t){const e=a.getHours();let r;switch(e===12?r=xt.noon:e===0?r=xt.midnight:r=e/12>=1?"pm":"am",n){case"b":case"bb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(a,n,t){const e=a.getHours();let r;switch(e>=17?r=xt.evening:e>=12?r=xt.afternoon:e>=4?r=xt.morning:r=xt.night,n){case"B":case"BB":case"BBB":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(a,n,t){if(n==="ho"){let e=a.getHours()%12;return e===0&&(e=12),t.ordinalNumber(e,{unit:"hour"})}return Xe.h(a,n)},H:function(a,n,t){return n==="Ho"?t.ordinalNumber(a.getHours(),{unit:"hour"}):Xe.H(a,n)},K:function(a,n,t){const e=a.getHours()%12;return n==="Ko"?t.ordinalNumber(e,{unit:"hour"}):Z(e,n.length)},k:function(a,n,t){let e=a.getHours();return e===0&&(e=24),n==="ko"?t.ordinalNumber(e,{unit:"hour"}):Z(e,n.length)},m:function(a,n,t){return n==="mo"?t.ordinalNumber(a.getMinutes(),{unit:"minute"}):Xe.m(a,n)},s:function(a,n,t){return n==="so"?t.ordinalNumber(a.getSeconds(),{unit:"second"}):Xe.s(a,n)},S:function(a,n){return Xe.S(a,n)},X:function(a,n,t){const e=a.getTimezoneOffset();if(e===0)return"Z";switch(n){case"X":return Ua(e);case"XXXX":case"XX":return it(e);case"XXXXX":case"XXX":default:return it(e,":")}},x:function(a,n,t){const e=a.getTimezoneOffset();switch(n){case"x":return Ua(e);case"xxxx":case"xx":return it(e);case"xxxxx":case"xxx":default:return it(e,":")}},O:function(a,n,t){const e=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Ka(e,":");case"OOOO":default:return"GMT"+it(e,":")}},z:function(a,n,t){const e=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Ka(e,":");case"zzzz":default:return"GMT"+it(e,":")}},t:function(a,n,t){const e=Math.trunc(+a/1e3);return Z(e,n.length)},T:function(a,n,t){return Z(+a,n.length)}};function Ka(a,n=""){const t=a>0?"-":"+",e=Math.abs(a),r=Math.trunc(e/60),s=e%60;return s===0?t+String(r):t+String(r)+n+Z(s,2)}function Ua(a,n){return a%60===0?(a>0?"-":"+")+Z(Math.abs(a)/60,2):it(a,n)}function it(a,n=""){const t=a>0?"-":"+",e=Math.abs(a),r=Z(Math.trunc(e/60),2),s=Z(e%60,2);return t+r+n+s}const Ga=(a,n)=>{switch(a){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Gn=(a,n)=>{switch(a){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},pi=(a,n)=>{const t=a.match(/(P+)(p+)?/)||[],e=t[1],r=t[2];if(!r)return Ga(a,n);let s;switch(e){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",Ga(e,n)).replace("{{time}}",Gn(r,n))},ia={p:Gn,P:pi},fi=/^D+$/,mi=/^Y+$/,hi=["D","DD","YY","YYYY"];function gi(a){return fi.test(a)}function vi(a){return mi.test(a)}function xi(a,n,t){const e=bi(a,n,t);if(console.warn(e),hi.includes(a))throw new RangeError(e)}function bi(a,n,t){const e=a[0]==="Y"?"years":"days of the month";return`Use \`${a.toLowerCase()}\` instead of \`${a}\` (in \`${n}\`) for formatting ${e} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yi=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wi=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Di=/^'([^]*?)'?$/,Ni=/''/g,ki=/[a-zA-Z]/;function Xa(a,n,t){var c,p,f,m,h,v,g,D;const e=gt(),r=(t==null?void 0:t.locale)??e.locale??Kn,s=(t==null?void 0:t.firstWeekContainsDate)??((p=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:p.firstWeekContainsDate)??e.firstWeekContainsDate??((m=(f=e.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,i=(t==null?void 0:t.weekStartsOn)??((v=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:v.weekStartsOn)??e.weekStartsOn??((D=(g=e.locale)==null?void 0:g.options)==null?void 0:D.weekStartsOn)??0,l=Y(a,t==null?void 0:t.in);if(!St(l))throw new RangeError("Invalid time value");let d=n.match(wi).map(k=>{const C=k[0];if(C==="p"||C==="P"){const M=ia[C];return M(k,r.formatLong)}return k}).join("").match(yi).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const C=k[0];if(C==="'")return{isToken:!1,value:Ci(k)};if(qa[C])return{isToken:!0,value:k};if(C.match(ki))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:k}});r.localize.preprocessor&&(d=r.localize.preprocessor(l,d));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:r};return d.map(k=>{if(!k.isToken)return k.value;const C=k.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&vi(C)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&gi(C))&&xi(C,n,String(a));const M=qa[C[0]];return M(l,C,r.localize,u)}).join("")}function Ci(a){const n=a.match(Di);return n?n[1].replace(Ni,"'"):a}function Za(a,n){return Y(a,n==null?void 0:n.in).getDate()}function _i(a,n){return Y(a,n==null?void 0:n.in).getDay()}function ji(a,n){const t=Y(a,n==null?void 0:n.in),e=t.getFullYear(),r=t.getMonth(),s=J(t,0);return s.setFullYear(e,r+1,0),s.setHours(0,0,0,0),s.getDate()}function Si(){return Object.assign({},gt())}function ve(a,n){return Y(a,n==null?void 0:n.in).getHours()}function Mi(a,n){const t=Y(a,n==null?void 0:n.in).getDay();return t===0?7:t}function xe(a,n){return Y(a,n==null?void 0:n.in).getMinutes()}function Ne(a,n){return Y(a,n==null?void 0:n.in).getMonth()}function tt(a){return Y(a).getSeconds()}function la(a){return+Y(a)}function q(a,n){return Y(a,n==null?void 0:n.in).getFullYear()}function qe(a,n){return+Y(a)>+Y(n)}function Ae(a,n){return+Y(a)<+Y(n)}function Pi(a,n){return+Y(a)==+Y(n)}function Ei(a,n){const t=Ti(n)?new n(0):J(n,0);return t.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),t.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()),t}function Ti(a){var n;return typeof a=="function"&&((n=a.prototype)==null?void 0:n.constructor)===a}const Oi=10;class Xn{constructor(){R(this,"subPriority",0)}validate(n,t){return!0}}class Ri extends Xn{constructor(n,t,e,r,s){super(),this.value=n,this.validateValue=t,this.setValue=e,this.priority=r,s&&(this.subPriority=s)}validate(n,t){return this.validateValue(n,this.value,t)}set(n,t,e){return this.setValue(n,t,this.value,e)}}class Ii extends Xn{constructor(t,e){super();R(this,"priority",Oi);R(this,"subPriority",-1);this.context=t||(r=>J(e,r))}set(t,e){return e.timestampIsSet?t:J(t,Ei(t,this.context))}}class X{run(n,t,e,r){const s=this.parse(n,t,e,r);return s?{setter:new Ri(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(n,t,e){return!0}}class Li extends X{constructor(){super(...arguments);R(this,"priority",140);R(this,"incompatibleTokens",["R","u","t","T"])}parse(t,e,r){switch(e){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"});case"GGGGG":return r.era(t,{width:"narrow"});case"GGGG":default:return r.era(t,{width:"wide"})||r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"})}}set(t,e,r){return e.era=r,t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}}const de={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Le={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ue(a,n){return a&&{value:n(a.value),rest:a.rest}}function oe(a,n){const t=n.match(a);return t?{value:parseInt(t[0],10),rest:n.slice(t[0].length)}:null}function Ye(a,n){const t=n.match(a);if(!t)return null;if(t[0]==="Z")return{value:0,rest:n.slice(1)};const e=t[1]==="+"?1:-1,r=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,i=t[5]?parseInt(t[5],10):0;return{value:e*(r*Lr+s*Ir+i*Co),rest:n.slice(t[0].length)}}function Zn(a){return oe(de.anyDigitsSigned,a)}function le(a,n){switch(a){case 1:return oe(de.singleDigit,n);case 2:return oe(de.twoDigits,n);case 3:return oe(de.threeDigits,n);case 4:return oe(de.fourDigits,n);default:return oe(new RegExp("^\\d{1,"+a+"}"),n)}}function _r(a,n){switch(a){case 1:return oe(de.singleDigitSigned,n);case 2:return oe(de.twoDigitsSigned,n);case 3:return oe(de.threeDigitsSigned,n);case 4:return oe(de.fourDigitsSigned,n);default:return oe(new RegExp("^-?\\d{1,"+a+"}"),n)}}function ga(a){switch(a){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Jn(a,n){const t=n>0,e=t?n:1-n;let r;if(e<=50)r=a||100;else{const s=e+50,i=Math.trunc(s/100)*100,l=a>=s%100;r=a+i-(l?100:0)}return t?r:1-r}function es(a){return a%400===0||a%4===0&&a%100!==0}class Yi extends X{constructor(){super(...arguments);R(this,"priority",130);R(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,e,r){const s=i=>({year:i,isTwoDigitYear:e==="yy"});switch(e){case"y":return ue(le(4,t),s);case"yo":return ue(r.ordinalNumber(t,{unit:"year"}),s);default:return ue(le(e.length,t),s)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,r){const s=t.getFullYear();if(r.isTwoDigitYear){const l=Jn(r.year,s);return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}const i=!("era"in e)||e.era===1?r.year:1-r.year;return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class Ai extends X{constructor(){super(...arguments);R(this,"priority",130);R(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,e,r){const s=i=>({year:i,isTwoDigitYear:e==="YY"});switch(e){case"Y":return ue(le(4,t),s);case"Yo":return ue(r.ordinalNumber(t,{unit:"year"}),s);default:return ue(le(e.length,t),s)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,r,s){const i=ha(t,s);if(r.isTwoDigitYear){const d=Jn(r.year,i);return t.setFullYear(d,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Ue(t,s)}const l=!("era"in e)||e.era===1?r.year:1-r.year;return t.setFullYear(l,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Ue(t,s)}}class Fi extends X{constructor(){super(...arguments);R(this,"priority",130);R(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,e){return _r(e==="R"?4:e.length,t)}set(t,e,r){const s=J(t,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),_t(s)}}class Hi extends X{constructor(){super(...arguments);R(this,"priority",130);R(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,e){return _r(e==="u"?4:e.length,t)}set(t,e,r){return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}}class Wi extends X{constructor(){super(...arguments);R(this,"priority",120);R(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,e,r){switch(e){case"Q":case"QQ":return le(e.length,t);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(t,{width:"wide",context:"formatting"})||r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=1&&e<=4}set(t,e,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}}class Bi extends X{constructor(){super(...arguments);R(this,"priority",120);R(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,e,r){switch(e){case"q":case"qq":return le(e.length,t);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(t,{width:"wide",context:"standalone"})||r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=1&&e<=4}set(t,e,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}}class $i extends X{constructor(){super(...arguments);R(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);R(this,"priority",110)}parse(t,e,r){const s=i=>i-1;switch(e){case"M":return ue(oe(de.month,t),s);case"MM":return ue(le(2,t),s);case"Mo":return ue(r.ordinalNumber(t,{unit:"month"}),s);case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(t,{width:"wide",context:"formatting"})||r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=11}set(t,e,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}}class zi extends X{constructor(){super(...arguments);R(this,"priority",110);R(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,e,r){const s=i=>i-1;switch(e){case"L":return ue(oe(de.month,t),s);case"LL":return ue(le(2,t),s);case"Lo":return ue(r.ordinalNumber(t,{unit:"month"}),s);case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(t,{width:"wide",context:"standalone"})||r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=11}set(t,e,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}}function Qi(a,n,t){const e=Y(a,t==null?void 0:t.in),r=Un(e,t)-n;return e.setDate(e.getDate()-r*7),Y(e,t==null?void 0:t.in)}class Vi extends X{constructor(){super(...arguments);R(this,"priority",100);R(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,e,r){switch(e){case"w":return oe(de.week,t);case"wo":return r.ordinalNumber(t,{unit:"week"});default:return le(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,r,s){return Ue(Qi(t,r,s),s)}}function qi(a,n,t){const e=Y(a,t==null?void 0:t.in),r=ma(e,t)-n;return e.setDate(e.getDate()-r*7),e}class Ki extends X{constructor(){super(...arguments);R(this,"priority",100);R(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,e,r){switch(e){case"I":return oe(de.week,t);case"Io":return r.ordinalNumber(t,{unit:"week"});default:return le(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,r){return _t(qi(t,r))}}const Ui=[31,28,31,30,31,30,31,31,30,31,30,31],Gi=[31,29,31,30,31,30,31,31,30,31,30,31];class Xi extends X{constructor(){super(...arguments);R(this,"priority",90);R(this,"subPriority",1);R(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,e,r){switch(e){case"d":return oe(de.date,t);case"do":return r.ordinalNumber(t,{unit:"date"});default:return le(e.length,t)}}validate(t,e){const r=t.getFullYear(),s=es(r),i=t.getMonth();return s?e>=1&&e<=Gi[i]:e>=1&&e<=Ui[i]}set(t,e,r){return t.setDate(r),t.setHours(0,0,0,0),t}}class Zi extends X{constructor(){super(...arguments);R(this,"priority",90);R(this,"subpriority",1);R(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,e,r){switch(e){case"D":case"DD":return oe(de.dayOfYear,t);case"Do":return r.ordinalNumber(t,{unit:"date"});default:return le(e.length,t)}}validate(t,e){const r=t.getFullYear();return es(r)?e>=1&&e<=366:e>=1&&e<=365}set(t,e,r){return t.setMonth(0,r),t.setHours(0,0,0,0),t}}function va(a,n,t){var p,f,m,h;const e=gt(),r=(t==null?void 0:t.weekStartsOn)??((f=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:f.weekStartsOn)??e.weekStartsOn??((h=(m=e.locale)==null?void 0:m.options)==null?void 0:h.weekStartsOn)??0,s=Y(a,t==null?void 0:t.in),i=s.getDay(),d=(n%7+7)%7,u=7-r,c=n<0||n>6?n-(i+u)%7:(d+u)%7-(i+u)%7;return Me(s,c,t)}class Ji extends X{constructor(){super(...arguments);R(this,"priority",90);R(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,e,r){switch(e){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,r,s){return t=va(t,r,s),t.setHours(0,0,0,0),t}}class el extends X{constructor(){super(...arguments);R(this,"priority",90);R(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,e,r,s){const i=l=>{const d=Math.floor((l-1)/7)*7;return(l+s.weekStartsOn+6)%7+d};switch(e){case"e":case"ee":return ue(le(e.length,t),i);case"eo":return ue(r.ordinalNumber(t,{unit:"day"}),i);case"eee":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeeee":return r.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,r,s){return t=va(t,r,s),t.setHours(0,0,0,0),t}}class tl extends X{constructor(){super(...arguments);R(this,"priority",90);R(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,e,r,s){const i=l=>{const d=Math.floor((l-1)/7)*7;return(l+s.weekStartsOn+6)%7+d};switch(e){case"c":case"cc":return ue(le(e.length,t),i);case"co":return ue(r.ordinalNumber(t,{unit:"day"}),i);case"ccc":return r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"ccccc":return r.day(t,{width:"narrow",context:"standalone"});case"cccccc":return r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(t,{width:"wide",context:"standalone"})||r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=6}set(t,e,r,s){return t=va(t,r,s),t.setHours(0,0,0,0),t}}function rl(a,n,t){const e=Y(a,t==null?void 0:t.in),r=Mi(e,t),s=n-r;return Me(e,s,t)}class al extends X{constructor(){super(...arguments);R(this,"priority",90);R(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,e,r){const s=i=>i===0?7:i;switch(e){case"i":case"ii":return le(e.length,t);case"io":return r.ordinalNumber(t,{unit:"day"});case"iii":return ue(r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),s);case"iiiii":return ue(r.day(t,{width:"narrow",context:"formatting"}),s);case"iiiiii":return ue(r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),s);case"iiii":default:return ue(r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),s)}}validate(t,e){return e>=1&&e<=7}set(t,e,r){return t=rl(t,r),t.setHours(0,0,0,0),t}}class nl extends X{constructor(){super(...arguments);R(this,"priority",80);R(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,e,r){switch(e){case"a":case"aa":case"aaa":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,r){return t.setHours(ga(r),0,0,0),t}}class sl extends X{constructor(){super(...arguments);R(this,"priority",80);R(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,e,r){switch(e){case"b":case"bb":case"bbb":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,r){return t.setHours(ga(r),0,0,0),t}}class ol extends X{constructor(){super(...arguments);R(this,"priority",80);R(this,"incompatibleTokens",["a","b","t","T"])}parse(t,e,r){switch(e){case"B":case"BB":case"BBB":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,r){return t.setHours(ga(r),0,0,0),t}}class il extends X{constructor(){super(...arguments);R(this,"priority",70);R(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,e,r){switch(e){case"h":return oe(de.hour12h,t);case"ho":return r.ordinalNumber(t,{unit:"hour"});default:return le(e.length,t)}}validate(t,e){return e>=1&&e<=12}set(t,e,r){const s=t.getHours()>=12;return s&&r<12?t.setHours(r+12,0,0,0):!s&&r===12?t.setHours(0,0,0,0):t.setHours(r,0,0,0),t}}class ll extends X{constructor(){super(...arguments);R(this,"priority",70);R(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,e,r){switch(e){case"H":return oe(de.hour23h,t);case"Ho":return r.ordinalNumber(t,{unit:"hour"});default:return le(e.length,t)}}validate(t,e){return e>=0&&e<=23}set(t,e,r){return t.setHours(r,0,0,0),t}}class cl extends X{constructor(){super(...arguments);R(this,"priority",70);R(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,e,r){switch(e){case"K":return oe(de.hour11h,t);case"Ko":return r.ordinalNumber(t,{unit:"hour"});default:return le(e.length,t)}}validate(t,e){return e>=0&&e<=11}set(t,e,r){return t.getHours()>=12&&r<12?t.setHours(r+12,0,0,0):t.setHours(r,0,0,0),t}}class dl extends X{constructor(){super(...arguments);R(this,"priority",70);R(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,e,r){switch(e){case"k":return oe(de.hour24h,t);case"ko":return r.ordinalNumber(t,{unit:"hour"});default:return le(e.length,t)}}validate(t,e){return e>=1&&e<=24}set(t,e,r){const s=r<=24?r%24:r;return t.setHours(s,0,0,0),t}}class ul extends X{constructor(){super(...arguments);R(this,"priority",60);R(this,"incompatibleTokens",["t","T"])}parse(t,e,r){switch(e){case"m":return oe(de.minute,t);case"mo":return r.ordinalNumber(t,{unit:"minute"});default:return le(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,r){return t.setMinutes(r,0,0),t}}class pl extends X{constructor(){super(...arguments);R(this,"priority",50);R(this,"incompatibleTokens",["t","T"])}parse(t,e,r){switch(e){case"s":return oe(de.second,t);case"so":return r.ordinalNumber(t,{unit:"second"});default:return le(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,r){return t.setSeconds(r,0),t}}class fl extends X{constructor(){super(...arguments);R(this,"priority",30);R(this,"incompatibleTokens",["t","T"])}parse(t,e){const r=s=>Math.trunc(s*Math.pow(10,-e.length+3));return ue(le(e.length,t),r)}set(t,e,r){return t.setMilliseconds(r),t}}class ml extends X{constructor(){super(...arguments);R(this,"priority",10);R(this,"incompatibleTokens",["t","T","x"])}parse(t,e){switch(e){case"X":return Ye(Le.basicOptionalMinutes,t);case"XX":return Ye(Le.basic,t);case"XXXX":return Ye(Le.basicOptionalSeconds,t);case"XXXXX":return Ye(Le.extendedOptionalSeconds,t);case"XXX":default:return Ye(Le.extended,t)}}set(t,e,r){return e.timestampIsSet?t:J(t,t.getTime()-wr(t)-r)}}class hl extends X{constructor(){super(...arguments);R(this,"priority",10);R(this,"incompatibleTokens",["t","T","X"])}parse(t,e){switch(e){case"x":return Ye(Le.basicOptionalMinutes,t);case"xx":return Ye(Le.basic,t);case"xxxx":return Ye(Le.basicOptionalSeconds,t);case"xxxxx":return Ye(Le.extendedOptionalSeconds,t);case"xxx":default:return Ye(Le.extended,t)}}set(t,e,r){return e.timestampIsSet?t:J(t,t.getTime()-wr(t)-r)}}class gl extends X{constructor(){super(...arguments);R(this,"priority",40);R(this,"incompatibleTokens","*")}parse(t){return Zn(t)}set(t,e,r){return[J(t,r*1e3),{timestampIsSet:!0}]}}class vl extends X{constructor(){super(...arguments);R(this,"priority",20);R(this,"incompatibleTokens","*")}parse(t){return Zn(t)}set(t,e,r){return[J(t,r),{timestampIsSet:!0}]}}const xl={G:new Li,y:new Yi,Y:new Ai,R:new Fi,u:new Hi,Q:new Wi,q:new Bi,M:new $i,L:new zi,w:new Vi,I:new Ki,d:new Xi,D:new Zi,E:new Ji,e:new el,c:new tl,i:new al,a:new nl,b:new sl,B:new ol,h:new il,H:new ll,K:new cl,k:new dl,m:new ul,s:new pl,S:new fl,X:new ml,x:new hl,t:new gl,T:new vl},bl=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yl=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wl=/^'([^]*?)'?$/,Dl=/''/g,Nl=/\S/,kl=/[a-zA-Z]/;function Cl(a,n,t,e){var g,D,k,C,M,S,F,A;const r=()=>J((e==null?void 0:e.in)||t,NaN),s=Si(),i=(e==null?void 0:e.locale)??s.locale??Kn,l=(e==null?void 0:e.firstWeekContainsDate)??((D=(g=e==null?void 0:e.locale)==null?void 0:g.options)==null?void 0:D.firstWeekContainsDate)??s.firstWeekContainsDate??((C=(k=s.locale)==null?void 0:k.options)==null?void 0:C.firstWeekContainsDate)??1,d=(e==null?void 0:e.weekStartsOn)??((S=(M=e==null?void 0:e.locale)==null?void 0:M.options)==null?void 0:S.weekStartsOn)??s.weekStartsOn??((A=(F=s.locale)==null?void 0:F.options)==null?void 0:A.weekStartsOn)??0;if(!n)return a?r():Y(t,e==null?void 0:e.in);const u={firstWeekContainsDate:l,weekStartsOn:d,locale:i},c=[new Ii(e==null?void 0:e.in,t)],p=n.match(yl).map(_=>{const w=_[0];if(w in ia){const E=ia[w];return E(_,i.formatLong)}return _}).join("").match(bl),f=[];for(let _ of p){const w=_[0],E=xl[w];if(E){const{incompatibleTokens:L}=E;if(Array.isArray(L)){const P=f.find(I=>L.includes(I.token)||I.token===w);if(P)throw new RangeError(`The format string mustn't contain \`${P.fullToken}\` and \`${_}\` at the same time`)}else if(E.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${_}\` and any other token at the same time`);f.push({token:w,fullToken:_});const j=E.run(a,_,i.match,u);if(!j)return r();c.push(j.setter),a=j.rest}else{if(w.match(kl))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");if(_==="''"?_="'":w==="'"&&(_=_l(_)),a.indexOf(_)===0)a=a.slice(_.length);else return r()}}if(a.length>0&&Nl.test(a))return r();const m=c.map(_=>_.priority).sort((_,w)=>w-_).filter((_,w,E)=>E.indexOf(_)===w).map(_=>c.filter(w=>w.priority===_).sort((w,E)=>E.subPriority-w.subPriority)).map(_=>_[0]);let h=Y(t,e==null?void 0:e.in);if(isNaN(+h))return r();const v={};for(const _ of m){if(!_.validate(h,u))return r();const w=_.set(h,v,u);Array.isArray(w)?(h=w[0],Object.assign(v,w[1])):h=w}return h}function _l(a){return a.match(wl)[1].replace(Dl,"'")}function jl(a,n,t){const[e,r]=Ge(t==null?void 0:t.in,a,n);return e.getFullYear()===r.getFullYear()&&e.getMonth()===r.getMonth()}function Sl(a,n,t){const[e,r]=Ge(t==null?void 0:t.in,a,n);return+oa(e)==+oa(r)}function Ml(a,n,t){const[e,r]=Ge(t==null?void 0:t.in,a,n);return e.getFullYear()===r.getFullYear()}function Vt(a,n,t){const e=+Y(a,t==null?void 0:t.in),[r,s]=[+Y(n.start,t==null?void 0:t.in),+Y(n.end,t==null?void 0:t.in)].sort((i,l)=>i-l);return e>=r&&e<=s}function Pl(a,n,t){return Me(a,-1,t)}function El(a,n){const t=()=>J(n==null?void 0:n.in,NaN),r=Il(a);let s;if(r.date){const u=Ll(r.date,2);s=Yl(u.restDateString,u.year)}if(!s||isNaN(+s))return t();const i=+s;let l=0,d;if(r.time&&(l=Al(r.time),isNaN(l)))return t();if(r.timezone){if(d=Fl(r.timezone),isNaN(d))return t()}else{const u=new Date(i+l),c=Y(0,n==null?void 0:n.in);return c.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),c.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),c}return Y(i+l+d,n==null?void 0:n.in)}const lr={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Tl=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ol=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Rl=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Il(a){const n={},t=a.split(lr.dateTimeDelimiter);let e;if(t.length>2)return n;if(/:/.test(t[0])?e=t[0]:(n.date=t[0],e=t[1],lr.timeZoneDelimiter.test(n.date)&&(n.date=a.split(lr.timeZoneDelimiter)[0],e=a.substr(n.date.length,a.length))),e){const r=lr.timezone.exec(e);r?(n.time=e.replace(r[1],""),n.timezone=r[1]):n.time=e}return n}function Ll(a,n){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),e=a.match(t);if(!e)return{year:NaN,restDateString:""};const r=e[1]?parseInt(e[1]):null,s=e[2]?parseInt(e[2]):null;return{year:s===null?r:s*100,restDateString:a.slice((e[1]||e[2]).length)}}function Yl(a,n){if(n===null)return new Date(NaN);const t=a.match(Tl);if(!t)return new Date(NaN);const e=!!t[4],r=Ft(t[1]),s=Ft(t[2])-1,i=Ft(t[3]),l=Ft(t[4]),d=Ft(t[5])-1;if(e)return zl(n,l,d)?Hl(n,l,d):new Date(NaN);{const u=new Date(0);return!Bl(n,s,i)||!$l(n,r)?new Date(NaN):(u.setUTCFullYear(n,s,Math.max(r,i)),u)}}function Ft(a){return a?parseInt(a):1}function Al(a){const n=a.match(Ol);if(!n)return NaN;const t=Kr(n[1]),e=Kr(n[2]),r=Kr(n[3]);return Ql(t,e,r)?t*Lr+e*Ir+r*1e3:NaN}function Kr(a){return a&&parseFloat(a.replace(",","."))||0}function Fl(a){if(a==="Z")return 0;const n=a.match(Rl);if(!n)return 0;const t=n[1]==="+"?-1:1,e=parseInt(n[2]),r=n[3]&&parseInt(n[3])||0;return Vl(e,r)?t*(e*Lr+r*Ir):NaN}function Hl(a,n,t){const e=new Date(0);e.setUTCFullYear(a,0,4);const r=e.getUTCDay()||7,s=(n-1)*7+t+1-r;return e.setUTCDate(e.getUTCDate()+s),e}const Wl=[31,null,31,30,31,30,31,31,30,31,30,31];function ts(a){return a%400===0||a%4===0&&a%100!==0}function Bl(a,n,t){return n>=0&&n<=11&&t>=1&&t<=(Wl[n]||(ts(a)?29:28))}function $l(a,n){return n>=1&&n<=(ts(a)?366:365)}function zl(a,n,t){return n>=1&&n<=53&&t>=0&&t<=6}function Ql(a,n,t){return a===24?n===0&&t===0:t>=0&&t<60&&n>=0&&n<60&&a>=0&&a<25}function Vl(a,n){return n>=0&&n<=59}function ke(a,n,t){const e=Y(a,t==null?void 0:t.in),r=e.getFullYear(),s=e.getDate(),i=J(a,0);i.setFullYear(r,n,15),i.setHours(0,0,0,0);const l=ji(i);return e.setMonth(n,Math.min(s,l)),e}function gr(a,n,t){const e=Y(a,t==null?void 0:t.in);return e.setHours(n),e}function vr(a,n,t){const e=Y(a,t==null?void 0:t.in);return e.setMinutes(n),e}function yt(a,n,t){const e=Y(a,t==null?void 0:t.in),r=Math.trunc(e.getMonth()/3)+1,s=n-r;return ke(e,e.getMonth()+s*3)}function xr(a,n,t){const e=Y(a,t==null?void 0:t.in);return e.setSeconds(n),e}function Te(a,n,t){const e=Y(a,t==null?void 0:t.in);return isNaN(+e)?J(a,NaN):(e.setFullYear(n),e)}function pt(a,n,t){return Ee(a,-n,t)}function rs(a,n,t){return fa(a,-1,t)}function Ja(a,n,t){return Dr(a,-1,t)}function at(a,n,t){return Pe(a,-n,t)}function Ar(){return typeof window<"u"}function Ot(a){return as(a)?(a.nodeName||"").toLowerCase():"#document"}function Ce(a){var n;return(a==null||(n=a.ownerDocument)==null?void 0:n.defaultView)||window}function $e(a){var n;return(n=(as(a)?a.ownerDocument:a.document)||window.document)==null?void 0:n.documentElement}function as(a){return Ar()?a instanceof Node||a instanceof Ce(a).Node:!1}function ye(a){return Ar()?a instanceof Element||a instanceof Ce(a).Element:!1}function Be(a){return Ar()?a instanceof HTMLElement||a instanceof Ce(a).HTMLElement:!1}function en(a){return!Ar()||typeof ShadowRoot>"u"?!1:a instanceof ShadowRoot||a instanceof Ce(a).ShadowRoot}const ql=new Set(["inline","contents"]);function Kt(a){const{overflow:n,overflowX:t,overflowY:e,display:r}=je(a);return/auto|scroll|overlay|hidden|clip/.test(n+e+t)&&!ql.has(r)}const Kl=new Set(["table","td","th"]);function Ul(a){return Kl.has(Ot(a))}const Gl=[":popover-open",":modal"];function Fr(a){return Gl.some(n=>{try{return a.matches(n)}catch{return!1}})}const Xl=["transform","translate","scale","rotate","perspective"],Zl=["transform","translate","scale","rotate","perspective","filter"],Jl=["paint","layout","strict","content"];function xa(a){const n=ba(),t=ye(a)?je(a):a;return Xl.some(e=>t[e]?t[e]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!n&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!n&&(t.filter?t.filter!=="none":!1)||Zl.some(e=>(t.willChange||"").includes(e))||Jl.some(e=>(t.contain||"").includes(e))}function ec(a){let n=nt(a);for(;Be(n)&&!Mt(n);){if(xa(n))return n;if(Fr(n))return null;n=nt(n)}return null}function ba(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const tc=new Set(["html","body","#document"]);function Mt(a){return tc.has(Ot(a))}function je(a){return Ce(a).getComputedStyle(a)}function Hr(a){return ye(a)?{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}:{scrollLeft:a.scrollX,scrollTop:a.scrollY}}function nt(a){if(Ot(a)==="html")return a;const n=a.assignedSlot||a.parentNode||en(a)&&a.host||$e(a);return en(n)?n.host:n}function ns(a){const n=nt(a);return Mt(n)?a.ownerDocument?a.ownerDocument.body:a.body:Be(n)&&Kt(n)?n:ns(n)}function qt(a,n,t){var e;n===void 0&&(n=[]),t===void 0&&(t=!0);const r=ns(a),s=r===((e=a.ownerDocument)==null?void 0:e.body),i=Ce(r);if(s){const l=ca(i);return n.concat(i,i.visualViewport||[],Kt(r)?r:[],l&&t?qt(l):[])}return n.concat(r,qt(r,[],t))}function ca(a){return a.parent&&Object.getPrototypeOf(a.parent)?a.frameElement:null}const Pt=Math.min,ft=Math.max,jr=Math.round,cr=Math.floor,We=a=>({x:a,y:a}),rc={left:"right",right:"left",bottom:"top",top:"bottom"},ac={start:"end",end:"start"};function nc(a,n,t){return ft(a,Pt(n,t))}function Wr(a,n){return typeof a=="function"?a(n):a}function Et(a){return a.split("-")[0]}function Ut(a){return a.split("-")[1]}function sc(a){return a==="x"?"y":"x"}function ya(a){return a==="y"?"height":"width"}const oc=new Set(["top","bottom"]);function ct(a){return oc.has(Et(a))?"y":"x"}function wa(a){return sc(ct(a))}function ic(a,n,t){t===void 0&&(t=!1);const e=Ut(a),r=wa(a),s=ya(r);let i=r==="x"?e===(t?"end":"start")?"right":"left":e==="start"?"bottom":"top";return n.reference[s]>n.floating[s]&&(i=Sr(i)),[i,Sr(i)]}function lc(a){const n=Sr(a);return[da(a),n,da(n)]}function da(a){return a.replace(/start|end/g,n=>ac[n])}const tn=["left","right"],rn=["right","left"],cc=["top","bottom"],dc=["bottom","top"];function uc(a,n,t){switch(a){case"top":case"bottom":return t?n?rn:tn:n?tn:rn;case"left":case"right":return n?cc:dc;default:return[]}}function pc(a,n,t,e){const r=Ut(a);let s=uc(Et(a),t==="start",e);return r&&(s=s.map(i=>i+"-"+r),n&&(s=s.concat(s.map(da)))),s}function Sr(a){return a.replace(/left|right|bottom|top/g,n=>rc[n])}function fc(a){return{top:0,right:0,bottom:0,left:0,...a}}function ss(a){return typeof a!="number"?fc(a):{top:a,right:a,bottom:a,left:a}}function Mr(a){const{x:n,y:t,width:e,height:r}=a;return{width:e,height:r,top:t,left:n,right:n+e,bottom:t+r,x:n,y:t}}var mc=typeof document<"u",hc=function(){},Pr=mc?b.useLayoutEffect:hc;const gc={...Yn},vc=gc.useInsertionEffect,xc=vc||(a=>a());function bc(a){const n=b.useRef(()=>{});return xc(()=>{n.current=a}),b.useCallback(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.current==null?void 0:n.current(...e)},[])}function an(a,n,t){let{reference:e,floating:r}=a;const s=ct(n),i=wa(n),l=ya(i),d=Et(n),u=s==="y",c=e.x+e.width/2-r.width/2,p=e.y+e.height/2-r.height/2,f=e[l]/2-r[l]/2;let m;switch(d){case"top":m={x:c,y:e.y-r.height};break;case"bottom":m={x:c,y:e.y+e.height};break;case"right":m={x:e.x+e.width,y:p};break;case"left":m={x:e.x-r.width,y:p};break;default:m={x:e.x,y:e.y}}switch(Ut(n)){case"start":m[i]-=f*(t&&u?-1:1);break;case"end":m[i]+=f*(t&&u?-1:1);break}return m}const yc=async(a,n,t)=>{const{placement:e="bottom",strategy:r="absolute",middleware:s=[],platform:i}=t,l=s.filter(Boolean),d=await(i.isRTL==null?void 0:i.isRTL(n));let u=await i.getElementRects({reference:a,floating:n,strategy:r}),{x:c,y:p}=an(u,e,d),f=e,m={},h=0;for(let v=0;v<l.length;v++){const{name:g,fn:D}=l[v],{x:k,y:C,data:M,reset:S}=await D({x:c,y:p,initialPlacement:e,placement:f,strategy:r,middlewareData:m,rects:u,platform:i,elements:{reference:a,floating:n}});c=k??c,p=C??p,m={...m,[g]:{...m[g],...M}},S&&h<=50&&(h++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:a,floating:n,strategy:r}):S.rects),{x:c,y:p}=an(u,f,d)),v=-1)}return{x:c,y:p,placement:f,strategy:r,middlewareData:m}};async function wc(a,n){var t;n===void 0&&(n={});const{x:e,y:r,platform:s,rects:i,elements:l,strategy:d}=a,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:p="floating",altBoundary:f=!1,padding:m=0}=Wr(n,a),h=ss(m),g=l[f?p==="floating"?"reference":"floating":p],D=Mr(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(g)))==null||t?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:c,strategy:d})),k=p==="floating"?{x:e,y:r,width:i.floating.width,height:i.floating.height}:i.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),M=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},S=Mr(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:k,offsetParent:C,strategy:d}):k);return{top:(D.top-S.top+h.top)/M.y,bottom:(S.bottom-D.bottom+h.bottom)/M.y,left:(D.left-S.left+h.left)/M.x,right:(S.right-D.right+h.right)/M.x}}const Dc=a=>({name:"arrow",options:a,async fn(n){const{x:t,y:e,placement:r,rects:s,platform:i,elements:l,middlewareData:d}=n,{element:u,padding:c=0}=Wr(a,n)||{};if(u==null)return{};const p=ss(c),f={x:t,y:e},m=wa(r),h=ya(m),v=await i.getDimensions(u),g=m==="y",D=g?"top":"left",k=g?"bottom":"right",C=g?"clientHeight":"clientWidth",M=s.reference[h]+s.reference[m]-f[m]-s.floating[h],S=f[m]-s.reference[m],F=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let A=F?F[C]:0;(!A||!await(i.isElement==null?void 0:i.isElement(F)))&&(A=l.floating[C]||s.floating[h]);const _=M/2-S/2,w=A/2-v[h]/2-1,E=Pt(p[D],w),L=Pt(p[k],w),j=E,P=A-v[h]-L,I=A/2-v[h]/2+_,z=nc(j,I,P),$=!d.arrow&&Ut(r)!=null&&I!==z&&s.reference[h]/2-(I<j?E:L)-v[h]/2<0,W=$?I<j?I-j:I-P:0;return{[m]:f[m]+W,data:{[m]:z,centerOffset:I-z-W,...$&&{alignmentOffset:W}},reset:$}}}),Nc=function(a){return a===void 0&&(a={}),{name:"flip",options:a,async fn(n){var t,e;const{placement:r,middlewareData:s,rects:i,initialPlacement:l,platform:d,elements:u}=n,{mainAxis:c=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:v=!0,...g}=Wr(a,n);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const D=Et(r),k=ct(l),C=Et(l)===l,M=await(d.isRTL==null?void 0:d.isRTL(u.floating)),S=f||(C||!v?[Sr(l)]:lc(l)),F=h!=="none";!f&&F&&S.push(...pc(l,v,h,M));const A=[l,...S],_=await wc(n,g),w=[];let E=((e=s.flip)==null?void 0:e.overflows)||[];if(c&&w.push(_[D]),p){const I=ic(r,i,M);w.push(_[I[0]],_[I[1]])}if(E=[...E,{placement:r,overflows:w}],!w.every(I=>I<=0)){var L,j;const I=(((L=s.flip)==null?void 0:L.index)||0)+1,z=A[I];if(z&&(!(p==="alignment"?k!==ct(z):!1)||E.every(V=>ct(V.placement)===k?V.overflows[0]>0:!0)))return{data:{index:I,overflows:E},reset:{placement:z}};let $=(j=E.filter(W=>W.overflows[0]<=0).sort((W,V)=>W.overflows[1]-V.overflows[1])[0])==null?void 0:j.placement;if(!$)switch(m){case"bestFit":{var P;const W=(P=E.filter(V=>{if(F){const ae=ct(V.placement);return ae===k||ae==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(ae=>ae>0).reduce((ae,ge)=>ae+ge,0)]).sort((V,ae)=>V[1]-ae[1])[0])==null?void 0:P[0];W&&($=W);break}case"initialPlacement":$=l;break}if(r!==$)return{reset:{placement:$}}}return{}}}},kc=new Set(["left","top"]);async function Cc(a,n){const{placement:t,platform:e,elements:r}=a,s=await(e.isRTL==null?void 0:e.isRTL(r.floating)),i=Et(t),l=Ut(t),d=ct(t)==="y",u=kc.has(i)?-1:1,c=s&&d?-1:1,p=Wr(n,a);let{mainAxis:f,crossAxis:m,alignmentAxis:h}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof h=="number"&&(m=l==="end"?h*-1:h),d?{x:m*c,y:f*u}:{x:f*u,y:m*c}}const _c=function(a){return a===void 0&&(a=0),{name:"offset",options:a,async fn(n){var t,e;const{x:r,y:s,placement:i,middlewareData:l}=n,d=await Cc(n,a);return i===((t=l.offset)==null?void 0:t.placement)&&(e=l.arrow)!=null&&e.alignmentOffset?{}:{x:r+d.x,y:s+d.y,data:{...d,placement:i}}}}};function os(a){const n=je(a);let t=parseFloat(n.width)||0,e=parseFloat(n.height)||0;const r=Be(a),s=r?a.offsetWidth:t,i=r?a.offsetHeight:e,l=jr(t)!==s||jr(e)!==i;return l&&(t=s,e=i),{width:t,height:e,$:l}}function Da(a){return ye(a)?a:a.contextElement}function kt(a){const n=Da(a);if(!Be(n))return We(1);const t=n.getBoundingClientRect(),{width:e,height:r,$:s}=os(n);let i=(s?jr(t.width):t.width)/e,l=(s?jr(t.height):t.height)/r;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const jc=We(0);function is(a){const n=Ce(a);return!ba()||!n.visualViewport?jc:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function Sc(a,n,t){return n===void 0&&(n=!1),!t||n&&t!==Ce(a)?!1:n}function ht(a,n,t,e){n===void 0&&(n=!1),t===void 0&&(t=!1);const r=a.getBoundingClientRect(),s=Da(a);let i=We(1);n&&(e?ye(e)&&(i=kt(e)):i=kt(a));const l=Sc(s,t,e)?is(s):We(0);let d=(r.left+l.x)/i.x,u=(r.top+l.y)/i.y,c=r.width/i.x,p=r.height/i.y;if(s){const f=Ce(s),m=e&&ye(e)?Ce(e):e;let h=f,v=ca(h);for(;v&&e&&m!==h;){const g=kt(v),D=v.getBoundingClientRect(),k=je(v),C=D.left+(v.clientLeft+parseFloat(k.paddingLeft))*g.x,M=D.top+(v.clientTop+parseFloat(k.paddingTop))*g.y;d*=g.x,u*=g.y,c*=g.x,p*=g.y,d+=C,u+=M,h=Ce(v),v=ca(h)}}return Mr({width:c,height:p,x:d,y:u})}function Br(a,n){const t=Hr(a).scrollLeft;return n?n.left+t:ht($e(a)).left+t}function ls(a,n){const t=a.getBoundingClientRect(),e=t.left+n.scrollLeft-Br(a,t),r=t.top+n.scrollTop;return{x:e,y:r}}function Mc(a){let{elements:n,rect:t,offsetParent:e,strategy:r}=a;const s=r==="fixed",i=$e(e),l=n?Fr(n.floating):!1;if(e===i||l&&s)return t;let d={scrollLeft:0,scrollTop:0},u=We(1);const c=We(0),p=Be(e);if((p||!p&&!s)&&((Ot(e)!=="body"||Kt(i))&&(d=Hr(e)),Be(e))){const m=ht(e);u=kt(e),c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}const f=i&&!p&&!s?ls(i,d):We(0);return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-d.scrollLeft*u.x+c.x+f.x,y:t.y*u.y-d.scrollTop*u.y+c.y+f.y}}function Pc(a){return Array.from(a.getClientRects())}function Ec(a){const n=$e(a),t=Hr(a),e=a.ownerDocument.body,r=ft(n.scrollWidth,n.clientWidth,e.scrollWidth,e.clientWidth),s=ft(n.scrollHeight,n.clientHeight,e.scrollHeight,e.clientHeight);let i=-t.scrollLeft+Br(a);const l=-t.scrollTop;return je(e).direction==="rtl"&&(i+=ft(n.clientWidth,e.clientWidth)-r),{width:r,height:s,x:i,y:l}}const nn=25;function Tc(a,n){const t=Ce(a),e=$e(a),r=t.visualViewport;let s=e.clientWidth,i=e.clientHeight,l=0,d=0;if(r){s=r.width,i=r.height;const c=ba();(!c||c&&n==="fixed")&&(l=r.offsetLeft,d=r.offsetTop)}const u=Br(e);if(u<=0){const c=e.ownerDocument,p=c.body,f=getComputedStyle(p),m=c.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,h=Math.abs(e.clientWidth-p.clientWidth-m);h<=nn&&(s-=h)}else u<=nn&&(s+=u);return{width:s,height:i,x:l,y:d}}const Oc=new Set(["absolute","fixed"]);function Rc(a,n){const t=ht(a,!0,n==="fixed"),e=t.top+a.clientTop,r=t.left+a.clientLeft,s=Be(a)?kt(a):We(1),i=a.clientWidth*s.x,l=a.clientHeight*s.y,d=r*s.x,u=e*s.y;return{width:i,height:l,x:d,y:u}}function sn(a,n,t){let e;if(n==="viewport")e=Tc(a,t);else if(n==="document")e=Ec($e(a));else if(ye(n))e=Rc(n,t);else{const r=is(a);e={x:n.x-r.x,y:n.y-r.y,width:n.width,height:n.height}}return Mr(e)}function cs(a,n){const t=nt(a);return t===n||!ye(t)||Mt(t)?!1:je(t).position==="fixed"||cs(t,n)}function Ic(a,n){const t=n.get(a);if(t)return t;let e=qt(a,[],!1).filter(l=>ye(l)&&Ot(l)!=="body"),r=null;const s=je(a).position==="fixed";let i=s?nt(a):a;for(;ye(i)&&!Mt(i);){const l=je(i),d=xa(i);!d&&l.position==="fixed"&&(r=null),(s?!d&&!r:!d&&l.position==="static"&&!!r&&Oc.has(r.position)||Kt(i)&&!d&&cs(a,i))?e=e.filter(c=>c!==i):r=l,i=nt(i)}return n.set(a,e),e}function Lc(a){let{element:n,boundary:t,rootBoundary:e,strategy:r}=a;const i=[...t==="clippingAncestors"?Fr(n)?[]:Ic(n,this._c):[].concat(t),e],l=i[0],d=i.reduce((u,c)=>{const p=sn(n,c,r);return u.top=ft(p.top,u.top),u.right=Pt(p.right,u.right),u.bottom=Pt(p.bottom,u.bottom),u.left=ft(p.left,u.left),u},sn(n,l,r));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Yc(a){const{width:n,height:t}=os(a);return{width:n,height:t}}function Ac(a,n,t){const e=Be(n),r=$e(n),s=t==="fixed",i=ht(a,!0,s,n);let l={scrollLeft:0,scrollTop:0};const d=We(0);function u(){d.x=Br(r)}if(e||!e&&!s)if((Ot(n)!=="body"||Kt(r))&&(l=Hr(n)),e){const m=ht(n,!0,s,n);d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}else r&&u();s&&!e&&r&&u();const c=r&&!e&&!s?ls(r,l):We(0),p=i.left+l.scrollLeft-d.x-c.x,f=i.top+l.scrollTop-d.y-c.y;return{x:p,y:f,width:i.width,height:i.height}}function Ur(a){return je(a).position==="static"}function on(a,n){if(!Be(a)||je(a).position==="fixed")return null;if(n)return n(a);let t=a.offsetParent;return $e(a)===t&&(t=t.ownerDocument.body),t}function ds(a,n){const t=Ce(a);if(Fr(a))return t;if(!Be(a)){let r=nt(a);for(;r&&!Mt(r);){if(ye(r)&&!Ur(r))return r;r=nt(r)}return t}let e=on(a,n);for(;e&&Ul(e)&&Ur(e);)e=on(e,n);return e&&Mt(e)&&Ur(e)&&!xa(e)?t:e||ec(a)||t}const Fc=async function(a){const n=this.getOffsetParent||ds,t=this.getDimensions,e=await t(a.floating);return{reference:Ac(a.reference,await n(a.floating),a.strategy),floating:{x:0,y:0,width:e.width,height:e.height}}};function Hc(a){return je(a).direction==="rtl"}const Wc={convertOffsetParentRelativeRectToViewportRelativeRect:Mc,getDocumentElement:$e,getClippingRect:Lc,getOffsetParent:ds,getElementRects:Fc,getClientRects:Pc,getDimensions:Yc,getScale:kt,isElement:ye,isRTL:Hc};function us(a,n){return a.x===n.x&&a.y===n.y&&a.width===n.width&&a.height===n.height}function Bc(a,n){let t=null,e;const r=$e(a);function s(){var l;clearTimeout(e),(l=t)==null||l.disconnect(),t=null}function i(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),s();const u=a.getBoundingClientRect(),{left:c,top:p,width:f,height:m}=u;if(l||n(),!f||!m)return;const h=cr(p),v=cr(r.clientWidth-(c+f)),g=cr(r.clientHeight-(p+m)),D=cr(c),C={rootMargin:-h+"px "+-v+"px "+-g+"px "+-D+"px",threshold:ft(0,Pt(1,d))||1};let M=!0;function S(F){const A=F[0].intersectionRatio;if(A!==d){if(!M)return i();A?i(!1,A):e=setTimeout(()=>{i(!1,1e-7)},1e3)}A===1&&!us(u,a.getBoundingClientRect())&&i(),M=!1}try{t=new IntersectionObserver(S,{...C,root:r.ownerDocument})}catch{t=new IntersectionObserver(S,C)}t.observe(a)}return i(!0),s}function $c(a,n,t,e){e===void 0&&(e={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=e,u=Da(a),c=r||s?[...u?qt(u):[],...qt(n)]:[];c.forEach(D=>{r&&D.addEventListener("scroll",t,{passive:!0}),s&&D.addEventListener("resize",t)});const p=u&&l?Bc(u,t):null;let f=-1,m=null;i&&(m=new ResizeObserver(D=>{let[k]=D;k&&k.target===u&&m&&(m.unobserve(n),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var C;(C=m)==null||C.observe(n)})),t()}),u&&!d&&m.observe(u),m.observe(n));let h,v=d?ht(a):null;d&&g();function g(){const D=ht(a);v&&!us(v,D)&&t(),v=D,h=requestAnimationFrame(g)}return t(),()=>{var D;c.forEach(k=>{r&&k.removeEventListener("scroll",t),s&&k.removeEventListener("resize",t)}),p==null||p(),(D=m)==null||D.disconnect(),m=null,d&&cancelAnimationFrame(h)}}const zc=_c,Qc=Nc,ln=Dc,Vc=(a,n,t)=>{const e=new Map,r={platform:Wc,...t},s={...r.platform,_c:e};return yc(a,n,{...r,platform:s})};var qc=typeof document<"u",Kc=function(){},br=qc?b.useLayoutEffect:Kc;function Er(a,n){if(a===n)return!0;if(typeof a!=typeof n)return!1;if(typeof a=="function"&&a.toString()===n.toString())return!0;let t,e,r;if(a&&n&&typeof a=="object"){if(Array.isArray(a)){if(t=a.length,t!==n.length)return!1;for(e=t;e--!==0;)if(!Er(a[e],n[e]))return!1;return!0}if(r=Object.keys(a),t=r.length,t!==Object.keys(n).length)return!1;for(e=t;e--!==0;)if(!{}.hasOwnProperty.call(n,r[e]))return!1;for(e=t;e--!==0;){const s=r[e];if(!(s==="_owner"&&a.$$typeof)&&!Er(a[s],n[s]))return!1}return!0}return a!==a&&n!==n}function ps(a){return typeof window>"u"?1:(a.ownerDocument.defaultView||window).devicePixelRatio||1}function cn(a,n){const t=ps(a);return Math.round(n*t)/t}function Gr(a){const n=b.useRef(a);return br(()=>{n.current=a}),n}function Uc(a){a===void 0&&(a={});const{placement:n="bottom",strategy:t="absolute",middleware:e=[],platform:r,elements:{reference:s,floating:i}={},transform:l=!0,whileElementsMounted:d,open:u}=a,[c,p]=b.useState({x:0,y:0,strategy:t,placement:n,middlewareData:{},isPositioned:!1}),[f,m]=b.useState(e);Er(f,e)||m(e);const[h,v]=b.useState(null),[g,D]=b.useState(null),k=b.useCallback(V=>{V!==F.current&&(F.current=V,v(V))},[]),C=b.useCallback(V=>{V!==A.current&&(A.current=V,D(V))},[]),M=s||h,S=i||g,F=b.useRef(null),A=b.useRef(null),_=b.useRef(c),w=d!=null,E=Gr(d),L=Gr(r),j=Gr(u),P=b.useCallback(()=>{if(!F.current||!A.current)return;const V={placement:n,strategy:t,middleware:f};L.current&&(V.platform=L.current),Vc(F.current,A.current,V).then(ae=>{const ge={...ae,isPositioned:j.current!==!1};I.current&&!Er(_.current,ge)&&(_.current=ge,Is.flushSync(()=>{p(ge)}))})},[f,n,t,L,j]);br(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,p(V=>({...V,isPositioned:!1})))},[u]);const I=b.useRef(!1);br(()=>(I.current=!0,()=>{I.current=!1}),[]),br(()=>{if(M&&(F.current=M),S&&(A.current=S),M&&S){if(E.current)return E.current(M,S,P);P()}},[M,S,P,E,w]);const z=b.useMemo(()=>({reference:F,floating:A,setReference:k,setFloating:C}),[k,C]),$=b.useMemo(()=>({reference:M,floating:S}),[M,S]),W=b.useMemo(()=>{const V={position:t,left:0,top:0};if(!$.floating)return V;const ae=cn($.floating,c.x),ge=cn($.floating,c.y);return l?{...V,transform:"translate("+ae+"px, "+ge+"px)",...ps($.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ae,top:ge}},[t,l,$.floating,c.x,c.y]);return b.useMemo(()=>({...c,update:P,refs:z,elements:$,floatingStyles:W}),[c,P,z,$,W])}const Gc=a=>{function n(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:a,fn(t){const{element:e,padding:r}=typeof a=="function"?a(t):a;return e&&n(e)?e.current!=null?ln({element:e.current,padding:r}).fn(t):{}:e?ln({element:e,padding:r}).fn(t):{}}}},Xc=(a,n)=>({...zc(a),options:[a,n]}),Zc=(a,n)=>({...Qc(a),options:[a,n]}),Jc=(a,n)=>({...Gc(a),options:[a,n]}),ed={...Yn};let dn=!1,td=0;const un=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+td++;function rd(){const[a,n]=b.useState(()=>dn?un():void 0);return Pr(()=>{a==null&&n(un())},[]),b.useEffect(()=>{dn=!0},[]),a}const ad=ed.useId,fs=ad||rd,nd=b.forwardRef(function(n,t){const{context:{placement:e,elements:{floating:r},middlewareData:{arrow:s,shift:i}},width:l=14,height:d=7,tipRadius:u=0,strokeWidth:c=0,staticOffset:p,stroke:f,d:m,style:{transform:h,...v}={},...g}=n,D=fs(),[k,C]=b.useState(!1);if(Pr(()=>{if(!r)return;je(r).direction==="rtl"&&C(!0)},[r]),!r)return null;const[M,S]=e.split("-"),F=M==="top"||M==="bottom";let A=p;(F&&i!=null&&i.x||!F&&i!=null&&i.y)&&(A=null);const _=c*2,w=_/2,E=l/2*(u/-8+1),L=d/2*u/4,j=!!m,P=A&&S==="end"?"bottom":"top";let I=A&&S==="end"?"right":"left";A&&k&&(I=S==="end"?"left":"right");const z=(s==null?void 0:s.x)!=null?A||s.x:"",$=(s==null?void 0:s.y)!=null?A||s.y:"",W=m||"M0,0"+(" H"+l)+(" L"+(l-E)+","+(d-L))+(" Q"+l/2+","+d+" "+E+","+(d-L))+" Z",V={top:j?"rotate(180deg)":"",left:j?"rotate(90deg)":"rotate(-90deg)",bottom:j?"":"rotate(180deg)",right:j?"rotate(-90deg)":"rotate(90deg)"}[M];return o.jsxs("svg",{...g,"aria-hidden":!0,ref:t,width:j?l:l+_,height:l,viewBox:"0 0 "+l+" "+(d>l?d:l),style:{position:"absolute",pointerEvents:"none",[I]:z,[P]:$,[M]:F||j?"100%":"calc(100% - "+_/2+"px)",transform:[V,h].filter(ae=>!!ae).join(" "),...v},children:[_>0&&o.jsx("path",{clipPath:"url(#"+D+")",fill:"none",stroke:f,strokeWidth:_+(m?0:1),d:W}),o.jsx("path",{stroke:_&&!m?g.fill:"none",d:W}),o.jsx("clipPath",{id:D,children:o.jsx("rect",{x:-w,y:w*(j?-1:1),width:l+_,height:l})})]})});function sd(){const a=new Map;return{emit(n,t){var e;(e=a.get(n))==null||e.forEach(r=>r(t))},on(n,t){a.has(n)||a.set(n,new Set),a.get(n).add(t)},off(n,t){var e;(e=a.get(n))==null||e.delete(t)}}}const od=b.createContext(null),id=b.createContext(null),ld=()=>{var a;return((a=b.useContext(od))==null?void 0:a.id)||null},cd=()=>b.useContext(id);function dd(a){const{open:n=!1,onOpenChange:t,elements:e}=a,r=fs(),s=b.useRef({}),[i]=b.useState(()=>sd()),l=ld()!=null,[d,u]=b.useState(e.reference),c=bc((m,h,v)=>{s.current.openEvent=m?h:void 0,i.emit("openchange",{open:m,event:h,reason:v,nested:l}),t==null||t(m,h,v)}),p=b.useMemo(()=>({setPositionReference:u}),[]),f=b.useMemo(()=>({reference:d||e.reference||null,floating:e.floating||null,domReference:e.reference}),[d,e.reference,e.floating]);return b.useMemo(()=>({dataRef:s,open:n,onOpenChange:c,elements:f,events:i,floatingId:r,refs:p}),[n,c,f,i,r,p])}function ud(a){a===void 0&&(a={});const{nodeId:n}=a,t=dd({...a,elements:{reference:null,floating:null,...a.elements}}),e=a.rootContext||t,r=e.elements,[s,i]=b.useState(null),[l,d]=b.useState(null),c=(r==null?void 0:r.domReference)||s,p=b.useRef(null),f=cd();Pr(()=>{c&&(p.current=c)},[c]);const m=Uc({...a,elements:{...r,...l&&{reference:l}}}),h=b.useCallback(C=>{const M=ye(C)?{getBoundingClientRect:()=>C.getBoundingClientRect(),getClientRects:()=>C.getClientRects(),contextElement:C}:C;d(M),m.refs.setReference(M)},[m.refs]),v=b.useCallback(C=>{(ye(C)||C===null)&&(p.current=C,i(C)),(ye(m.refs.reference.current)||m.refs.reference.current===null||C!==null&&!ye(C))&&m.refs.setReference(C)},[m.refs]),g=b.useMemo(()=>({...m.refs,setReference:v,setPositionReference:h,domReference:p}),[m.refs,v,h]),D=b.useMemo(()=>({...m.elements,domReference:c}),[m.elements,c]),k=b.useMemo(()=>({...m,...e,refs:g,elements:D,nodeId:n}),[m,g,D,n,e]);return Pr(()=>{e.dataRef.current.floatingContext=k;const C=f==null?void 0:f.nodesRef.current.find(M=>M.id===n);C&&(C.context=k)}),b.useMemo(()=>({...m,context:k,refs:g,elements:D}),[m,g,D,k])}/*!
  react-datepicker v9.1.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var ua=function(n,t){return ua=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])},ua(n,t)};function he(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");ua(a,n);function t(){this.constructor=a}a.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var Q=function(){return Q=Object.assign||function(t){for(var e,r=1,s=arguments.length;r<s;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Q.apply(this,arguments)};function Fe(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,s;e<r;e++)(s||!(e in n))&&(s||(s=Array.prototype.slice.call(n,0,e)),s[e]=n[e]);return a.concat(s||Array.prototype.slice.call(n))}var pd=function(a){var n=a.showTimeSelectOnly,t=n===void 0?!1:n,e=a.showTime,r=e===void 0?!1:e,s=a.className,i=a.children,l=a.inline,d=t?"Choose Time":"Choose Date".concat(r?" and Time":"");return y.createElement("div",{className:s,"aria-label":d,role:l?void 0:"dialog","aria-modal":l?void 0:"true",translate:"no"},i)},fd=function(a,n){var t=b.useRef(null),e=b.useRef(a);b.useEffect(function(){e.current=a},[a]);var r=b.useCallback(function(s){var i,l=s.composed&&s.composedPath&&s.composedPath().find(function(d){return d instanceof Node})||s.target;t.current&&!t.current.contains(l)&&(n&&l instanceof HTMLElement&&l.classList.contains(n)||(i=e.current)===null||i===void 0||i.call(e,s))},[n]);return b.useEffect(function(){return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[r]),t},$r=function(a){var n=a.children,t=a.onClickOutside,e=a.className,r=a.containerRef,s=a.style,i=a.ignoreClass,l=fd(t,i);return y.createElement("div",{className:e,style:s,ref:function(d){l.current=d,r&&(r.current=d)}},n)},dr=null,pn=!1;function ms(){if(pn)return dr;pn=!0;try{var a="date-fns-tz";dr=require(a)}catch{dr=null}return dr}function fn(a,n){if(!n)return a;var t=ms();return t?t.toZonedTime(a,n):a}function ze(a,n){if(!n)return a;var t=ms();return t?t.fromZonedTime(a,n):a}var T;(function(a){a.ArrowUp="ArrowUp",a.ArrowDown="ArrowDown",a.ArrowLeft="ArrowLeft",a.ArrowRight="ArrowRight",a.PageUp="PageUp",a.PageDown="PageDown",a.Home="Home",a.End="End",a.Enter="Enter",a.Space=" ",a.Tab="Tab",a.Escape="Escape",a.Backspace="Backspace",a.X="x"})(T||(T={}));function Na(){var a=typeof window<"u"?window:globalThis;return a}var Gt=12;function G(a){if(a==null)return new Date;var n=typeof a=="string"?El(a):Y(a);return De(n)?n:new Date}function ot(a,n,t,e,r){r===void 0&&(r=G());for(var s=Tt(t)||Tt(ka()),i=Array.isArray(n)?n:[n],l=0,d=i;l<d.length;l++){var u=d[l],c=Cl(a,u,r,{locale:s});if(De(c)&&(!e||a===re(c,u,t)))return c}if(!e&&a&&a.length>=8){var p=new Date(a);if(St(p))return p}return null}function md(a,n){if(n===void 0&&(n=G()),!a)return null;var t=a.match(/\b(1\d{3}|2\d{3})\b/);if(!t||!t[1])return null;var e=parseInt(t[1],10),r=a.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),s=r&&r[1]?parseInt(r[1],10)-1:n.getMonth();return new Date(e,s,1)}function De(a){return St(a)}function dt(a){return a==null?null:He(a)&&St(a)?a:null}function re(a,n,t){if(t==="en")return Xa(a,n,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var e=t?Tt(t):void 0;return t&&!e&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),e=e||Tt(ka()),Xa(a,n,{locale:e,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function we(a,n){var t=n.dateFormat,e=n.locale,r=Array.isArray(t)&&t.length>0?t[0]:t;return a&&re(a,r,e)||""}var hs=" - ";function hd(a,n,t){if(!a&&!n)return"";var e=a?we(a,t):"",r=n?we(n,t):"",s=t.rangeSeparator||hs;return"".concat(e).concat(s).concat(r)}function gd(a,n){if(!(a!=null&&a.length))return"";var t=a[0]?we(a[0],n):"";if(a.length===1)return t;if(a.length===2&&a[1]){var e=we(a[1],n);return"".concat(t,", ").concat(e)}var r=a.length-1;return"".concat(t," (+").concat(r,")")}function Qe(a,n){var t=n.hour,e=t===void 0?0:t,r=n.minute,s=r===void 0?0:r,i=n.second,l=i===void 0?0:i;return gr(vr(xr(a,l),s),e)}function vd(a){return ma(a)}function xd(a,n){return re(a,"ddd",n)}function Wt(a){return mt(a)}function rt(a,n,t){var e=Tt(n||ka());return Ue(a,{locale:e,weekStartsOn:t})}function Ke(a){return Qn(a)}function Bt(a){return Yr(a)}function mn(a){return oa(a)}function hn(){return mt(G())}function gn(a){return $n(a)}function bd(a){return To(a)}function yd(a){return zn(a)}function Oe(a,n){return a&&n?Ml(a,n):!a&&!n}function be(a,n){return a&&n?jl(a,n):!a&&!n}function Tr(a,n){return a&&n?Sl(a,n):!a&&!n}function K(a,n){return a&&n?Po(a,n):!a&&!n}function ut(a,n){return a&&n?Pi(a,n):!a&&!n}function lt(a,n,t){var e,r=mt(n),s=$n(t);try{e=Vt(a,{start:r,end:s})}catch{e=!1}return e}function wd(a,n){var t=Na();t.__localeData__||(t.__localeData__={}),t.__localeData__[a]=n}function ka(){var a=Na();return a.__localeId__}function Tt(a){if(typeof a=="string"){var n=Na();return n.__localeData__?n.__localeData__[a]:void 0}else return a}function Dd(a,n,t){return n(re(a,"EEEE",t))}function Nd(a,n){return re(a,"EEEEEE",n)}function kd(a,n){return re(a,"EEE",n)}function Ca(a,n){return re(ke(G(),a),"LLLL",n)}function gs(a,n){return re(ke(G(),a),"LLL",n)}function Cd(a,n){return re(yt(G(),a),"QQQ",n)}function _e(a,n){var t=n===void 0?{}:n,e=t.minDate,r=t.maxDate,s=t.excludeDates,i=t.excludeDateIntervals,l=t.includeDates,d=t.includeDateIntervals,u=t.filterDate,c=t.disabled;return c?!0:Xt(a,{minDate:e,maxDate:r})||s&&s.some(function(p){return p instanceof Date?K(a,p):K(a,p.date)})||i&&i.some(function(p){var f=p.start,m=p.end;return Vt(a,{start:f,end:m})})||l&&!l.some(function(p){return K(a,p)})||d&&!d.some(function(p){var f=p.start,m=p.end;return Vt(a,{start:f,end:m})})||u&&!u(G(a))||!1}function _a(a,n){var t=n===void 0?{}:n,e=t.excludeDates,r=t.excludeDateIntervals;return r&&r.length>0?r.some(function(s){var i=s.start,l=s.end;return Vt(a,{start:i,end:l})}):e&&e.some(function(s){var i;return s instanceof Date?K(a,s):K(a,(i=s.date)!==null&&i!==void 0?i:new Date)})||!1}function vs(a,n){var t=n===void 0?{}:n,e=t.minDate,r=t.maxDate,s=t.excludeDates,i=t.includeDates,l=t.filterDate;return Xt(a,{minDate:e?Qn(e):void 0,maxDate:r?zn(r):void 0})||(s==null?void 0:s.some(function(d){return be(a,d instanceof Date?d:d.date)}))||i&&!i.some(function(d){return be(a,d)})||l&&!l(G(a))||!1}function ur(a,n,t,e){var r=q(a),s=Ne(a),i=q(n),l=Ne(n),d=q(e);return r===i&&r===d?s<=t&&t<=l:r<i?d===r&&s<=t||d===i&&l>=t||d<i&&d>r:!1}function _d(a,n){var t=n===void 0?{}:n,e=t.minDate,r=t.maxDate,s=t.excludeDates,i=t.includeDates;return Xt(a,{minDate:e,maxDate:r})||s&&s.some(function(l){return be(l instanceof Date?l:l.date,a)})||i&&!i.some(function(l){return be(l,a)})||!1}function pr(a,n){var t=n===void 0?{}:n,e=t.minDate,r=t.maxDate,s=t.excludeDates,i=t.includeDates,l=t.filterDate,d=t.disabled;return d?!0:Xt(a,{minDate:e,maxDate:r})||(s==null?void 0:s.some(function(u){return Tr(a,u instanceof Date?u:u.date)}))||i&&!i.some(function(u){return Tr(a,u)})||l&&!l(G(a))||!1}function fr(a,n,t){if(!n||!t||!St(n)||!St(t))return!1;var e=q(n),r=q(t);return e<=a&&r>=a}function yr(a,n){var t=n===void 0?{}:n,e=t.minDate,r=t.maxDate,s=t.excludeDates,i=t.includeDates,l=t.filterDate,d=t.disabled;if(d)return!0;var u=new Date(a,0,1);return Xt(u,{minDate:e?Yr(e):void 0,maxDate:r?Vn(r):void 0})||(s==null?void 0:s.some(function(c){return Oe(u,c instanceof Date?c:c.date)}))||i&&!i.some(function(c){return Oe(u,c)})||l&&!l(G(u))||!1}function mr(a,n,t,e){var r=q(a),s=et(a),i=q(n),l=et(n),d=q(e);return r===i&&r===d?s<=t&&t<=l:r<i?d===r&&s<=t||d===i&&l>=t||d<i&&d>r:!1}function Xt(a,n){var t,e=n===void 0?{}:n,r=e.minDate,s=e.maxDate;return(t=r&&jt(a,r)<0||s&&jt(a,s)>0)!==null&&t!==void 0?t:!1}function vn(a,n){return n.some(function(t){return ve(t)===ve(a)&&xe(t)===xe(a)&&tt(t)===tt(a)})}function xn(a,n){var t=n===void 0?{}:n,e=t.excludeTimes,r=t.includeTimes,s=t.filterTime;return e&&vn(a,e)||r&&!vn(a,r)||s&&!s(a)||!1}function bn(a,n){var t=n.minTime,e=n.maxTime;if(!t||!e)throw new Error("Both minTime and maxTime props required");var r=G();r=gr(r,ve(a)),r=vr(r,xe(a)),r=xr(r,tt(a));var s=G();s=gr(s,ve(t)),s=vr(s,xe(t)),s=xr(s,tt(t));var i=G();i=gr(i,ve(e)),i=vr(i,xe(e)),i=xr(i,tt(e));var l;try{l=!Vt(r,{start:s,end:i})}catch{l=!1}return l}function yn(a,n){var t=n===void 0?{}:n,e=t.minDate,r=t.includeDates,s=pt(a,1);return e&&Nr(e,s)>0||r&&r.every(function(i){return Nr(i,s)>0})||!1}function wn(a,n){var t=n===void 0?{}:n,e=t.maxDate,r=t.includeDates,s=Ee(a,1);return e&&Nr(s,e)>0||r&&r.every(function(i){return Nr(s,i)>0})||!1}function jd(a,n){var t=n===void 0?{}:n,e=t.minDate,r=t.includeDates,s=Yr(a),i=rs(s);return e&&kr(e,i)>0||r&&r.every(function(l){return kr(l,i)>0})||!1}function Sd(a,n){var t=n===void 0?{}:n,e=t.maxDate,r=t.includeDates,s=Vn(a),i=fa(s,1);return e&&kr(i,e)>0||r&&r.every(function(l){return kr(i,l)>0})||!1}function Dn(a,n){var t=n===void 0?{}:n,e=t.minDate,r=t.includeDates,s=at(a,1);return e&&Cr(e,s)>0||r&&r.every(function(i){return Cr(i,s)>0})||!1}function Md(a,n){var t=n===void 0?{}:n,e=t.minDate,r=t.yearItemNumber,s=r===void 0?Gt:r,i=Bt(at(a,s)),l=Ve(i,s).endPeriod,d=e&&q(e);return d&&d>l||!1}function Nn(a,n){var t=n===void 0?{}:n,e=t.maxDate,r=t.includeDates,s=Pe(a,1);return e&&Cr(s,e)>0||r&&r.every(function(i){return Cr(s,i)>0})||!1}function Pd(a,n){var t=n===void 0?{}:n,e=t.maxDate,r=t.yearItemNumber,s=r===void 0?Gt:r,i=Pe(a,s),l=Ve(i,s).startPeriod,d=e&&q(e);return d&&d<l||!1}function xs(a){var n=a.minDate,t=a.includeDates;if(t&&n){var e=t.filter(function(r){return jt(r,n)>=0});return Qa(e)}else return t?Qa(t):n}function bs(a){var n=a.maxDate,t=a.includeDates;if(t&&n){var e=t.filter(function(r){return jt(r,n)<=0});return za(e)}else return t?za(t):n}function kn(a,n){var t;a===void 0&&(a=[]),n===void 0&&(n="react-datepicker__day--highlighted");for(var e=new Map,r=0,s=a.length;r<s;r++){var i=a[r];if(He(i)){var l=re(i,"MM.dd.yyyy"),d=e.get(l)||[];d.includes(n)||(d.push(n),e.set(l,d))}else if(typeof i=="object"){var u=Object.keys(i),c=(t=u[0])!==null&&t!==void 0?t:"",p=i[c];if(typeof c=="string"&&Array.isArray(p))for(var f=0,m=p.length;f<m;f++){var h=p[f];if(h){var l=re(h,"MM.dd.yyyy"),d=e.get(l)||[];d.includes(c)||(d.push(c),e.set(l,d))}}}}return e}function Ed(a,n){return a.length!==n.length?!1:a.every(function(t,e){return t===n[e]})}function Td(a,n){a===void 0&&(a=[]),n===void 0&&(n="react-datepicker__day--holidays");var t=new Map;return a.forEach(function(e){var r=e.date,s=e.holidayName;if(He(r)){var i=re(r,"MM.dd.yyyy"),l=t.get(i)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===n&&Ed(l.holidayNames,[s]))){l.className=n;var d=l.holidayNames;l.holidayNames=d?Fe(Fe([],d,!0),[s],!1):[s],t.set(i,l)}}}),t}function Od(a,n,t,e,r){for(var s=r.length,i=[],l=0;l<s;l++){var d=a,u=r[l];u&&(d=_o(d,ve(u)),d=Qt(d,xe(u)),d=Mo(d,tt(u)));var c=Qt(a,(t+1)*e);qe(d,n)&&Ae(d,c)&&u!=null&&i.push(u)}return i}function bt(a){return a<10?"0".concat(a):"".concat(a)}function Ve(a,n){n===void 0&&(n=Gt);var t=Math.ceil(q(a)/n)*n,e=t-(n-1);return{startPeriod:e,endPeriod:t}}function Rd(a){var n=new Date(a.getFullYear(),a.getMonth(),a.getDate()),t=new Date(a.getFullYear(),a.getMonth(),a.getDate(),24);return Math.round((+t-+n)/36e5)}function Cn(a){var n=a.getSeconds(),t=a.getMilliseconds();return Y(a.getTime()-n*1e3-t)}function ys(a,n){return Cn(a).getTime()===Cn(n).getTime()}function _n(a){if(!He(a))throw new Error("Invalid date");var n=new Date(a);return n.setHours(0,0,0,0),n}function Xr(a,n){if(!He(a)||!He(n))throw new Error("Invalid date received");var t=_n(a),e=_n(n);return Ae(t,e)}function ws(a){return a.key===T.Space}var Zr=(function(a){he(n,a);function n(t){var e=a.call(this,t)||this;return e.inputRef=y.createRef(),e.onTimeChange=function(r){var s,i;e.setState({time:r});var l=e.props.date,d=l instanceof Date&&!isNaN(+l),u=d?l:new Date;if(r!=null&&r.includes(":")){var c=r.split(":"),p=c[0],f=c[1];u.setHours(Number(p)),u.setMinutes(Number(f))}(i=(s=e.props).onChange)===null||i===void 0||i.call(s,u)},e.renderTimeInput=function(){var r=e.state.time,s=e.props,i=s.date,l=s.timeString,d=s.customTimeInput;return d?b.cloneElement(d,{date:i,value:r,onChange:e.onTimeChange}):y.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:e.inputRef,onClick:function(){var u;(u=e.inputRef.current)===null||u===void 0||u.focus()},required:!0,value:r,onChange:function(u){e.onTimeChange(u.target.value||l)}})},e.state={time:e.props.timeString},e}return n.getDerivedStateFromProps=function(t,e){return t.timeString!==e.time?{time:t.timeString}:null},n.prototype.render=function(){return y.createElement("div",{className:"react-datepicker__input-time-container"},y.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),y.createElement("div",{className:"react-datepicker-time__input-container"},y.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},n})(b.Component),Id=(function(a){he(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.dayEl=b.createRef(),t.handleClick=function(e){!t.isDisabled()&&t.props.onClick&&t.props.onClick(e)},t.handleMouseEnter=function(e){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(e)},t.handleOnKeyDown=function(e){var r,s,i=e.key;i===T.Space&&(e.preventDefault(),e.key=T.Enter),(s=(r=t.props).handleOnKeyDown)===null||s===void 0||s.call(r,e)},t.isSameDay=function(e){return K(t.props.day,e)},t.isKeyboardSelected=function(){var e;if(t.props.disabledKeyboardNavigation)return!1;var r=t.props.selectsMultiple?(e=t.props.selectedDates)===null||e===void 0?void 0:e.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected),s=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!r&&t.isSameDayOrWeek(t.props.preSelection)&&!s},t.isDisabled=function(e){return e===void 0&&(e=t.props.day),_e(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(){return _a(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return K(t.props.day,rt(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(e){return t.props.showWeekPicker&&K(e,rt(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(e){return t.isSameDay(e)||t.isSameWeek(e)},t.getHighLightedClass=function(){var e=t.props,r=e.day,s=e.highlightDates;if(!s)return!1;var i=re(r,"MM.dd.yyyy");return s.get(i)},t.getHolidaysClass=function(){var e,r=t.props,s=r.day,i=r.holidays;if(!i)return[void 0];var l=re(s,"MM.dd.yyyy");return i.has(l)?[(e=i.get(l))===null||e===void 0?void 0:e.className]:[void 0]},t.isInRange=function(){var e=t.props,r=e.day,s=e.startDate,i=e.endDate;return!s||!i?!1:lt(r,s,i)},t.isInSelectingRange=function(){var e,r=t.props,s=r.day,i=r.selectsStart,l=r.selectsEnd,d=r.selectsRange,u=r.selectsDisabledDaysInRange,c=r.startDate,p=r.swapRange,f=r.endDate,m=(e=t.props.selectingDate)!==null&&e!==void 0?e:t.props.preSelection;if(t.isAfterMonth()||t.isBeforeMonth()||!(i||l||d)||!m||!u&&t.isDisabled())return!1;if(i&&f&&(Ae(m,f)||ut(m,f)))return lt(s,m,f);if(l&&c&&(qe(m,c)||ut(m,c)))return lt(s,c,m);if(d&&c&&!f){if(ut(m,c)||qe(m,c))return lt(s,c,m);if(p&&Ae(m,c))return lt(s,m,c)}return!1},t.isSelectingRangeStart=function(){var e;if(!t.isInSelectingRange())return!1;var r=t.props,s=r.day,i=r.startDate,l=r.selectsStart,d=r.swapRange,u=r.selectsRange,c=(e=t.props.selectingDate)!==null&&e!==void 0?e:t.props.preSelection;return l?K(s,c):u&&d&&i&&c?K(s,Ae(c,i)?c:i):K(s,i)},t.isSelectingRangeEnd=function(){var e;if(!t.isInSelectingRange())return!1;var r=t.props,s=r.day,i=r.endDate,l=r.selectsEnd,d=r.selectsRange,u=r.swapRange,c=r.startDate,p=(e=t.props.selectingDate)!==null&&e!==void 0?e:t.props.preSelection;return l?K(s,p):d&&u&&c&&p?K(s,Ae(p,c)?c:p):d?K(s,p):K(s,i)},t.isRangeStart=function(){var e=t.props,r=e.day,s=e.startDate,i=e.endDate;return!s||!i?!1:K(s,r)},t.isRangeEnd=function(){var e=t.props,r=e.day,s=e.startDate,i=e.endDate;return!s||!i?!1:K(i,r)},t.isWeekend=function(){var e=_i(t.props.day);return e===0||e===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Ne(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Ne(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(G())},t.isSelected=function(){var e;return t.props.selectsMultiple?(e=t.props.selectedDates)===null||e===void 0?void 0:e.some(function(r){return t.isSameDayOrWeek(r)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(e){var r=t.props.dayClassName?t.props.dayClassName(e):void 0;return ie("react-datepicker__day",r,"react-datepicker__day--"+xd(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var e=t.props,r=e.day,s=e.ariaLabelPrefixWhenEnabled,i=s===void 0?"Choose":s,l=e.ariaLabelPrefixWhenDisabled,d=l===void 0?"Not available":l,u=t.isDisabled()||t.isExcluded()?d:i;return"".concat(u," ").concat(re(r,"PPPP",t.props.locale))},t.getTitle=function(){var e=t.props,r=e.day,s=e.holidays,i=s===void 0?new Map:s,l=e.excludeDates,d=re(r,"MM.dd.yyyy"),u=[];return i.has(d)&&u.push.apply(u,i.get(d).holidayNames),t.isExcluded()&&u.push(l==null?void 0:l.filter(function(c){return c instanceof Date?K(c,r):K(c==null?void 0:c.date,r)}).map(function(c){if(!(c instanceof Date))return c==null?void 0:c.message})),u.join(", ")},t.getTabIndex=function(){var e=t.props.selected,r=t.props.preSelection,s=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(e)&&K(r,e))?0:-1;return s},t.handleFocusDay=function(){var e;t.shouldFocusDay()&&((e=t.dayEl.current)===null||e===void 0||e.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(Za(t.props.day),t.props.day):Za(t.props.day)},t.render=function(){return y.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"gridcell",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&y.createElement("span",{className:"overlay"},t.getTitle()))},t}return n.prototype.componentDidMount=function(){this.handleFocusDay()},n.prototype.componentDidUpdate=function(){this.handleFocusDay()},n.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},n.prototype.isDayActiveElement=function(){var t,e,r;return((e=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||e===void 0?void 0:e.contains(document.activeElement))&&((r=document.activeElement)===null||r===void 0?void 0:r.classList.contains("react-datepicker__day"))},n.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},n})(b.Component),Ld=(function(a){he(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.weekNumberEl=b.createRef(),t.handleClick=function(e){t.props.onClick&&t.props.onClick(e)},t.handleOnKeyDown=function(e){var r,s,i=e.key;i===T.Space&&(e.preventDefault(),e.key=T.Enter),(s=(r=t.props).handleOnKeyDown)===null||s===void 0||s.call(r,e)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!K(t.props.date,t.props.selected)&&K(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||K(t.props.date,t.props.selected)&&K(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(e){var r=!1;t.getTabIndex()===0&&!(e!=null&&e.isInputFocused)&&K(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(r=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(r=!0)),r&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},n.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},n.prototype.render=function(){var t=this.props,e=t.weekNumber,r=t.isWeekDisabled,s=t.ariaLabelPrefix,i=s===void 0?n.defaultProps.ariaLabelPrefix:s,l=t.onClick,d={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!r,"react-datepicker__week-number--selected":!!l&&K(this.props.date,this.props.selected)};return y.createElement("div",{ref:this.weekNumberEl,className:ie(d),"aria-label":"".concat(i," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},e)},n})(b.Component),Yd=(function(a){he(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.isDisabled=function(e){return _e(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(e,r){t.props.onDayClick&&t.props.onDayClick(e,r)},t.handleDayMouseEnter=function(e){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(e)},t.handleWeekClick=function(e,r,s){for(var i,l,d,u=new Date(e),c=0;c<7;c++){var p=new Date(e);p.setDate(p.getDate()+c);var f=!t.isDisabled(p);if(f){u=p;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(u,r,s),t.props.showWeekPicker&&t.handleDayClick(u,s),((i=t.props.shouldCloseOnSelect)!==null&&i!==void 0?i:n.defaultProps.shouldCloseOnSelect)&&((d=(l=t.props).setOpen)===null||d===void 0||d.call(l,!1))},t.formatWeekNumber=function(e){return t.props.formatWeekNumber?t.props.formatWeekNumber(e):vd(e)},t.isWeekDisabled=function(){for(var e=t.startOfWeek(),r=Me(e,6),s=new Date(e);s<=r;){if(!t.isDisabled(s))return!1;s=Me(s,1)}return!0},t.renderDays=function(){var e=t.startOfWeek(),r=[],s=t.formatWeekNumber(e);if(t.props.showWeekNumber){var i=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,e,s):void 0;r.push(y.createElement(Ld,Q({key:"W"},n.defaultProps,t.props,{weekNumber:s,isWeekDisabled:t.isWeekDisabled(),date:e,onClick:i})))}return r.concat([0,1,2,3,4,5,6].map(function(l){var d=Me(e,l);return y.createElement(Id,Q({},n.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:d.valueOf(),day:d,onClick:t.handleDayClick.bind(t,d),onMouseEnter:t.handleDayMouseEnter.bind(t,d)}))}))},t.startOfWeek=function(){return rt(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!K(t.startOfWeek(),t.props.selected)&&K(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":K(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},e=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return y.createElement("div",{className:ie(t,e),role:"row"},this.renderDays())},n})(b.Component),Ht,Ad=6,Ct={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Jr=(Ht={},Ht[Ct.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Ht[Ct.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Ht[Ct.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Ht),hr=1;function jn(a,n){return a?Ct.FOUR_COLUMNS:n?Ct.TWO_COLUMNS:Ct.THREE_COLUMNS}var Fd=(function(a){he(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.MONTH_REFS=Fe([],Array(12),!0).map(function(){return b.createRef()}),t.QUARTER_REFS=Fe([],Array(4),!0).map(function(){return b.createRef()}),t.isDisabled=function(e){return _e(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(e){return _a(e,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(e,r){var s,i;(i=(s=t.props).onDayClick)===null||i===void 0||i.call(s,e,r,t.props.orderInDisplay)},t.handleDayMouseEnter=function(e){var r,s;(s=(r=t.props).onDayMouseEnter)===null||s===void 0||s.call(r,e)},t.handleMouseLeave=function(){var e,r;(r=(e=t.props).onMouseLeave)===null||r===void 0||r.call(e)},t.isRangeStartMonth=function(e){var r=t.props,s=r.day,i=r.startDate,l=r.endDate;return!i||!l?!1:be(ke(s,e),i)},t.isRangeStartQuarter=function(e){var r=t.props,s=r.day,i=r.startDate,l=r.endDate;return!i||!l?!1:Tr(yt(s,e),i)},t.isRangeEndMonth=function(e){var r=t.props,s=r.day,i=r.startDate,l=r.endDate;return!i||!l?!1:be(ke(s,e),l)},t.isRangeEndQuarter=function(e){var r=t.props,s=r.day,i=r.startDate,l=r.endDate;return!i||!l?!1:Tr(yt(s,e),l)},t.isInSelectingRangeMonth=function(e){var r,s=t.props,i=s.day,l=s.selectsStart,d=s.selectsEnd,u=s.selectsRange,c=s.startDate,p=s.endDate,f=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(l||d||u)||!f?!1:l&&p?ur(f,p,e,i):d&&c||u&&c&&!p?ur(c,f,e,i):!1},t.isSelectingMonthRangeStart=function(e){var r;if(!t.isInSelectingRangeMonth(e))return!1;var s=t.props,i=s.day,l=s.startDate,d=s.selectsStart,u=ke(i,e),c=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return d?be(u,c):be(u,l)},t.isSelectingMonthRangeEnd=function(e){var r;if(!t.isInSelectingRangeMonth(e))return!1;var s=t.props,i=s.day,l=s.endDate,d=s.selectsEnd,u=s.selectsRange,c=ke(i,e),p=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return d||u?be(c,p):be(c,l)},t.isInSelectingRangeQuarter=function(e){var r,s=t.props,i=s.day,l=s.selectsStart,d=s.selectsEnd,u=s.selectsRange,c=s.startDate,p=s.endDate,f=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(l||d||u)||!f?!1:l&&p?mr(f,p,e,i):d&&c||u&&c&&!p?mr(c,f,e,i):!1},t.isWeekInMonth=function(e){var r=t.props.day,s=Me(e,6);return be(e,r)||be(s,r)},t.isCurrentMonth=function(e,r){return q(e)===q(G())&&r===Ne(G())},t.isCurrentQuarter=function(e,r){return q(e)===q(G())&&r===et(G())},t.isSelectedMonth=function(e,r,s){return Ne(s)===r&&q(e)===q(s)},t.isSelectMonthInList=function(e,r,s){return s.some(function(i){return t.isSelectedMonth(e,r,i)})},t.isSelectedQuarter=function(e,r,s){return et(s)===r&&q(e)===q(s)},t.isSelectQuarterInList=function(e,r,s){return s.some(function(i){return t.isSelectedQuarter(e,r,i)})},t.isMonthSelected=function(){var e=t.props,r=e.day,s=e.selected,i=e.selectedDates,l=e.selectsMultiple,d=Ne(r);return l?i==null?void 0:i.some(function(u){return t.isSelectedMonth(r,d,u)}):!!s&&t.isSelectedMonth(r,d,s)},t.isQuarterSelected=function(){var e=t.props,r=e.day,s=e.selected,i=e.selectedDates,l=e.selectsMultiple,d=et(r);return l?i==null?void 0:i.some(function(u){return t.isSelectedQuarter(r,d,u)}):!!s&&t.isSelectedQuarter(r,d,s)},t.renderWeeks=function(){if(!De(t.props.day))return[];for(var e=[],r=t.props.fixedHeight,s=0,i=!1,l=rt(Ke(t.props.day),t.props.locale,t.props.calendarStartDay),d=function(h){return t.props.showWeekPicker?rt(h,t.props.locale,t.props.calendarStartDay):t.props.preSelection},u=function(h){return t.props.showWeekPicker?rt(h,t.props.locale,t.props.calendarStartDay):t.props.selected},c=t.props.selected?u(t.props.selected):void 0,p=t.props.preSelection?d(t.props.preSelection):void 0;e.push(y.createElement(Yd,Q({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:s,day:l,month:Ne(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:c,preSelection:p,showWeekNumber:t.props.showWeekNumbers}))),!i;){s++,l=Dr(l,1);var f=r&&s>=Ad,m=!r&&!t.isWeekInMonth(l);if(f||m)if(t.props.peekNextMonth)i=!0;else break}return e},t.onMonthClick=function(e,r){var s=t.isMonthDisabledForLabelDate(r),i=s.isDisabled,l=s.labelDate;i||t.handleDayClick(Ke(l),e)},t.onMonthMouseEnter=function(e){var r=t.isMonthDisabledForLabelDate(e),s=r.isDisabled,i=r.labelDate;s||t.handleDayMouseEnter(Ke(i))},t.handleMonthNavigation=function(e,r){var s,i,l,d;(i=(s=t.props).setPreSelection)===null||i===void 0||i.call(s,r),(d=(l=t.MONTH_REFS[e])===null||l===void 0?void 0:l.current)===null||d===void 0||d.focus()},t.handleKeyboardNavigation=function(e,r,s){var i,l=t.props,d=l.selected,u=l.preSelection,c=l.setPreSelection,p=l.minDate,f=l.maxDate,m=l.showFourColumnMonthYearPicker,h=l.showTwoColumnMonthYearPicker;if(u){var v=jn(m,h),g=t.getVerticalOffset(v),D=(i=Jr[v])===null||i===void 0?void 0:i.grid,k=function(A,_,w){var E,L,j=_,P=w;switch(A){case T.ArrowRight:j=Ee(_,hr),P=w===11?0:w+hr;break;case T.ArrowLeft:j=pt(_,hr),P=w===0?11:w-hr;break;case T.ArrowUp:j=pt(_,g),P=!((E=D==null?void 0:D[0])===null||E===void 0)&&E.includes(w)?w+12-g:w-g;break;case T.ArrowDown:j=Ee(_,g),P=!((L=D==null?void 0:D[D.length-1])===null||L===void 0)&&L.includes(w)?w-12+g:w+g;break}return{newCalculatedDate:j,newCalculatedMonth:P}},C=function(A,_,w){for(var E=40,L=A,j=!1,P=0,I=k(L,_,w),z=I.newCalculatedDate,$=I.newCalculatedMonth;!j;){if(P>=E){z=_,$=w;break}if(p&&z<p){L=T.ArrowRight;var W=k(L,z,$);z=W.newCalculatedDate,$=W.newCalculatedMonth}if(f&&z>f){L=T.ArrowLeft;var W=k(L,z,$);z=W.newCalculatedDate,$=W.newCalculatedMonth}if(_d(z,t.props)){var W=k(L,z,$);z=W.newCalculatedDate,$=W.newCalculatedMonth}else j=!0;P++}return{newCalculatedDate:z,newCalculatedMonth:$}};if(r===T.Enter){t.isMonthDisabled(s)||(t.onMonthClick(e,s),c==null||c(d));return}var M=C(r,u,s),S=M.newCalculatedDate,F=M.newCalculatedMonth;switch(r){case T.ArrowRight:case T.ArrowLeft:case T.ArrowUp:case T.ArrowDown:t.handleMonthNavigation(F,S);break}}},t.getVerticalOffset=function(e){var r,s;return(s=(r=Jr[e])===null||r===void 0?void 0:r.verticalNavigationOffset)!==null&&s!==void 0?s:0},t.onMonthKeyDown=function(e,r){var s=t.props,i=s.disabledKeyboardNavigation,l=s.handleOnMonthKeyDown,d=e.key;d!==T.Tab&&e.preventDefault(),i||t.handleKeyboardNavigation(e,d,r),l&&l(e)},t.onQuarterClick=function(e,r){var s=yt(t.props.day,r);pr(s,t.props)||t.handleDayClick(mn(s),e)},t.onQuarterMouseEnter=function(e){var r=yt(t.props.day,e);pr(r,t.props)||t.handleDayMouseEnter(mn(r))},t.handleQuarterNavigation=function(e,r){var s,i,l,d;t.isDisabled(r)||t.isExcluded(r)||((i=(s=t.props).setPreSelection)===null||i===void 0||i.call(s,r),(d=(l=t.QUARTER_REFS[e-1])===null||l===void 0?void 0:l.current)===null||d===void 0||d.focus())},t.onQuarterKeyDown=function(e,r){var s,i,l=e.key;if(!t.props.disabledKeyboardNavigation)switch(l){case T.Enter:t.onQuarterClick(e,r),(i=(s=t.props).setPreSelection)===null||i===void 0||i.call(s,t.props.selected);break;case T.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(r===4?1:r+1,fa(t.props.preSelection,1));break;case T.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(r===1?4:r-1,rs(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(e){var r,s=t.props,i=s.day,l=s.disabled,d=s.minDate,u=s.maxDate,c=s.excludeDates,p=s.includeDates,f=ke(i,e);return l?{isDisabled:!0,labelDate:ke(i,e)}:{isDisabled:(r=(d||u||c||p)&&vs(f,t.props))!==null&&r!==void 0?r:!1,labelDate:f}},t.isMonthDisabled=function(e){var r=t.isMonthDisabledForLabelDate(e).isDisabled;return r},t.getMonthClassNames=function(e){var r=t.props,s=r.day,i=r.startDate,l=r.endDate,d=r.preSelection,u=r.monthClassName,c=u?u(ke(s,e)):void 0,p=t.getSelection();return ie("react-datepicker__month-text","react-datepicker__month-".concat(e),c,{"react-datepicker__month-text--disabled":t.isMonthDisabled(e),"react-datepicker__month-text--selected":p?t.isSelectMonthInList(s,e,p):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&d&&t.isSelectedMonth(s,e,d)&&!t.isMonthSelected()&&!t.isMonthDisabled(e),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(e),"react-datepicker__month-text--in-range":i&&l?ur(i,l,e,s):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(e),"react-datepicker__month-text--range-end":t.isRangeEndMonth(e),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(e),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(e),"react-datepicker__month-text--today":t.isCurrentMonth(s,e)})},t.getTabIndex=function(e){if(t.props.preSelection==null)return"-1";var r=Ne(t.props.preSelection),s=t.isMonthDisabledForLabelDate(r).isDisabled,i=e===r&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return i},t.getQuarterTabIndex=function(e){if(t.props.preSelection==null)return"-1";var r=et(t.props.preSelection),s=pr(t.props.day,t.props),i=e===r&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return i},t.getAriaLabel=function(e){var r=t.props,s=r.chooseDayAriaLabelPrefix,i=s===void 0?"Choose":s,l=r.disabledDayAriaLabelPrefix,d=l===void 0?"Not available":l,u=r.day,c=r.locale,p=ke(u,e),f=t.isDisabled(p)||t.isExcluded(p)?d:i;return"".concat(f," ").concat(re(p,"MMMM yyyy",c))},t.getQuarterClassNames=function(e){var r=t.props,s=r.day,i=r.startDate,l=r.endDate,d=r.minDate,u=r.maxDate,c=r.excludeDates,p=r.includeDates,f=r.filterDate,m=r.preSelection,h=r.disabledKeyboardNavigation,v=r.disabled,g=(d||u||c||p||f||v)&&pr(yt(s,e),t.props),D=t.getSelection();return ie("react-datepicker__quarter-text","react-datepicker__quarter-".concat(e),{"react-datepicker__quarter-text--disabled":g,"react-datepicker__quarter-text--selected":D?t.isSelectQuarterInList(s,e,D):void 0,"react-datepicker__quarter-text--keyboard-selected":!h&&m&&t.isSelectedQuarter(s,e,m)&&!t.isQuarterSelected()&&!g,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(e),"react-datepicker__quarter-text--in-range":i&&l?mr(i,l,e,s):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(e),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(e),"react-datepicker__quarter-text--today":t.isCurrentQuarter(s,e)})},t.getMonthContent=function(e){var r=t.props,s=r.showFullMonthYearPicker,i=r.renderMonthContent,l=r.locale,d=r.day,u=gs(e,l),c=Ca(e,l);return i?i(e,u,c,d):s?c:u},t.getQuarterContent=function(e){var r,s=t.props,i=s.renderQuarterContent,l=s.locale,d=Cd(e,l);return(r=i==null?void 0:i(e,d))!==null&&r!==void 0?r:d},t.renderMonths=function(){var e,r=t.props,s=r.showTwoColumnMonthYearPicker,i=r.showFourColumnMonthYearPicker,l=r.day,d=r.selected,u=(e=Jr[jn(i,s)])===null||e===void 0?void 0:e.grid;return u==null?void 0:u.map(function(c,p){return y.createElement("div",{className:"react-datepicker__month-wrapper",key:p},c.map(function(f,m){return y.createElement("div",{ref:t.MONTH_REFS[f],key:m,onClick:function(h){t.onMonthClick(h,f)},onKeyDown:function(h){ws(h)&&(h.preventDefault(),h.key=T.Enter),t.onMonthKeyDown(h,f)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(f)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(f)}:void 0,tabIndex:Number(t.getTabIndex(f)),className:t.getMonthClassNames(f),"aria-disabled":t.isMonthDisabled(f),role:"option","aria-label":t.getAriaLabel(f),"aria-current":t.isCurrentMonth(l,f)?"date":void 0,"aria-selected":d?t.isSelectedMonth(l,f,d):void 0},t.getMonthContent(f))}))})},t.renderQuarters=function(){var e=t.props,r=e.day,s=e.selected,i=[1,2,3,4];return y.createElement("div",{className:"react-datepicker__quarter-wrapper"},i.map(function(l,d){return y.createElement("div",{key:d,ref:t.QUARTER_REFS[d],role:"option",onClick:function(u){t.onQuarterClick(u,l)},onKeyDown:function(u){t.onQuarterKeyDown(u,l)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(l)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(l)}:void 0,className:t.getQuarterClassNames(l),"aria-selected":s?t.isSelectedQuarter(r,l,s):void 0,tabIndex:Number(t.getQuarterTabIndex(l)),"aria-current":t.isCurrentQuarter(r,l)?"date":void 0},t.getQuarterContent(l))}))},t.getClassNames=function(){var e=t.props,r=e.selectingDate,s=e.selectsStart,i=e.selectsEnd,l=e.showMonthYearPicker,d=e.showQuarterYearPicker,u=e.showWeekPicker;return ie("react-datepicker__month",{"react-datepicker__month--selecting-range":r&&(s||i)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":d},{"react-datepicker__weekPicker":u})},t}return n.prototype.getSelection=function(){var t=this.props,e=t.selected,r=t.selectedDates,s=t.selectsMultiple;if(s)return r;if(e)return[e]},n.prototype.render=function(){var t=this.props,e=t.showMonthYearPicker,r=t.showQuarterYearPicker,s=t.day,i=t.ariaLabelPrefix,l=i===void 0?"Month ":i,d=l?l.trim()+" ":"",u=De(s)?"".concat(d).concat(re(s,"MMMM, yyyy",this.props.locale)):"",c=e||r;return c?y.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":u,role:"listbox"},e?this.renderMonths():this.renderQuarters()):y.createElement("div",{role:"table"},this.props.dayNamesHeader&&y.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),this.props.monthHeader&&y.createElement("div",{role:"rowgroup"},this.props.monthHeader),y.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":u,role:"rowgroup"},this.renderWeeks()),this.props.monthFooter&&y.createElement("div",{role:"rowgroup"},this.props.monthFooter))},n})(b.Component),Hd=(function(a){he(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(e){return t.props.month===e},t.handleOptionKeyDown=function(e,r){var s;switch(r.key){case"Enter":r.preventDefault(),t.onChange(e);break;case"Escape":r.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{r.preventDefault();var i=(e+(r.key==="ArrowUp"?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;(s=t.monthOptionButtonsRef[i])===null||s===void 0||s.focus();break}}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(e,r){return y.createElement("div",{ref:function(s){t.monthOptionButtonsRef[r]=s,t.isSelectedMonth(r)&&(s==null||s.focus())},role:"button",tabIndex:0,className:t.isSelectedMonth(r)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:e,onClick:t.onChange.bind(t,r),onKeyDown:t.handleOptionKeyDown.bind(t,r),"aria-selected":t.isSelectedMonth(r)?"true":void 0},t.isSelectedMonth(r)?y.createElement("span",{className:"react-datepicker__month-option--selected"},"âœ“"):"",e)})},t.onChange=function(e){return t.props.onChange(e)},t.handleClickOutside=function(){return t.props.onCancel()},t}return n.prototype.render=function(){return y.createElement($r,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},n})(b.Component),Wd=(function(a){he(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(e){return e.map(function(r,s){return y.createElement("option",{key:r,value:s},r)})},t.renderSelectMode=function(e){return y.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(r){return t.onChange(parseInt(r.target.value))}},t.renderSelectOptions(e))},t.renderReadView=function(e,r){return y.createElement("button",{key:"read",type:"button",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},y.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),y.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},r[t.props.month]))},t.renderDropdown=function(e){return y.createElement(Hd,Q({key:"dropdown"},t.props,{monthNames:e,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(e){var r=t.state.dropdownVisible,s=[t.renderReadView(!r,e)];return r&&s.unshift(t.renderDropdown(e)),s},t.onChange=function(e){t.toggleDropdown(),e!==t.props.month&&t.props.onChange(e)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return n.prototype.render=function(){var t=this,e=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return gs(s,t.props.locale)}:function(s){return Ca(s,t.props.locale)}),r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode(e);break;case"select":r=this.renderSelectMode(e);break}return y.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},r)},n})(b.Component),Sn=5;function Bd(a,n,t){for(var e=[],r=a??at(t,Sn),s=n??Pe(t,Sn),i=Ke(r),l=Ke(s);!qe(i,l);)e.push(G(i)),i=Ee(i,1);return e}var $d=(function(a){he(n,a);function n(t){var e=a.call(this,t)||this;return e.renderOptions=function(){return e.state.monthYearsList.map(function(r){var s=la(r),i=Oe(e.props.date,r)&&be(e.props.date,r);return y.createElement("div",{className:i?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:e.onChange.bind(e,s),"aria-selected":i?"true":void 0},i?y.createElement("span",{className:"react-datepicker__month-year-option--selected"},"âœ“"):"",re(r,e.props.dateFormat,e.props.locale))})},e.onChange=function(r){return e.props.onChange(r)},e.handleClickOutside=function(){e.props.onCancel()},e.state={monthYearsList:Bd(e.props.minDate,e.props.maxDate,e.props.date)},e}return n.prototype.render=function(){var t=ie({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return y.createElement($r,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},n})(b.Component),Mn=5,zd=(function(a){he(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e,r,s=(e=t.props.minDate)!==null&&e!==void 0?e:at(t.props.date,Mn),i=(r=t.props.maxDate)!==null&&r!==void 0?r:Pe(t.props.date,Mn),l=Ke(s),d=Ke(i),u=[];!qe(l,d);){var c=la(l);u.push(y.createElement("option",{key:c,value:c},re(l,t.props.dateFormat,t.props.locale))),l=Ee(l,1)}return u},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return y.createElement("select",{value:la(Ke(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){var r=re(t.props.date,t.props.dateFormat,t.props.locale);return y.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},y.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),y.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},r))},t.renderDropdown=function(){return y.createElement($d,Q({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,r=[t.renderReadView(!e)];return e&&r.unshift(t.renderDropdown()),r},t.onChange=function(e){t.toggleDropdown();var r=G(e);Oe(t.props.date,r)&&be(t.props.date,r)||t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return y.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},n})(b.Component),Qd=(function(a){he(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var e,r,s;t.list&&(t.list.scrollTop=(s=t.centerLi&&n.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((r=(e=t.header)===null||e===void 0?void 0:e.clientHeight)!==null&&r!==void 0?r:0):t.list.clientHeight,t.centerLi))!==null&&s!==void 0?s:0)})},t.handleClick=function(e){var r,s;(t.props.minTime||t.props.maxTime)&&bn(e,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&xn(e,t.props)||(s=(r=t.props).onChange)===null||s===void 0||s.call(r,e)},t.isSelectedTime=function(e){var r=dt(t.props.selected);return r&&ys(r,e)},t.isDisabledTime=function(e){return(t.props.minTime||t.props.maxTime)&&bn(e,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&xn(e,t.props)},t.liClasses=function(e){var r,s=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(e):void 0];return t.isSelectedTime(e)&&s.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(e)&&s.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(ve(e)*3600+xe(e)*60+tt(e))%(((r=t.props.intervals)!==null&&r!==void 0?r:n.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},t.handleOnKeyDown=function(e,r){var s,i;e.key===T.Space&&(e.preventDefault(),e.key=T.Enter),(e.key===T.ArrowUp||e.key===T.ArrowLeft)&&e.target instanceof HTMLElement&&e.target.previousSibling&&(e.preventDefault(),e.target.previousSibling instanceof HTMLElement&&e.target.previousSibling.focus()),(e.key===T.ArrowDown||e.key===T.ArrowRight)&&e.target instanceof HTMLElement&&e.target.nextSibling&&(e.preventDefault(),e.target.nextSibling instanceof HTMLElement&&e.target.nextSibling.focus()),e.key===T.Enter&&t.handleClick(r),(i=(s=t.props).handleOnKeyDown)===null||i===void 0||i.call(s,e)},t.renderTimes=function(){for(var e,r=[],s=typeof t.props.format=="string"?t.props.format:"p",i=(e=t.props.intervals)!==null&&e!==void 0?e:n.defaultProps.intervals,l=dt(t.props.selected)||dt(t.props.openToDate)||G(),d=Wt(l),u=t.props.injectTimes&&t.props.injectTimes.sort(function(g,D){return g.getTime()-D.getTime()}),c=60*Rd(l),p=c/i,f=0;f<p;f++){var m=Qt(d,f*i);if(r.push(m),u){var h=Od(d,m,f,i,u);r=r.concat(h)}}var v=r.reduce(function(g,D){return D.getTime()<=l.getTime()?D:g},r[0]);return r.map(function(g){return y.createElement("li",{key:g.valueOf(),onClick:t.handleClick.bind(t,g),className:t.liClasses(g),ref:function(D){g===v&&(t.centerLi=D)},onKeyDown:function(D){t.handleOnKeyDown(D,g)},tabIndex:g===v?0:-1,role:"option","aria-selected":t.isSelectedTime(g)?"true":void 0,"aria-disabled":t.isDisabledTime(g)?"true":void 0},re(g,s,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?y.createElement(y.Fragment,null):y.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(e){t.header=e}},y.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},n.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},n.prototype.observeDatePickerHeightChanges=function(){var t=this,e=this.props.monthRef;this.updateContainerHeight(),e&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(e))},n.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var t=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==t&&this.setState({height:t})}},n.prototype.render=function(){var t=this,e,r=this.state.height;return y.createElement("div",{className:"react-datepicker__time-container ".concat(((e=this.props.todayButton)!==null&&e!==void 0?e:n.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),y.createElement("div",{className:"react-datepicker__time"},y.createElement("div",{className:"react-datepicker__time-box"},y.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){t.list=s},style:r?{height:r}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},n.calcCenterPosition=function(t,e){return e.offsetTop-(t/2-e.clientHeight/2)},n})(b.Component),Pn=3,Vd=(function(a){he(n,a);function n(t){var e=a.call(this,t)||this;return e.YEAR_REFS=Fe([],Array(e.props.yearItemNumber),!0).map(function(){return b.createRef()}),e.isDisabled=function(r){return _e(r,{minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,includeDates:e.props.includeDates,filterDate:e.props.filterDate})},e.isExcluded=function(r){return _a(r,{excludeDates:e.props.excludeDates})},e.selectingDate=function(){var r;return(r=e.props.selectingDate)!==null&&r!==void 0?r:e.props.preSelection},e.updateFocusOnPaginate=function(r){var s=function(){var i,l;(l=(i=e.YEAR_REFS[r])===null||i===void 0?void 0:i.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(s)},e.handleYearClick=function(r,s){e.props.onDayClick&&e.props.onDayClick(r,s)},e.handleYearNavigation=function(r,s){var i,l,d,u,c=e.props,p=c.date,f=c.yearItemNumber;if(!(p===void 0||f===void 0)){var m=Ve(p,f).startPeriod;e.isDisabled(s)||e.isExcluded(s)||((l=(i=e.props).setPreSelection)===null||l===void 0||l.call(i,s),r-m<0?e.updateFocusOnPaginate(f-(m-r)):r-m>=f?e.updateFocusOnPaginate(Math.abs(f-(r-m))):(u=(d=e.YEAR_REFS[r-m])===null||d===void 0?void 0:d.current)===null||u===void 0||u.focus())}},e.isSameDay=function(r,s){return K(r,s)},e.isCurrentYear=function(r){return r===q(G())},e.isRangeStart=function(r){return e.props.startDate&&e.props.endDate&&Oe(Te(G(),r),e.props.startDate)},e.isRangeEnd=function(r){return e.props.startDate&&e.props.endDate&&Oe(Te(G(),r),e.props.endDate)},e.isInRange=function(r){return fr(r,e.props.startDate,e.props.endDate)},e.isInSelectingRange=function(r){var s=e.props,i=s.selectsStart,l=s.selectsEnd,d=s.selectsRange,u=s.startDate,c=s.endDate;return!(i||l||d)||!e.selectingDate()?!1:i&&c?fr(r,e.selectingDate(),c):l&&u||d&&u&&!c?fr(r,u,e.selectingDate()):!1},e.isSelectingRangeStart=function(r){var s;if(!e.isInSelectingRange(r))return!1;var i=e.props,l=i.startDate,d=i.selectsStart,u=Te(G(),r);return d?Oe(u,(s=e.selectingDate())!==null&&s!==void 0?s:null):Oe(u,l??null)},e.isSelectingRangeEnd=function(r){var s;if(!e.isInSelectingRange(r))return!1;var i=e.props,l=i.endDate,d=i.selectsEnd,u=i.selectsRange,c=Te(G(),r);return d||u?Oe(c,(s=e.selectingDate())!==null&&s!==void 0?s:null):Oe(c,l??null)},e.isKeyboardSelected=function(r){if(!(e.props.disabledKeyboardNavigation||e.props.date===void 0||e.props.preSelection==null)){var s=e.props,i=s.minDate,l=s.maxDate,d=s.excludeDates,u=s.includeDates,c=s.filterDate,p=s.selected,f=Bt(Te(e.props.date,r)),m=(i||l||d||u||c)&&yr(r,e.props),h=!!p&&K(f,Bt(p)),v=K(f,Bt(e.props.preSelection));return!e.props.inline&&!h&&v&&!m}},e.isSelectedYear=function(r){var s=e.props,i=s.selectsMultiple,l=s.selected,d=s.selectedDates;return i?d==null?void 0:d.some(function(u){return r===q(u)}):!!l&&r===q(l)},e.onYearClick=function(r,s){var i=e.props.date;i!==void 0&&e.handleYearClick(Bt(Te(i,s)),r)},e.onYearKeyDown=function(r,s){var i,l,d=r.key,u=e.props,c=u.date,p=u.yearItemNumber,f=u.handleOnKeyDown;if(d!==T.Tab&&r.preventDefault(),!e.props.disabledKeyboardNavigation)switch(d){case T.Enter:if(e.props.selected==null)break;e.onYearClick(r,s),(l=(i=e.props).setPreSelection)===null||l===void 0||l.call(i,e.props.selected);break;case T.ArrowRight:if(e.props.preSelection==null)break;e.handleYearNavigation(s+1,Pe(e.props.preSelection,1));break;case T.ArrowLeft:if(e.props.preSelection==null)break;e.handleYearNavigation(s-1,at(e.props.preSelection,1));break;case T.ArrowUp:{if(c===void 0||p===void 0||e.props.preSelection==null)break;var m=Ve(c,p).startPeriod,h=Pn,v=s-h;if(v<m){var g=p%h;s>=m&&s<m+g?h=g:h+=g,v=s-h}e.handleYearNavigation(v,at(e.props.preSelection,h));break}case T.ArrowDown:{if(c===void 0||p===void 0||e.props.preSelection==null)break;var D=Ve(c,p).endPeriod,h=Pn,v=s+h;if(v>D){var g=p%h;s<=D&&s>D-g?h=g:h+=g,v=s+h}e.handleYearNavigation(v,Pe(e.props.preSelection,h));break}}f&&f(r)},e.getYearClassNames=function(r){var s=e.props,i=s.date,l=s.disabled,d=s.minDate,u=s.maxDate,c=s.excludeDates,p=s.includeDates,f=s.filterDate,m=s.yearClassName;return ie("react-datepicker__year-text","react-datepicker__year-".concat(r),i?m==null?void 0:m(Te(i,r)):void 0,{"react-datepicker__year-text--selected":e.isSelectedYear(r),"react-datepicker__year-text--disabled":(d||u||c||p||f||l)&&yr(r,e.props),"react-datepicker__year-text--keyboard-selected":e.isKeyboardSelected(r),"react-datepicker__year-text--range-start":e.isRangeStart(r),"react-datepicker__year-text--range-end":e.isRangeEnd(r),"react-datepicker__year-text--in-range":e.isInRange(r),"react-datepicker__year-text--in-selecting-range":e.isInSelectingRange(r),"react-datepicker__year-text--selecting-range-start":e.isSelectingRangeStart(r),"react-datepicker__year-text--selecting-range-end":e.isSelectingRangeEnd(r),"react-datepicker__year-text--today":e.isCurrentYear(r)})},e.getYearTabIndex=function(r){if(e.props.disabledKeyboardNavigation||e.props.preSelection==null)return"-1";var s=q(e.props.preSelection),i=yr(r,e.props);return r===s&&!i?"0":"-1"},e.getYearContent=function(r){return e.props.renderYearContent?e.props.renderYearContent(r):r},e}return n.prototype.render=function(){var t=this,e=[],r=this.props,s=r.date,i=r.yearItemNumber,l=r.onYearMouseEnter,d=r.onYearMouseLeave;if(s===void 0)return null;for(var u=Ve(s,i),c=u.startPeriod,p=u.endPeriod,f=function(v){e.push(y.createElement("div",{ref:m.YEAR_REFS[v-c],onClick:function(g){t.onYearClick(g,v)},onKeyDown:function(g){ws(g)&&(g.preventDefault(),g.key=T.Enter),t.onYearKeyDown(g,v)},tabIndex:Number(m.getYearTabIndex(v)),className:m.getYearClassNames(v),onMouseEnter:m.props.usePointerEvent?void 0:function(g){return l(g,v)},onPointerEnter:m.props.usePointerEvent?function(g){return l(g,v)}:void 0,onMouseLeave:m.props.usePointerEvent?void 0:function(g){return d(g,v)},onPointerLeave:m.props.usePointerEvent?function(g){return d(g,v)}:void 0,key:v,"aria-current":m.isCurrentYear(v)?"date":void 0},m.getYearContent(v)))},m=this,h=c;h<=p;h++)f(h);return y.createElement("div",{className:"react-datepicker__year"},y.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},e))},n})(b.Component);function qd(a,n,t,e){for(var r=[],s=0;s<2*n+1;s++){var i=a+n-s,l=!0;t&&(l=q(t)<=i),e&&l&&(l=q(e)>=i),l&&r.push(i)}return r}var Kd=(function(a){he(n,a);function n(t){var e=a.call(this,t)||this;e.yearOptionButtonsRef={},e.handleOptionKeyDown=function(l,d){var u;switch(d.key){case"Enter":d.preventDefault(),e.onChange(l);break;case"Escape":d.preventDefault(),e.props.onCancel();break;case"ArrowUp":case"ArrowDown":{d.preventDefault();var c=l+(d.key==="ArrowUp"?1:-1);e.yearOptionButtonsRef[c]&&((u=e.yearOptionButtonsRef[c])===null||u===void 0||u.focus());break}}},e.renderOptions=function(){e.yearOptionButtonsRef={};var l=e.props.year,d=e.state.yearsList.map(function(p){return y.createElement("div",{ref:function(f){e.yearOptionButtonsRef[p]=f,p===l&&(f==null||f.focus())},role:"button",tabIndex:0,className:l===p?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:p,onClick:e.onChange.bind(e,p),onKeyDown:e.handleOptionKeyDown.bind(e,p),"aria-selected":l===p?"true":void 0},l===p?y.createElement("span",{className:"react-datepicker__year-option--selected"},"âœ“"):"",p)}),u=e.props.minDate?q(e.props.minDate):null,c=e.props.maxDate?q(e.props.maxDate):null;return(!c||!e.state.yearsList.find(function(p){return p===c}))&&d.unshift(y.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:e.incrementYears},y.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!e.state.yearsList.find(function(p){return p===u}))&&d.push(y.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:e.decrementYears},y.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),d},e.onChange=function(l){e.props.onChange(l)},e.handleClickOutside=function(){e.props.onCancel()},e.shiftYears=function(l){var d=e.state.yearsList.map(function(u){return u+l});e.setState({yearsList:d})},e.incrementYears=function(){return e.shiftYears(1)},e.decrementYears=function(){return e.shiftYears(-1)};var r=t.yearDropdownItemNumber,s=t.scrollableYearDropdown,i=r||(s?10:5);return e.state={yearsList:qd(e.props.year,i,e.props.minDate,e.props.maxDate)},e.dropdownRef=b.createRef(),e}return n.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var e=t.children?Array.from(t.children):null,r=e?e.find(function(s){return s.ariaSelected}):null;t.scrollTop=r&&r instanceof HTMLElement?r.offsetTop+(r.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},n.prototype.render=function(){var t=ie({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return y.createElement($r,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},n})(b.Component),Ud=(function(a){he(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=t.props.minDate?q(t.props.minDate):1900,r=t.props.maxDate?q(t.props.maxDate):2100,s=[],i=e;i<=r;i++)s.push(y.createElement("option",{key:i,value:i},i));return s},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return y.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){return y.createElement("button",{key:"read",type:"button",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:t.toggleDropdown},y.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),y.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return y.createElement(Kd,Q({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,r=[t.renderReadView(!e)];return e&&r.unshift(t.renderDropdown()),r},t.onChange=function(e){t.toggleDropdown(),e!==t.props.year&&t.props.onChange(e)},t.toggleDropdown=function(e){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,e)})},t.handleYearChange=function(e,r){var s;(s=t.onSelect)===null||s===void 0||s.call(t,e,r),t.setOpen()},t.onSelect=function(e,r){var s,i;(i=(s=t.props).onSelect)===null||i===void 0||i.call(s,e,r)},t.setOpen=function(){var e,r;(r=(e=t.props).setOpen)===null||r===void 0||r.call(e,!0)},t}return n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return y.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},n})(b.Component),Gd=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Ds="react-datepicker-ignore-onclickoutside",Xd=function(a){var n=(a.className||"").split(/\s+/);return Gd.some(function(t){return n.indexOf(t)>=0})},Zd=(function(a){he(n,a);function n(t){var e=a.call(this,t)||this;return e.monthContainer=void 0,e.handleClickOutside=function(r){e.props.onClickOutside(r)},e.setClickOutsideRef=function(){return e.containerRef.current},e.handleDropdownFocus=function(r){var s,i;Xd(r.target)&&((i=(s=e.props).onDropdownFocus)===null||i===void 0||i.call(s,r))},e.getDateInView=function(){var r=e.props,s=r.preSelection,i=r.selected,l=r.openToDate,d=xs(e.props),u=bs(e.props),c=G(),p=l||i||s;return p||(d&&Ae(c,d)?d:u&&qe(c,u)?u:c)},e.increaseMonth=function(){e.setState(function(r){var s=r.date;return{date:Ee(s,1)}},function(){return e.handleMonthChange(e.state.date)})},e.decreaseMonth=function(){e.setState(function(r){var s=r.date;return{date:pt(s,1)}},function(){return e.handleMonthChange(e.state.date)})},e.handleDayClick=function(r,s,i){e.props.onSelect(r,s,i),e.props.setPreSelection&&e.props.setPreSelection(r)},e.handleDayMouseEnter=function(r){e.setState({selectingDate:r}),e.props.onDayMouseEnter&&e.props.onDayMouseEnter(r)},e.handleMonthMouseLeave=function(){e.setState({selectingDate:void 0}),e.props.onMonthMouseLeave&&e.props.onMonthMouseLeave()},e.handleYearMouseEnter=function(r,s){e.setState({selectingDate:Te(G(),s)}),e.props.onYearMouseEnter&&e.props.onYearMouseEnter(r,s)},e.handleYearMouseLeave=function(r,s){e.props.onYearMouseLeave&&e.props.onYearMouseLeave(r,s)},e.handleYearChange=function(r){var s,i,l,d;(i=(s=e.props).onYearChange)===null||i===void 0||i.call(s,r),e.setState({isRenderAriaLiveMessage:!0}),e.props.adjustDateOnChange&&(e.props.onSelect(r),(d=(l=e.props).setOpen)===null||d===void 0||d.call(l,!0)),e.props.setPreSelection&&e.props.setPreSelection(r)},e.getEnabledPreSelectionDateForMonth=function(r){if(!_e(r,e.props))return r;for(var s=Ke(r),i=yd(r),l=Eo(i,s),d=null,u=0;u<=l;u++){var c=Me(s,u);if(!_e(c,e.props)){d=c;break}}return d},e.handleMonthChange=function(r){var s,i,l,d=(s=e.getEnabledPreSelectionDateForMonth(r))!==null&&s!==void 0?s:r;e.handleCustomMonthChange(d),e.props.adjustDateOnChange&&(e.props.onSelect(d),(l=(i=e.props).setOpen)===null||l===void 0||l.call(i,!0)),e.props.setPreSelection&&e.props.setPreSelection(d)},e.handleCustomMonthChange=function(r){var s,i;(i=(s=e.props).onMonthChange)===null||i===void 0||i.call(s,r),e.setState({isRenderAriaLiveMessage:!0})},e.handleMonthYearChange=function(r){e.handleYearChange(r),e.handleMonthChange(r)},e.changeYear=function(r){e.setState(function(s){var i=s.date;return{date:Te(i,Number(r))}},function(){return e.handleYearChange(e.state.date)})},e.changeMonth=function(r){e.setState(function(s){var i=s.date;return{date:ke(i,Number(r))}},function(){var s,i;e.handleMonthChange(e.state.date),(i=(s=e.props).onMonthSelectedInChange)===null||i===void 0||i.call(s,0)})},e.changeMonthYear=function(r){e.setState(function(s){var i=s.date;return{date:Te(ke(i,Ne(r)),q(r))}},function(){return e.handleMonthYearChange(e.state.date)})},e.header=function(r,s){if(r===void 0&&(r=e.state.date),s===void 0&&(s=0),!De(r))return[];var i=e.props.disabled,l=rt(r,e.props.locale,e.props.calendarStartDay),d=[];return e.props.showWeekNumbers&&d.push(y.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(i?"react-datepicker__day-name--disabled":""),role:"columnheader"},y.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),y.createElement("span",{"aria-hidden":"true"},e.props.weekLabel||"#"))),d.concat([0,1,2,3,4,5,6].map(function(u){var c=Me(l,u),p=e.formatWeekday(c,e.props.locale),f=re(c,"EEEE",e.props.locale),m=e.props.weekDayClassName?e.props.weekDayClassName(c):void 0;if(e.props.renderCustomDayName){var h=e.props.renderCustomDayName({day:c,shortName:p,fullName:f,locale:e.props.locale,customDayNameCount:s});return y.createElement("div",{key:u,role:"columnheader",className:ie("react-datepicker__day-name",m,i?"react-datepicker__day-name--disabled":"")},h)}return y.createElement("div",{key:u,role:"columnheader",className:ie("react-datepicker__day-name",m,i?"react-datepicker__day-name--disabled":"")},y.createElement("span",{className:"react-datepicker__sr-only"},f),y.createElement("span",{"aria-hidden":"true"},p))}))},e.formatWeekday=function(r,s){return e.props.formatWeekDay?Dd(r,e.props.formatWeekDay,s):e.props.useWeekdaysShort?kd(r,s):Nd(r,s)},e.decreaseYear=function(){e.setState(function(r){var s,i=r.date;return{date:at(i,e.props.showYearPicker?(s=e.props.yearItemNumber)!==null&&s!==void 0?s:n.defaultProps.yearItemNumber:1)}},function(){return e.handleYearChange(e.state.date)})},e.clearSelectingDate=function(){e.setState({selectingDate:void 0})},e.renderPreviousButton=function(){var r,s,i;if(!e.props.renderCustomHeader){var l=(r=e.props.monthsShown)!==null&&r!==void 0?r:n.defaultProps.monthsShown,d=e.props.showPreviousMonths?l-1:0,u=(s=e.props.monthSelectedIn)!==null&&s!==void 0?s:d,c=pt(e.state.date,u),p;switch(!0){case e.props.disabled:p=!0;break;case e.props.showMonthYearPicker:p=Dn(e.state.date,e.props);break;case e.props.showYearPicker:p=Md(e.state.date,e.props);break;case e.props.showQuarterYearPicker:p=jd(e.state.date,e.props);break;default:p=yn(c,e.props);break}if(!(!((i=e.props.forceShowMonthNavigation)!==null&&i!==void 0?i:n.defaultProps.forceShowMonthNavigation)&&!e.props.showDisabledMonthNavigation&&p||e.props.showTimeSelectOnly)){var f=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],m=["react-datepicker__navigation","react-datepicker__navigation--previous"],h=e.decreaseMonth;(e.props.showMonthYearPicker||e.props.showQuarterYearPicker||e.props.showYearPicker)&&(h=e.decreaseYear),p&&e.props.showDisabledMonthNavigation&&(m.push("react-datepicker__navigation--previous--disabled"),h=void 0);var v=e.props.showMonthYearPicker||e.props.showQuarterYearPicker||e.props.showYearPicker,g=e.props,D=g.previousMonthButtonLabel,k=D===void 0?n.defaultProps.previousMonthButtonLabel:D,C=g.previousYearButtonLabel,M=C===void 0?n.defaultProps.previousYearButtonLabel:C,S=e.props,F=S.previousMonthAriaLabel,A=F===void 0?typeof k=="string"?k:"Previous Month":F,_=S.previousYearAriaLabel,w=_===void 0?typeof M=="string"?M:"Previous Year":_;return y.createElement("button",{type:"button",className:m.join(" "),onClick:h,onKeyDown:e.props.handleOnKeyDown,"aria-label":v?w:A},y.createElement("span",{className:f.join(" ")},v?M:k))}}},e.increaseYear=function(){e.setState(function(r){var s,i=r.date;return{date:Pe(i,e.props.showYearPicker?(s=e.props.yearItemNumber)!==null&&s!==void 0?s:n.defaultProps.yearItemNumber:1)}},function(){return e.handleYearChange(e.state.date)})},e.renderNextButton=function(){var r;if(!e.props.renderCustomHeader){var s;switch(!0){case e.props.disabled:s=!0;break;case e.props.showMonthYearPicker:s=Nn(e.state.date,e.props);break;case e.props.showYearPicker:s=Pd(e.state.date,e.props);break;case e.props.showQuarterYearPicker:s=Sd(e.state.date,e.props);break;default:s=wn(e.state.date,e.props);break}if(!(!((r=e.props.forceShowMonthNavigation)!==null&&r!==void 0?r:n.defaultProps.forceShowMonthNavigation)&&!e.props.showDisabledMonthNavigation&&s||e.props.showTimeSelectOnly)){var i=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];e.props.showTimeSelect&&i.push("react-datepicker__navigation--next--with-time"),e.props.todayButton&&i.push("react-datepicker__navigation--next--with-today-button");var d=e.increaseMonth;(e.props.showMonthYearPicker||e.props.showQuarterYearPicker||e.props.showYearPicker)&&(d=e.increaseYear),s&&e.props.showDisabledMonthNavigation&&(i.push("react-datepicker__navigation--next--disabled"),d=void 0);var u=e.props.showMonthYearPicker||e.props.showQuarterYearPicker||e.props.showYearPicker,c=e.props,p=c.nextMonthButtonLabel,f=p===void 0?n.defaultProps.nextMonthButtonLabel:p,m=c.nextYearButtonLabel,h=m===void 0?n.defaultProps.nextYearButtonLabel:m,v=e.props,g=v.nextMonthAriaLabel,D=g===void 0?typeof f=="string"?f:"Next Month":g,k=v.nextYearAriaLabel,C=k===void 0?typeof h=="string"?h:"Next Year":k;return y.createElement("button",{type:"button",className:i.join(" "),onClick:d,onKeyDown:e.props.handleOnKeyDown,"aria-label":u?C:D},y.createElement("span",{className:l.join(" ")},u?h:f))}}},e.renderCurrentMonth=function(r){r===void 0&&(r=e.state.date);var s=["react-datepicker__current-month"];return e.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),e.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),e.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),y.createElement("h2",{className:s.join(" ")},De(r)?re(r,e.props.dateFormat,e.props.locale):"")},e.renderYearDropdown=function(r){if(r===void 0&&(r=!1),!(!e.props.showYearDropdown||r))return y.createElement(Ud,Q({},n.defaultProps,e.props,{date:e.state.date,onChange:e.changeYear,year:q(e.state.date)}))},e.renderMonthDropdown=function(r){if(r===void 0&&(r=!1),!(!e.props.showMonthDropdown||r))return y.createElement(Wd,Q({},n.defaultProps,e.props,{month:Ne(e.state.date),onChange:e.changeMonth}))},e.renderMonthYearDropdown=function(r){if(r===void 0&&(r=!1),!(!e.props.showMonthYearDropdown||r))return y.createElement(zd,Q({},n.defaultProps,e.props,{date:e.state.date,onChange:e.changeMonthYear}))},e.handleTodayButtonClick=function(r){e.props.onSelect(hn(),r),e.props.setPreSelection&&e.props.setPreSelection(hn())},e.renderTodayButton=function(){if(!(!e.props.todayButton||e.props.showTimeSelectOnly))return y.createElement("div",{className:"react-datepicker__today-button",onClick:e.handleTodayButtonClick},e.props.todayButton)},e.renderDayNamesHeader=function(r,s){return s===void 0&&(s=0),y.createElement("div",{className:"react-datepicker__day-names",role:"row"},e.header(r,s))},e.renderDefaultHeader=function(r){var s=r.monthDate,i=r.i,l=y.createElement("div",{className:ie("react-datepicker__header",{"react-datepicker__header--has-time-select":e.props.showTimeSelect,"react-datepicker__header--middle":e.props.monthHeaderPosition==="middle","react-datepicker__header--bottom":e.props.monthHeaderPosition==="bottom"})},e.renderCurrentMonth(s),y.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(e.props.dropdownMode),onFocus:e.handleDropdownFocus},e.renderMonthDropdown(i!==0),e.renderMonthYearDropdown(i!==0),e.renderYearDropdown(i!==0)));return e.props.monthHeaderPosition==="top"?l:y.createElement("div",{className:"react-datepicker__header-wrapper"},e.renderPreviousButton()||null,e.renderNextButton()||null,l)},e.renderCustomHeader=function(r){var s,i,l=r.monthDate,d=r.i;if(e.props.showTimeSelect&&!e.state.monthContainer||e.props.showTimeSelectOnly)return null;var u=e.props,c=u.showYearPicker,p=u.yearItemNumber,f;if(c){var m=Ve(l,p),h=m.startPeriod,v=m.endPeriod;f={startYear:h,endYear:v}}var g=yn(e.state.date,e.props),D=wn(e.state.date,e.props),k=Dn(e.state.date,e.props),C=Nn(e.state.date,e.props);return y.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:e.props.onDropdownFocus},(i=(s=e.props).renderCustomHeader)===null||i===void 0?void 0:i.call(s,Q(Q(Q({},e.state),c&&{visibleYearsRange:f}),{customHeaderCount:d,monthDate:l,changeMonth:e.changeMonth,changeYear:e.changeYear,decreaseMonth:e.decreaseMonth,increaseMonth:e.increaseMonth,decreaseYear:e.decreaseYear,increaseYear:e.increaseYear,prevMonthButtonDisabled:g,nextMonthButtonDisabled:D,prevYearButtonDisabled:k,nextYearButtonDisabled:C})))},e.renderYearHeader=function(r){var s=r.monthDate,i=e.props,l=i.showYearPicker,d=i.yearItemNumber,u=d===void 0?n.defaultProps.yearItemNumber:d,c=Ve(s,u),p=c.startPeriod,f=c.endPeriod;return y.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(p," - ").concat(f):q(s))},e.renderHeader=function(r){var s=r.monthDate,i=r.i,l=i===void 0?0:i,d={monthDate:s,i:l};switch(!0){case e.props.renderCustomHeader!==void 0:return e.renderCustomHeader(d);case(e.props.showMonthYearPicker||e.props.showQuarterYearPicker||e.props.showYearPicker):return e.renderYearHeader(d);default:return e.renderDefaultHeader(d)}},e.renderMonths=function(){var r,s;if(!(e.props.showTimeSelectOnly||e.props.showYearPicker)){for(var i=[],l=(r=e.props.monthsShown)!==null&&r!==void 0?r:n.defaultProps.monthsShown,d=e.props.showPreviousMonths?l-1:0,u=e.props.showMonthYearPicker||e.props.showQuarterYearPicker?Pe(e.state.date,d):pt(e.state.date,d),c=(s=e.props.monthSelectedIn)!==null&&s!==void 0?s:d,p=0;p<l;++p){var f=p-c+d,m=e.props.showMonthYearPicker||e.props.showQuarterYearPicker?Pe(u,f):Ee(u,f),h="month-".concat(p),v=p<l-1,g=p>0;i.push(y.createElement("div",{key:h,ref:function(D){e.monthContainer=D??void 0},className:"react-datepicker__month-container"},e.props.monthHeaderPosition==="top"&&e.renderHeader({monthDate:m,i:p}),y.createElement(Fd,Q({},n.defaultProps,e.props,{containerRef:e.containerRef,ariaLabelPrefix:e.props.monthAriaLabelPrefix,day:m,onDayClick:e.handleDayClick,handleOnKeyDown:e.props.handleOnDayKeyDown,handleOnMonthKeyDown:e.props.handleOnKeyDown,onDayMouseEnter:e.handleDayMouseEnter,onMouseLeave:e.handleMonthMouseLeave,orderInDisplay:p,selectingDate:e.state.selectingDate,monthShowsDuplicateDaysEnd:v,monthShowsDuplicateDaysStart:g,dayNamesHeader:e.renderDayNamesHeader(m,p),monthHeader:e.props.monthHeaderPosition==="middle"?e.renderHeader({monthDate:m,i:p}):void 0,monthFooter:e.props.monthHeaderPosition==="bottom"?e.renderHeader({monthDate:m,i:p}):void 0}))))}return i}},e.renderYears=function(){if(!e.props.showTimeSelectOnly&&e.props.showYearPicker)return y.createElement("div",{className:"react-datepicker__year--container"},e.renderHeader({monthDate:e.state.date}),y.createElement(Vd,Q({},n.defaultProps,e.props,{selectingDate:e.state.selectingDate,date:e.state.date,onDayClick:e.handleDayClick,clearSelectingDate:e.clearSelectingDate,onYearMouseEnter:e.handleYearMouseEnter,onYearMouseLeave:e.handleYearMouseLeave})))},e.renderTimeSection=function(){if(e.props.showTimeSelect&&(e.state.monthContainer||e.props.showTimeSelectOnly))return y.createElement(Qd,Q({},n.defaultProps,e.props,{onChange:e.props.onTimeChange,format:e.props.timeFormat,intervals:e.props.timeIntervals,monthRef:e.state.monthContainer}))},e.renderInputTimeSection=function(){var r,s;if(e.props.showTimeInput){if(e.props.selectsRange){var i=e.props,l=i.startDate,d=i.endDate,u=l?new Date(l):void 0,c=u&&De(u)&&!!l,p=c?"".concat(bt(u.getHours()),":").concat(bt(u.getMinutes())):"",f=d?new Date(d):void 0,m=f&&De(f)&&!!d,h=m?"".concat(bt(f.getHours()),":").concat(bt(f.getMinutes())):"";return y.createElement(y.Fragment,null,y.createElement(Zr,Q({},n.defaultProps,e.props,{date:u,timeString:p,onChange:function(k){var C,M;(M=(C=e.props).onTimeChange)===null||M===void 0||M.call(C,k,"start")},timeInputLabel:((r=e.props.timeInputLabel)!==null&&r!==void 0?r:"Time")+" (Start)"})),y.createElement(Zr,Q({},n.defaultProps,e.props,{date:f,timeString:h,onChange:function(k){var C,M;(M=(C=e.props).onTimeChange)===null||M===void 0||M.call(C,k,"end")},timeInputLabel:((s=e.props.timeInputLabel)!==null&&s!==void 0?s:"Time")+" (End)"})))}var v=e.props.selected?new Date(e.props.selected):void 0,g=v&&De(v)&&!!e.props.selected,D=g?"".concat(bt(v.getHours()),":").concat(bt(v.getMinutes())):"";return y.createElement(Zr,Q({},n.defaultProps,e.props,{date:v,timeString:D,onChange:function(k){var C,M;(M=(C=e.props).onTimeChange)===null||M===void 0||M.call(C,k)}}))}},e.renderAriaLiveRegion=function(){var r;if(!De(e.state.date))return y.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var s=Ve(e.state.date,(r=e.props.yearItemNumber)!==null&&r!==void 0?r:n.defaultProps.yearItemNumber),i=s.startPeriod,l=s.endPeriod,d;return e.props.showYearPicker?d="".concat(i," - ").concat(l):e.props.showMonthYearPicker||e.props.showQuarterYearPicker?d=q(e.state.date):d="".concat(Ca(Ne(e.state.date),e.props.locale)," ").concat(q(e.state.date)),y.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},e.state.isRenderAriaLiveMessage&&d)},e.renderChildren=function(){if(e.props.children)return y.createElement("div",{className:"react-datepicker__children-container"},e.props.children)},e.containerRef=b.createRef(),e.state={date:e.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},e}return Object.defineProperty(n,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:Ds,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Gt,monthHeaderPosition:"top"}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){t.setState({monthContainer:t.monthContainer})})())},n.prototype.componentDidUpdate=function(t){var e=this;if(this.props.preSelection&&De(this.props.preSelection)&&(!K(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var r=!be(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return r&&e.handleCustomMonthChange(e.state.date)})}else this.props.openToDate&&!K(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},n.prototype.render=function(){var t=this.props.container||pd;return y.createElement($r,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},y.createElement("div",{style:{display:"contents"},ref:this.containerRef},y.createElement(t,{className:ie("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition==="top"&&this.renderPreviousButton(),this.props.monthHeaderPosition==="top"&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},n})(b.Component),Jd=function(a){var n=a.icon,t=a.className,e=t===void 0?"":t,r=a.onClick,s="react-datepicker__calendar-icon";if(typeof n=="string")return y.createElement("i",{className:"".concat(s," ").concat(n," ").concat(e),"aria-hidden":"true",onClick:r});if(y.isValidElement(n)){var i=n;return y.cloneElement(i,{className:"".concat(i.props.className||""," ").concat(s," ").concat(e),onClick:function(l){typeof i.props.onClick=="function"&&i.props.onClick(l),typeof r=="function"&&r(l)}})}return y.createElement("svg",{className:"".concat(s," ").concat(e),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:r},y.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Ns=(function(a){he(n,a);function n(t){var e=a.call(this,t)||this;return e.portalRoot=null,e.el=document.createElement("div"),e}return n.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},n.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},n.prototype.render=function(){return Ls.createPortal(this.props.children,this.el)},n})(b.Component),eu="[tabindex], a, button, input, select, textarea",tu=function(a){return(a instanceof HTMLAnchorElement||!a.disabled)&&a.tabIndex!==-1},ks=(function(a){he(n,a);function n(t){var e=a.call(this,t)||this;return e.getTabChildren=function(){var r;return Array.prototype.slice.call((r=e.tabLoopRef.current)===null||r===void 0?void 0:r.querySelectorAll(eu),1,-1).filter(tu)},e.handleFocusStart=function(){var r=e.getTabChildren();r&&r.length>1&&r[r.length-1].focus()},e.handleFocusEnd=function(){var r=e.getTabChildren();r&&r.length>1&&r[0].focus()},e.tabLoopRef=b.createRef(),e}return n.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:n.defaultProps.enableTabLoop)?y.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},y.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,y.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},n.defaultProps={enableTabLoop:!0},n})(b.Component);function ru(a){function n(t){var e,r=typeof t.hidePopper=="boolean"?t.hidePopper:!0,s=b.useRef(null),i=ud(Q({open:!r,whileElementsMounted:$c,placement:t.popperPlacement,middleware:Fe([Zc({padding:15}),Xc(10),Jc({element:s})],(e=t.popperModifiers)!==null&&e!==void 0?e:[],!0)},t.popperProps)),l=Q(Q({},t),{hidePopper:r,popperProps:Q(Q({},i),{arrowRef:s})});return y.createElement(a,Q({},l))}return n.displayName="withFloating(".concat(a.displayName||a.name||"Component",")"),n}var au=function(a){var n=a.className,t=a.wrapperClassName,e=a.hidePopper,r=e===void 0?!0:e,s=a.popperComponent,i=a.targetComponent,l=a.enableTabLoop,d=a.popperOnKeyDown,u=a.portalId,c=a.portalHost,p=a.popperProps,f=a.showArrow,m=a.popperTargetRef,h=a.monthHeaderPosition;b.useEffect(function(){m!=null&&m.current&&p.refs.setPositionReference(m.current)},[m,p.refs]);var v=void 0;if(!r){var g=ie("react-datepicker-popper",!f&&"react-datepicker-popper-offset",h==="middle"&&"react-datepicker-popper--header-middle",h==="bottom"&&"react-datepicker-popper--header-bottom",n);v=y.createElement(ks,{enableTabLoop:l},y.createElement("div",{ref:p.refs.setFloating,style:p.floatingStyles,className:g,"data-placement":p.placement,onKeyDown:d},s,f&&y.createElement(nd,{ref:p.arrowRef,context:p.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}a.popperContainer&&(v=b.createElement(a.popperContainer,{},v)),u&&!r&&(v=y.createElement(Ns,{portalId:u,portalHost:c},v));var D=ie("react-datepicker-wrapper",t);return y.createElement(y.Fragment,null,y.createElement("div",{ref:p.refs.setReference,className:D},i),v)},nu=ru(au);function En(a,n){return a&&n?Ne(a)!==Ne(n)||q(a)!==q(n):a!==n}var ea="Date input not valid.",su=(function(a){he(n,a);function n(t){var e=a.call(this,t)||this;return e.calendar=null,e.input=null,e.getPreSelection=function(){var r=e.props.timeZone,s=e.props.openToDate?e.props.openToDate:e.props.selectsEnd&&e.props.startDate?e.props.startDate:e.props.selectsStart&&e.props.endDate?e.props.endDate:G();return r?fn(s,r):s},e.modifyHolidays=function(){var r;return(r=e.props.holidays)===null||r===void 0?void 0:r.reduce(function(s,i){var l=ot(i.date,"yyyy-MM-dd",void 0,!1);return l?Fe(Fe([],s,!0),[Q(Q({},i),{date:l})],!1):s},[])},e.calcInitialState=function(){var r=e.props.timeZone,s=e.getPreSelection(),i=xs(e.props),l=bs(e.props),d=i&&Ae(s,Wt(i))?i:l&&qe(s,gn(l))?l:s,u=e.props.selectsRange?e.props.startDate:e.props.selected;return u&&r&&(u=fn(u,r)),{open:e.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:u??d,highlightDates:kn(e.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},e.getInputValue=function(){var r,s=e.props,i=s.locale,l=s.startDate,d=s.endDate,u=s.rangeSeparator,c=s.selected,p=s.selectedDates,f=s.selectsMultiple,m=s.selectsRange,h=s.formatMultipleDates,v=s.value,g=(r=e.props.dateFormat)!==null&&r!==void 0?r:n.defaultProps.dateFormat,D=e.state.inputValue;if(typeof v=="string")return v;if(typeof D=="string")return D;if(m)return hd(l,d,{dateFormat:g,locale:i,rangeSeparator:u});if(f){if(h){var k=function(C){return we(C,{dateFormat:g,locale:i})};return h(p??[],k)}return gd(p??[],{dateFormat:g,locale:i})}return we(c,{dateFormat:g,locale:i})},e.resetHiddenStatus=function(){e.setState(Q(Q({},e.state),{wasHidden:!1}))},e.setHiddenStatus=function(){e.setState(Q(Q({},e.state),{wasHidden:!0}))},e.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&e.setHiddenStatus()},e.clearPreventFocusTimeout=function(){e.preventFocusTimeout&&clearTimeout(e.preventFocusTimeout)},e.setFocus=function(){var r,s;(s=(r=e.input)===null||r===void 0?void 0:r.focus)===null||s===void 0||s.call(r,{preventScroll:!0})},e.setBlur=function(){var r,s;(s=(r=e.input)===null||r===void 0?void 0:r.blur)===null||s===void 0||s.call(r),e.cancelFocusInput()},e.deferBlur=function(){requestAnimationFrame(function(){e.setBlur()})},e.setOpen=function(r,s){s===void 0&&(s=!1),e.setState({open:r,preSelection:r&&e.state.open?e.state.preSelection:e.calcInitialState().preSelection,lastPreSelectChange:ta},function(){r||e.setState(function(i){return{focused:s?i.focused:!1}},function(){!s&&e.deferBlur(),e.setState({inputValue:null})})})},e.inputOk=function(){return He(e.state.preSelection)},e.isCalendarOpen=function(){return e.props.open===void 0?e.state.open&&!e.props.disabled&&!e.props.readOnly:e.props.open},e.handleFocus=function(r){var s,i,l=e.state.wasHidden,d=l?e.state.open:!0;l&&e.resetHiddenStatus(),e.state.preventFocus||((i=(s=e.props).onFocus)===null||i===void 0||i.call(s,r),d&&!e.props.preventOpenOnFocus&&!e.props.readOnly&&e.setOpen(!0)),e.setState({focused:!0})},e.sendFocusBackToInput=function(){e.preventFocusTimeout&&e.clearPreventFocusTimeout(),e.setState({preventFocus:!0},function(){e.preventFocusTimeout=setTimeout(function(){e.setFocus(),e.setState({preventFocus:!1})})})},e.cancelFocusInput=function(){clearTimeout(e.inputFocusTimeout),e.inputFocusTimeout=void 0},e.deferFocusInput=function(){e.cancelFocusInput(),e.inputFocusTimeout=setTimeout(function(){return e.setFocus()},1)},e.handleDropdownFocus=function(){e.cancelFocusInput()},e.resetInputValue=function(){e.setState(Q(Q({},e.state),{inputValue:null}))},e.handleBlur=function(r){var s,i;(!e.state.open||e.props.withPortal||e.props.showTimeInput)&&((i=(s=e.props).onBlur)===null||i===void 0||i.call(s,r));var l=e.state.inputValue;if(typeof l=="string"&&l.length>0){var d=/[a-zA-Z0-9]/.test(l);!d&&e.props.selected&&e.setSelected(null,void 0,!0)}e.resetInputValue(),e.state.open&&e.props.open===!1&&e.setOpen(!1),e.setState({focused:!1})},e.handleCalendarClickOutside=function(r){var s,i;(i=(s=e.props).onClickOutside)===null||i===void 0||i.call(s,r),!e.props.inline&&!r.defaultPrevented&&e.setOpen(!1),e.props.withPortal&&r.preventDefault()},e.handleChange=function(){for(var r,s,i,l,d,u,c,p,f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];var h=f[0];if(!(e.props.onChangeRaw&&(e.props.onChangeRaw.apply(e,f),!h||typeof h.isDefaultPrevented!="function"||h.isDefaultPrevented()))){e.setState({inputValue:(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:null,lastPreSelectChange:ou});var v=e.props,g=v.selectsRange,D=v.startDate,k=v.endDate,C=(r=e.props.dateFormat)!==null&&r!==void 0?r:n.defaultProps.dateFormat,M=(s=e.props.strictParsing)!==null&&s!==void 0?s:n.defaultProps.strictParsing,S=(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:"";if(g){var F=e.props.rangeSeparator,A=F.trim(),_=S.split(C.includes(A)?F:A,2).map(function(W){return W.trim()}),w=_[0],E=_[1],L=ot(w??"",C,e.props.locale,M),j=L?ot(E??"",C,e.props.locale,M):null,P=((i=dt(D))===null||i===void 0?void 0:i.getTime())!==(L==null?void 0:L.getTime()),I=((l=dt(k))===null||l===void 0?void 0:l.getTime())!==(j==null?void 0:j.getTime());if(!P&&!I||L&&_e(L,e.props)||j&&_e(j,e.props))return;L&&e.setState({preSelection:L}),(u=(d=e.props).onChange)===null||u===void 0||u.call(d,[L,j],h)}else{var z=ot(S,C,e.props.locale,M,(c=e.props.selected)!==null&&c!==void 0?c:void 0);if(z||!S)e.setSelected(z,h,!0);else if(!e.props.inline){var $=md(S,(p=e.state.preSelection)!==null&&p!==void 0?p:void 0);$&&(!e.props.minDate||!Ae($,e.props.minDate))&&(!e.props.maxDate||!qe($,e.props.maxDate))&&e.setState({preSelection:$})}}}},e.handleSelect=function(r,s,i){var l;if(!e.props.readOnly){var d=e.props,u=d.selectsRange,c=d.startDate,p=d.endDate,f=d.locale,m=d.swapRange,h=(l=e.props.dateFormat)!==null&&l!==void 0?l:n.defaultProps.dateFormat,v=!u||c&&!p&&(m||!Xr(r,c));if(e.props.shouldCloseOnSelect&&!e.props.showTimeSelect&&v&&e.sendFocusBackToInput(),e.props.onChangeRaw){var g=we(r,{dateFormat:h,locale:f});e.props.onChangeRaw(s,{date:r,formattedDate:g})}e.setSelected(r,s,!1,i),e.props.showDateSelect&&e.setState({isRenderAriaLiveMessage:!0}),!e.props.shouldCloseOnSelect||e.props.showTimeSelect?e.setPreSelection(r):v&&e.setOpen(!1)}},e.setSelected=function(r,s,i,l){var d,u,c=e.props.timeZone,p=r;if(p&&c&&(p=ze(p,c)),e.props.showYearPicker){if(p!==null&&yr(q(p),e.props))return}else if(e.props.showMonthYearPicker){if(p!==null&&vs(p,e.props))return}else if(p!==null&&_e(p,e.props))return;var f=e.props,m=f.onChange,h=f.selectsRange,v=f.startDate,g=f.endDate,D=f.selectsMultiple,k=f.selectedDates,C=f.minTime,M=f.swapRange;if(!ut(e.props.selected,p)||e.props.allowSameDay||h||D)if(p!==null&&(e.props.selected&&(!i||!e.props.showTimeSelect&&!e.props.showTimeSelectOnly&&!e.props.showTimeInput)&&(p=Qe(p,{hour:ve(e.props.selected),minute:xe(e.props.selected),second:tt(e.props.selected)})),!i&&(e.props.showTimeSelect||e.props.showTimeSelectOnly)&&C&&(p=Qe(p,{hour:C.getHours(),minute:C.getMinutes(),second:C.getSeconds()})),e.props.inline||e.setState({preSelection:p}),e.props.focusSelectedMonth||e.setState({monthSelectedIn:l})),h){var S=m,F=!v&&!g,A=v&&!g,_=!v&&!!g,w=v&&g;F?S==null||S([p,null],s):A?p===null?S==null||S([null,null],s):Xr(p,v)?M?S==null||S([p,v],s):S==null||S([p,null],s):S==null||S([v,p],s):_&&(p&&Xr(p,g)?S==null||S([p,g],s):S==null||S([p,null],s)),w&&(S==null||S([p,null],s))}else if(D){var E=m;if(p!==null)if(!(k!=null&&k.length))E==null||E([p],s);else{var L=k.some(function(P){return K(P,p)});if(L){var j=k.filter(function(P){return!K(P,p)});E==null||E(j,s)}else E==null||E(Fe(Fe([],k,!0),[p],!1),s)}}else m==null||m(p,s);i||((u=(d=e.props).onSelect)===null||u===void 0||u.call(d,p,s),e.setState({inputValue:null}))},e.setPreSelection=function(r){if(!e.props.readOnly){var s=He(e.props.minDate),i=He(e.props.maxDate),l=!0;if(r){var d=Wt(r);if(s&&i)l=lt(r,e.props.minDate,e.props.maxDate);else if(s){var u=Wt(e.props.minDate);l=qe(r,u)||ut(d,u)}else if(i){var c=gn(e.props.maxDate);l=Ae(r,c)||ut(d,c)}}l&&e.setState({preSelection:r})}},e.toggleCalendar=function(){e.setOpen(!e.state.open)},e.handleTimeChange=function(r,s){var i,l;if(!e.props.selectsMultiple){var d=e.props,u=d.selectsRange,c=d.startDate,p=d.endDate,f=d.onChange,m=d.timeZone;if(u){var h=f;if(s==="start"){if(c){var v=Qe(c,{hour:ve(r),minute:xe(r)});e.setState({preSelection:v}),m&&(v=ze(v,m)),h==null||h([v,p?m?ze(p,m):p:null],void 0)}}else if(s==="end"){if(p){var g=Qe(p,{hour:ve(r),minute:xe(r)});e.setState({preSelection:g}),m&&(g=ze(g,m)),h==null||h([c?m?ze(c,m):c:null,g],void 0)}}else{var D=c&&!p;if(D){var v=Qe(c,{hour:ve(r),minute:xe(r)});e.setState({preSelection:v}),m&&(v=ze(v,m)),h==null||h([v,null],void 0)}else if(c&&p){var g=Qe(p,{hour:ve(r),minute:xe(r)});e.setState({preSelection:g}),m&&(g=ze(g,m)),h==null||h([m?ze(c,m):c,g],void 0)}else{var k=Qe(e.getPreSelection(),{hour:ve(r),minute:xe(r)});e.setState({preSelection:k})}}}else{var C=e.props.selected?e.props.selected:e.getPreSelection(),k=e.props.selected?r:Qe(C,{hour:ve(r),minute:xe(r)});e.setState({preSelection:k}),k&&m&&(k=ze(k,m)),(l=(i=e.props).onChange)===null||l===void 0||l.call(i,k)}e.props.shouldCloseOnSelect&&!e.props.showTimeInput&&(e.sendFocusBackToInput(),e.setOpen(!1)),e.props.showTimeInput&&e.setOpen(!0),(e.props.showTimeSelectOnly||e.props.showTimeSelect)&&e.setState({isRenderAriaLiveMessage:!0}),e.setState({inputValue:null})}},e.onInputClick=function(){var r,s;!e.props.disabled&&!e.props.readOnly&&e.setOpen(!0),(s=(r=e.props).onInputClick)===null||s===void 0||s.call(r)},e.handleTimeOnlyArrowKey=function(r){var s,i,l,d,u=dt(e.props.selected)||e.state.preSelection||G(),c=(s=e.props.timeIntervals)!==null&&s!==void 0?s:30,p=(i=e.props.dateFormat)!==null&&i!==void 0?i:n.defaultProps.dateFormat,f=Array.isArray(p)?p[0]:p,m=Wt(u),h=ve(u)*60+xe(u),v=1440-c,g;if(r===T.ArrowUp){var D=Math.max(0,h-c);g=Qt(m,D)}else{var D=Math.min(v,h+c);g=Qt(m,D)}var k=re(g,f||n.defaultProps.dateFormat,e.props.locale);if(e.setState({preSelection:g,inputValue:k}),!(e.props.selectsRange||e.props.selectsMultiple)){var C=e.props.selected?e.props.selected:e.getPreSelection(),M=e.props.selected?g:Qe(C,{hour:ve(g),minute:xe(g)});(d=(l=e.props).onChange)===null||d===void 0||d.call(l,M),(e.props.showTimeSelectOnly||e.props.showTimeSelect)&&e.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){e.scrollToTimeOption(g)})}},e.handleTimeOnlyEnterKey=function(r){var s,i,l,d,u=r.target,c=u.value,p=(s=e.props.dateFormat)!==null&&s!==void 0?s:n.defaultProps.dateFormat,f=e.props.timeFormat||"p",m=e.state.preSelection||dt(e.props.selected)||G(),h=ot(c,p,e.props.locale,(i=e.props.strictParsing)!==null&&i!==void 0?i:!1,m),v=m;if(h&&De(h))v=h;else{var g=((l=e.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&e.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(g instanceof HTMLElement){var D=(d=g.textContent)===null||d===void 0?void 0:d.trim();if(D){var k=ot(D,f,e.props.locale,!1,m);k&&De(k)&&(v=k)}}}e.handleTimeChange(v),e.setOpen(!1),e.sendFocusBackToInput()},e.scrollToTimeOption=function(r){var s,i;if(!((s=e.calendar)===null||s===void 0)&&s.containerRef.current){for(var l=e.calendar.containerRef.current,d=Array.from(l.querySelectorAll(".react-datepicker__time-list-item")),u=null,c=1/0,p=e.props.timeFormat||"p",f=0,m=d;f<m.length;f++){var h=m[f],v=(i=h.textContent)===null||i===void 0?void 0:i.trim();if(v){var g=ot(v,p,e.props.locale,!1,r);if(g&&De(g)){if(ys(g,r)){u=h;break}var D=Math.abs(g.getTime()-r.getTime());D<c&&(c=D,u=h)}}}u&&(d.forEach(function(k){k.setAttribute("tabindex","-1")}),u.setAttribute("tabindex","0"),u.scrollIntoView({behavior:"smooth",block:"center"}))}},e.onInputKeyDown=function(r){var s,i,l,d,u,c;(i=(s=e.props).onKeyDown)===null||i===void 0||i.call(s,r);var p=r.key;if(!e.state.open&&!e.props.inline&&!e.props.preventOpenOnFocus){(p===T.ArrowDown||p===T.ArrowUp||p===T.Enter)&&((l=e.onInputClick)===null||l===void 0||l.call(e));return}if(e.state.open&&e.props.showTimeSelectOnly){if(p===T.ArrowDown||p===T.ArrowUp){r.preventDefault(),e.handleTimeOnlyArrowKey(p);return}if(p===T.Enter){r.preventDefault(),e.handleTimeOnlyEnterKey(r);return}}if(e.state.open){if(p===T.ArrowDown||p===T.ArrowUp){r.preventDefault();var f=e.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":e.props.showWeekPicker&&e.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':e.props.showFullMonthYearPicker||e.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',m=((d=e.calendar)===null||d===void 0?void 0:d.containerRef.current)instanceof Element&&e.calendar.containerRef.current.querySelector(f);m instanceof HTMLElement&&m.focus({preventScroll:!0});return}var h=G(e.state.preSelection);p===T.Enter?(r.preventDefault(),r.target.blur(),e.inputOk()&&e.state.lastPreSelectChange===ta?(e.handleSelect(h,r),!e.props.shouldCloseOnSelect&&e.setPreSelection(h)):e.setOpen(!1)):p===T.Escape?(r.preventDefault(),r.target.blur(),e.sendFocusBackToInput(),e.setOpen(!1)):p===T.Tab&&e.setOpen(!1),e.inputOk()||(c=(u=e.props).onInputError)===null||c===void 0||c.call(u,{code:1,msg:ea})}},e.onPortalKeyDown=function(r){var s=r.key;s===T.Escape&&(r.preventDefault(),e.setState({preventFocus:!0},function(){e.setOpen(!1),setTimeout(function(){e.setFocus(),e.setState({preventFocus:!1})})}))},e.onDayKeyDown=function(r){var s,i,l,d,u,c,p=e.props,f=p.minDate,m=p.maxDate,h=p.disabledKeyboardNavigation,v=p.showWeekPicker,g=p.shouldCloseOnSelect,D=p.locale,k=p.calendarStartDay,C=p.adjustDateOnChange,M=p.inline;if((i=(s=e.props).onKeyDown)===null||i===void 0||i.call(s,r),!h){var S=r.key,F=r.shiftKey,A=G(e.state.preSelection),_=function(L,j){var P=j;switch(L){case T.ArrowRight:P=v?Dr(j,1):Me(j,1);break;case T.ArrowLeft:P=v?Ja(j):Pl(j);break;case T.ArrowUp:P=Ja(j);break;case T.ArrowDown:P=Dr(j,1);break;case T.PageUp:P=F?at(j,1):pt(j,1);break;case T.PageDown:P=F?Pe(j,1):Ee(j,1);break;case T.Home:P=rt(j,D,k);break;case T.End:P=bd(j);break}return P},w=function(L,j){for(var P=40,I=L,z=!1,$=0,W=_(L,j);!z;){if($>=P){W=j;break}f&&W<f&&(I=T.ArrowRight,W=_e(f,e.props)?_(I,W):f),m&&W>m&&(I=T.ArrowLeft,W=_e(m,e.props)?_(I,W):m),_e(W,e.props)?((I===T.PageUp||I===T.Home)&&(I=T.ArrowRight),(I===T.PageDown||I===T.End)&&(I=T.ArrowLeft),W=_(I,W)):z=!0,$++}return W};if(S===T.Enter){r.preventDefault(),e.handleSelect(A,r),!g&&e.setPreSelection(A);return}else if(S===T.Escape){r.preventDefault(),e.setOpen(!1),e.inputOk()||(d=(l=e.props).onInputError)===null||d===void 0||d.call(l,{code:1,msg:ea});return}var E=null;switch(S){case T.ArrowLeft:case T.ArrowRight:case T.ArrowUp:case T.ArrowDown:case T.PageUp:case T.PageDown:case T.Home:case T.End:E=w(S,A);break}if(!E){(c=(u=e.props).onInputError)===null||c===void 0||c.call(u,{code:1,msg:ea});return}r.preventDefault(),e.setState({lastPreSelectChange:ta}),C&&e.setSelected(E),e.setPreSelection(E),M&&e.setState({shouldFocusDayInline:!0})}},e.onPopperKeyDown=function(r){var s=r.key;s===T.Escape&&(r.preventDefault(),e.sendFocusBackToInput(),e.setOpen(!1))},e.onClearClick=function(r){r&&r.preventDefault&&r.preventDefault(),e.sendFocusBackToInput();var s=e.props,i=s.selectsRange,l=s.onChange;i?l==null||l([null,null],r):l==null||l(null,r),e.setState({inputValue:null})},e.clear=function(){e.onClearClick()},e.onScroll=function(r){typeof e.props.closeOnScroll=="boolean"&&e.props.closeOnScroll?(r.target===document||r.target===document.documentElement||r.target===document.body)&&e.setOpen(!1):typeof e.props.closeOnScroll=="function"&&e.props.closeOnScroll(r)&&e.setOpen(!1)},e.handleMonthSelectedInChange=function(r){e.setState({monthSelectedIn:r})},e.renderCalendar=function(){var r,s;return!e.props.inline&&!e.isCalendarOpen()?null:y.createElement(Zd,Q({showMonthYearDropdown:void 0,ref:function(i){e.calendar=i}},e.props,e.state,{setOpen:e.setOpen,dateFormat:(r=e.props.dateFormatCalendar)!==null&&r!==void 0?r:n.defaultProps.dateFormatCalendar,onSelect:e.handleSelect,onClickOutside:e.handleCalendarClickOutside,holidays:Td(e.modifyHolidays()),outsideClickIgnoreClass:e.props.outsideClickIgnoreClass,onDropdownFocus:e.handleDropdownFocus,onTimeChange:e.handleTimeChange,className:e.props.calendarClassName,container:e.props.calendarContainer,handleOnKeyDown:e.props.onKeyDown,handleOnDayKeyDown:e.onDayKeyDown,setPreSelection:e.setPreSelection,dropdownMode:(s=e.props.dropdownMode)!==null&&s!==void 0?s:n.defaultProps.dropdownMode,onMonthSelectedInChange:e.handleMonthSelectedInChange}),e.props.children)},e.renderAriaLiveRegion=function(){var r,s=e.props.locale,i=(r=e.props.dateFormat)!==null&&r!==void 0?r:n.defaultProps.dateFormat,l=e.props.showTimeInput||e.props.showTimeSelect,d=l?"PPPPp":"PPPP",u;return e.props.selectsRange?u="Selected start date: ".concat(we(e.props.startDate,{dateFormat:d,locale:s}),". ").concat(e.props.endDate?"End date: "+we(e.props.endDate,{dateFormat:d,locale:s}):""):e.props.showTimeSelectOnly?u="Selected time: ".concat(we(e.props.selected,{dateFormat:i,locale:s})):e.props.showYearPicker?u="Selected year: ".concat(we(e.props.selected,{dateFormat:"yyyy",locale:s})):e.props.showMonthYearPicker?u="Selected month: ".concat(we(e.props.selected,{dateFormat:"MMMM yyyy",locale:s})):e.props.showQuarterYearPicker?u="Selected quarter: ".concat(we(e.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):u="Selected date: ".concat(we(e.props.selected,{dateFormat:d,locale:s})),y.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)},e.renderDateInput=function(){var r,s,i,l,d,u,c,p=ie(e.props.className,(r={},r[e.props.outsideClickIgnoreClass||n.defaultProps.outsideClickIgnoreClass]=e.state.open,r)),f=e.props.customInput||y.createElement("input",{type:"text"}),m=e.props.customInputRef||"ref",h={},v=(i=e.props["aria-describedby"])!==null&&i!==void 0?i:e.props.ariaDescribedBy,g=(l=e.props["aria-invalid"])!==null&&l!==void 0?l:e.props.ariaInvalid,D=(d=e.props["aria-label"])!==null&&d!==void 0?d:e.props.ariaLabel,k=(u=e.props["aria-labelledby"])!==null&&u!==void 0?u:e.props.ariaLabelledBy,C=(c=e.props["aria-required"])!==null&&c!==void 0?c:e.props.ariaRequired;return v!=null&&(h["aria-describedby"]=v),g!=null&&(h["aria-invalid"]=g),D!=null&&(h["aria-label"]=D),k!=null&&(h["aria-labelledby"]=k),C!=null&&(h["aria-required"]=C),b.cloneElement(f,Q((s={},s[m]=function(M){e.input=M},s.value=e.getInputValue(),s.onBlur=e.handleBlur,s.onChange=e.handleChange,s.onClick=e.onInputClick,s.onFocus=e.handleFocus,s.onKeyDown=e.onInputKeyDown,s.id=e.props.id,s.name=e.props.name,s.form=e.props.form,s.autoFocus=e.props.autoFocus,s.placeholder=e.props.placeholderText,s.disabled=e.props.disabled,s.autoComplete=e.props.autoComplete,s.className=ie(f.props.className,p),s.title=e.props.title,s.readOnly=e.props.readOnly,s.required=e.props.required,s.tabIndex=e.props.tabIndex,s),h))},e.renderClearButton=function(){var r=e.props,s=r.isClearable,i=r.disabled,l=r.selected,d=r.startDate,u=r.endDate,c=r.clearButtonTitle,p=r.clearButtonClassName,f=p===void 0?"":p,m=r.ariaLabelClose,h=m===void 0?"Close":m,v=r.selectedDates,g=r.readOnly;return s&&!g&&(l!=null||d!=null||u!=null||v!=null&&v.length)?y.createElement("button",{type:"button",className:ie("react-datepicker__close-icon",f,{"react-datepicker__close-icon--disabled":i}),disabled:i,"aria-label":h,onClick:e.onClearClick,title:c,tabIndex:-1}):null},e.state=e.calcInitialState(),e.preventFocusTimeout=void 0,e}return Object.defineProperty(n,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:Ds,readOnly:!1,rangeSeparator:hs,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Gt,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.componentDidUpdate=function(t,e){var r,s,i,l;this.props.selectsRange&&En(t.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):En(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&e.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:kn(this.props.highlightDates)}),!e.focused&&!ut(t.selected,this.props.selected)&&this.setState({inputValue:null}),e.open!==this.state.open&&(e.open===!1&&this.state.open===!0&&((s=(r=this.props).onCalendarOpen)===null||s===void 0||s.call(r)),e.open===!0&&this.state.open===!1&&((l=(i=this.props).onCalendarClose)===null||l===void 0||l.call(i)))},n.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.renderInputContainer=function(){var t=this.props,e=t.showIcon,r=t.icon,s=t.calendarIconClassname,i=t.calendarIconClassName,l=t.toggleCalendarOnIconClick,d=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),y.createElement("div",{className:"react-datepicker__input-container".concat(e?" react-datepicker__view-calendar-icon":"")},e&&y.createElement(Jd,Q({icon:r,className:ie(i,!i&&s,d&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},n.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var e=this.state.open?y.createElement(ks,{enableTabLoop:this.props.enableTabLoop},y.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(e=y.createElement(Ns,Q({portalId:this.props.portalId},this.props),e)),y.createElement(y.Fragment,null,this.renderInputContainer(),e)}return y.createElement(nu,Q({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},n})(b.Component),ou="input",ta="navigate";const iu={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dÃ­a",other:"{{count}} dÃ­as"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 aÃ±o",other:"alrededor de {{count}} aÃ±os"},xYears:{one:"1 aÃ±o",other:"{{count}} aÃ±os"},overXYears:{one:"mÃ¡s de 1 aÃ±o",other:"mÃ¡s de {{count}} aÃ±os"},almostXYears:{one:"casi 1 aÃ±o",other:"casi {{count}} aÃ±os"}},lu=(a,n,t)=>{let e;const r=iu[a];return typeof r=="string"?e=r:n===1?e=r.one:e=r.other.replace("{{count}}",n.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"en "+e:"hace "+e:e},cu={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},du={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},uu={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pu={date:Nt({formats:cu,defaultWidth:"full"}),time:Nt({formats:du,defaultWidth:"full"}),dateTime:Nt({formats:uu,defaultWidth:"full"})},fu={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maÃ±ana a la' p",nextWeek:"eeee 'a la' p",other:"P"},mu={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maÃ±ana a las' p",nextWeek:"eeee 'a las' p",other:"P"},hu=(a,n,t,e)=>n.getHours()!==1?mu[a]:fu[a],gu={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despuÃ©s de cristo"]},vu={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1Âº trimestre","2Âº trimestre","3Âº trimestre","4Âº trimestre"]},xu={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},bu={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sÃ¡"],abbreviated:["dom","lun","mar","miÃ©","jue","vie","sÃ¡b"],wide:["domingo","lunes","martes","miÃ©rcoles","jueves","viernes","sÃ¡bado"]},yu={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maÃ±ana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maÃ±ana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maÃ±ana",afternoon:"tarde",evening:"tarde",night:"noche"}},wu={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maÃ±ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maÃ±ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maÃ±ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},Du=(a,n)=>Number(a)+"Âº",Nu={ordinalNumber:Du,era:Re({values:gu,defaultWidth:"wide"}),quarter:Re({values:vu,defaultWidth:"wide",argumentCallback:a=>Number(a)-1}),month:Re({values:xu,defaultWidth:"wide"}),day:Re({values:bu,defaultWidth:"wide"}),dayPeriod:Re({values:yu,defaultWidth:"wide",formattingValues:wu,defaultFormattingWidth:"wide"})},ku=/^(\d+)(Âº)?/i,Cu=/\d+/i,_u={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uÃº]n|despu[eÃ©]s de cristo|era com[uÃº]n)/i},ju={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uÃº]n)/i,/^(despu[eÃ©]s de cristo|era com[uÃº]n)/i]},Su={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](Âº)? trimestre/i},Mu={any:[/1/i,/2/i,/3/i,/4/i]},Pu={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},Eu={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Tu={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[Ã¡a])/i,abbreviated:/^(dom|lun|mar|mi[Ã©e]|jue|vie|s[Ã¡a]b)/i,wide:/^(domingo|lunes|martes|mi[Ã©e]rcoles|jueves|viernes|s[Ã¡a]bado)/i},Ou={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Ru={narrow:/^(a|p|mn|md|(de la|a las) (maÃ±ana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maÃ±ana|tarde|noche))/i},Iu={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maÃ±ana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Lu={ordinalNumber:qn({matchPattern:ku,parsePattern:Cu,valueCallback:function(a){return parseInt(a,10)}}),era:Ie({matchPatterns:_u,defaultMatchWidth:"wide",parsePatterns:ju,defaultParseWidth:"any"}),quarter:Ie({matchPatterns:Su,defaultMatchWidth:"wide",parsePatterns:Mu,defaultParseWidth:"any",valueCallback:a=>a+1}),month:Ie({matchPatterns:Pu,defaultMatchWidth:"wide",parsePatterns:Eu,defaultParseWidth:"any"}),day:Ie({matchPatterns:Tu,defaultMatchWidth:"wide",parsePatterns:Ou,defaultParseWidth:"any"}),dayPeriod:Ie({matchPatterns:Ru,defaultMatchWidth:"any",parsePatterns:Iu,defaultParseWidth:"any"})},Yu={code:"es",formatDistance:lu,formatLong:pu,formatRelative:hu,localize:Nu,match:Lu,options:{weekStartsOn:1,firstWeekContainsDate:1}};wd("es",Yu);const Au=()=>{const a=Or(),{logout:n,currentUser:t}=Rr(),[e]=Ys(),[r,s]=b.useState(null),[i,l]=b.useState([]),[d,u]=b.useState([]),[c,p]=b.useState(!1),[f,m]=b.useState(!1),[h,v]=b.useState(!1),[g,D]=b.useState(!1),[k,C]=b.useState(null),[M,S]=b.useState(!1),[F,A]=b.useState(!1),[_,w]=b.useState(null),[E,L]=b.useState(!1),[j,P]=b.useState({birthDate:"",sex:"",profession:"",address:"",nationality:"",secondaryPhone:"",emergencyContactName:"",emergencyContactPhone:"",emergencyContactEmail:""}),[I,z]=b.useState(!1),[$,W]=b.useState(null),[V,ae]=b.useState(null),ge=b.useRef(null),[Zt,st]=b.useState(!1);b.useEffect(()=>{const O=localStorage.getItem("currentPatient");if(O){const B=JSON.parse(O);s(B),!B.ageDetails||!B.birthDate?(L(!0),P({birthDate:B.birthDate||"",sex:B.sex||"",profession:B.profession||"",address:B.address||"",nationality:B.nationality||"",secondaryPhone:B.secondaryPhone||"",emergencyContactName:B.emergencyContactName||"",emergencyContactPhone:B.emergencyContactPhone||"",emergencyContactEmail:B.emergencyContactEmail||""}),B.photoURL&&ae(B.photoURL)):(me.getAppointments().then(U=>{l(U.filter(te=>te.patientId===B.id))}),me.getConsults(B.id).then(u),me.getHistories(B.id).then(U=>{U.length===0&&a("/app/patient/history")}),me.getPatientStatus(B.id).then(U=>{m(U.canChat)}))}else a("/app/patient/login");e.get("payment")==="success"&&(S(!0),bo({particleCount:100,spread:70,origin:{y:.6}}),r&&me.getPatientStatus(r.id).then(B=>m(B.canChat)))},[a,e]),b.useEffect(()=>{if(r!=null&&r.id)return me.updatePatient(r.id,{isOnline:!0}).catch(console.error),()=>{me.updatePatient(r.id,{isOnline:!1}).catch(console.error)}},[r==null?void 0:r.id]),b.useEffect(()=>{if(!(r!=null&&r.id))return;const O=()=>{me.updatePatient(r.id,{isOnline:!1})};return window.addEventListener("beforeunload",O),()=>window.removeEventListener("beforeunload",O)},[r==null?void 0:r.id]);const Rt=async()=>{try{await n(),localStorage.removeItem("currentPatient"),a("/app/patient/login")}catch(O){console.error("Error logging out:",O)}},Jt=async()=>{if(!j.birthDate||!j.sex||!j.profession||!j.address){alert("Por favor complete todos los campos obligatorios");return}z(!0);try{const O=Ha(j.birthDate);let B=r.photoURL||"";if($){const H=(t==null?void 0:t.uid)||r.id;B=await Us($,H)}const U={...j,ageDetails:O,...B&&{photoURL:B,profileImage:B},registrationStatus:"Proceso2",registrationMessage:"Pendiente Historia clÃ­nica"};await me.updatePatient(r.id,U);const te={...r,...U};localStorage.setItem("currentPatient",JSON.stringify(te)),s(te),a("/app/patient/history")}catch(O){console.error(O),alert("Error al guardar perfil")}finally{z(!1)}},er=O=>{var U;const B=(U=O.target.files)==null?void 0:U[0];if(B){if(!B.type.startsWith("image/")){alert("Por favor seleccione una imagen vÃ¡lida");return}if(B.size>5*1024*1024){alert("La imagen no debe superar 5MB");return}W(B),ae(URL.createObjectURL(B))}},tr=()=>{f?p(!0):v(!0)},rr=O=>{C(O),D(!0)},ar=O=>{w(O),A(!0)},nr=()=>{v(!1)},It=(O,B)=>{try{let U=new Date(O);if(isNaN(U.getTime())&&typeof O=="string"){const te=O.split("/");if(te.length===3){const[H,x,N]=te.map(Number);U=new Date(N,x-1,H)}}if(B&&!isNaN(U.getTime())){const te=B.split(":").map(Number);te.length>=2&&U.setHours(te[0],te[1],0,0)}return isNaN(U.getTime())?null:U}catch{return null}},sr=(O,B)=>{const U=It(O,B);if(!U)return!1;const te=new Date,x=(U.getTime()-te.getTime())/(1e3*60);return x<=5&&x>=-60},Lt=(O,B)=>{const U=It(O,B);if(!U)return{days:0,hours:0,minutes:0,isPast:!0};const te=new Date,H=U.getTime()-te.getTime();if(H<0)return{days:0,hours:0,minutes:0,isPast:!0};const x=Math.floor(H/(1e3*60)),N=Math.floor(x/1440),fe=Math.floor(x%1440/60),ee=x%60;return{days:N,hours:fe,minutes:ee,isPast:!1}};if(!r)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(E){const O="w-full pl-10 pr-4 py-3 rounded-xl border-2 border-black font-medium text-[#084286] placeholder-gray-400 focus:border-[#084286] focus:ring-2 focus:ring-[#084286] outline-none transition-all",U=["Nicaragua","Costa Rica","Honduras","El Salvador","Guatemala","PanamÃ¡","MÃ©xico","EspaÃ±a","Estados Unidos","Colombia","Venezuela","Argentina","Chile","PerÃº","Ecuador","Bolivia","Paraguay","Uruguay","Cuba","RepÃºblica Dominicana","Puerto Rico","Brasil","CanadÃ¡","Alemania","Francia"].filter(H=>H.toLowerCase().includes(j.nationality.toLowerCase())),te=H=>{P({...j,nationality:H}),st(!1)};return o.jsx("div",{className:"min-h-screen bg-[#083c79] p-4 md:p-8 font-sans flex items-start justify-center overflow-y-auto",children:o.jsx("div",{className:"w-full max-w-7xl my-8",children:o.jsxs("div",{className:"bg-white rounded-3xl p-6 md:p-10 shadow-2xl relative",children:[o.jsxs("button",{onClick:Rt,className:"absolute top-4 right-4 md:top-6 md:right-6 bg-red-50 text-red-600 px-4 py-2 rounded-lg hover:bg-red-600 hover:text-white transition-colors flex items-center gap-2 font-medium",children:[o.jsx(sa,{size:18})," Cerrar SesiÃ³n"]}),o.jsxs("div",{className:"relative mb-8 pt-8 md:pt-0",children:[o.jsx("img",{src:"https://static.wixstatic.com/media/3743a7_c42baeee418f47e99fcd39daa5978195~mv2.jpg/v1/crop/x_10,y_0,w_330,h_250/fill/w_280,h_208,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/drmiltonmairena.jpg",alt:"Dr. Milton Mairena",className:"absolute left-0 top-0 h-35 w-auto object-contain rounded-lg hidden md:block"}),o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Complete su Perfil"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Necesitamos algunos datos adicionales para su expediente."})]})]}),o.jsxs("div",{className:"flex flex-col items-center mb-8",children:[o.jsx("input",{type:"file",accept:"image/*",ref:ge,onChange:er,className:"hidden"}),o.jsxs("button",{type:"button",onClick:()=>{var H;return(H=ge.current)==null?void 0:H.click()},className:"relative w-28 h-28 rounded-full border-4 border-[#083c79] bg-gray-100 flex items-center justify-center overflow-hidden hover:border-blue-500 transition-colors group",children:[V?o.jsx("img",{src:V,alt:"Foto de perfil",className:"w-full h-full object-cover"}):o.jsx(Ta,{className:"w-10 h-10 text-[#083c79] group-hover:scale-110 transition-transform"}),o.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx(Ta,{className:"w-6 h-6 text-white"})})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Subir foto de perfil"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Fecha de Nacimiento *"}),o.jsxs("div",{className:"relative",children:[o.jsx(or,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#083c79] w-5 h-5 pointer-events-none z-10"}),o.jsx(su,{selected:j.birthDate?new Date(j.birthDate):null,onChange:H=>{if(H){const x=H.toISOString().split("T")[0];P({...j,birthDate:x})}},dateFormat:"dd/MM/yyyy",locale:"es",showYearDropdown:!0,showMonthDropdown:!0,dropdownMode:"select",yearDropdownItemNumber:100,scrollableYearDropdown:!0,placeholderText:"Seleccione fecha",className:O,wrapperClassName:"w-full",maxDate:new Date})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Edad Calculada"}),o.jsxs("div",{className:"relative",children:[o.jsx(Oa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#083c79] w-5 h-5"}),o.jsx("input",{readOnly:!0,className:`${O} bg-gray-50 text-gray-500`,value:Ha(j.birthDate),placeholder:"AutomÃ¡tico"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Sexo *"}),o.jsxs("div",{className:"relative",children:[o.jsx(wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#083c79] w-5 h-5"}),o.jsxs("select",{className:`${O} pr-10 appearance-none bg-[url('data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%23083c79%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e')] bg-[length:20px] bg-[right_12px_center] bg-no-repeat`,value:j.sex,onChange:H=>P({...j,sex:H.target.value}),children:[o.jsx("option",{value:"",disabled:!0,children:"Seleccione..."}),o.jsx("option",{value:"Masculino",children:"Masculino"}),o.jsx("option",{value:"Femenino",children:"Femenino"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"ProfesiÃ³n/OcupaciÃ³n *"}),o.jsxs("div",{className:"relative",children:[o.jsx(Os,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#083c79] w-5 h-5"}),o.jsx("input",{type:"text",required:!0,className:O,value:j.profession,onChange:H=>P({...j,profession:H.target.value}),placeholder:"Ej. Ingeniero"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"TelÃ©fono Secundario"}),o.jsxs("div",{className:"relative",children:[o.jsx(aa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#083c79] w-5 h-5"}),o.jsx("input",{type:"tel",className:O,value:j.secondaryPhone,onChange:H=>P({...j,secondaryPhone:H.target.value.replace(/\D/g,"")}),placeholder:"Ej. 50588888888"})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"PaÃ­s de Nacionalidad"}),o.jsxs("div",{className:"relative",children:[o.jsx(Rs,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#083c79] w-5 h-5"}),o.jsx("input",{type:"text",className:O,value:j.nationality,onChange:H=>{P({...j,nationality:H.target.value}),st(!0)},onFocus:()=>st(!0),onBlur:()=>setTimeout(()=>st(!1),200),placeholder:"Ej. Nicaragua"})]}),Zt&&j.nationality&&U.length>0&&o.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border-2 border-gray-200 rounded-xl shadow-lg max-h-48 overflow-y-auto",children:U.slice(0,6).map(H=>o.jsx("button",{type:"button",onClick:()=>te(H),className:"w-full text-left px-4 py-2 hover:bg-[#083c79] hover:text-white transition-colors text-gray-700 font-medium",children:H},H))})]}),o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"DirecciÃ³n *"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ra,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#083c79] w-5 h-5"}),o.jsx("input",{type:"text",required:!0,className:O,value:j.address,onChange:H=>P({...j,address:H.target.value}),placeholder:"DirecciÃ³n completa"})]})]})]}),o.jsxs("div",{className:"border-t border-gray-200 mt-8 pt-8",children:[o.jsxs("h3",{className:"text-lg font-bold text-black mb-6 flex items-center gap-2",children:[o.jsx(Ia,{className:"w-5 h-5 text-[#083c79]"}),"Contacto de Emergencia"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Nombre Completo"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#083c79] w-5 h-5"}),o.jsx("input",{type:"text",className:O,value:j.emergencyContactName,onChange:H=>P({...j,emergencyContactName:H.target.value}),placeholder:"Nombre del contacto"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"TelÃ©fono del Contacto"}),o.jsxs("div",{className:"relative",children:[o.jsx(aa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#083c79] w-5 h-5"}),o.jsx("input",{type:"tel",className:O,value:j.emergencyContactPhone,onChange:H=>P({...j,emergencyContactPhone:H.target.value.replace(/\D/g,"")}),placeholder:"Ej. 50588888888"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Correo de Contacto"}),o.jsxs("div",{className:"relative",children:[o.jsx(On,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#083c79] w-5 h-5"}),o.jsx("input",{type:"email",className:O,value:j.emergencyContactEmail,onChange:H=>P({...j,emergencyContactEmail:H.target.value}),placeholder:"correo@ejemplo.com"})]})]})]})]}),o.jsx("div",{className:"mt-8 flex justify-center",children:o.jsx("button",{onClick:Jt,disabled:I,className:"w-full md:w-auto px-6 py-3 bg-[#083c79] text-white rounded-xl font-bold text-lg hover:bg-[#0a4a94] shadow-xl shadow-blue-600/20 transition-all flex items-center justify-center gap-2 disabled:opacity-70",children:I?o.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):o.jsxs(o.Fragment,{children:["Guardar y Continuar ",o.jsx(Ln,{size:20})]})})})]})})})}return o.jsxs("div",{className:"min-h-screen font-sans relative overflow-hidden",style:{backgroundColor:"#083c79"},children:[o.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[30%] h-[30%] bg-primary/5 rounded-full blur-[100px]"}),o.jsx("div",{className:"absolute bottom-[10%] left-[-5%] w-[25%] h-[25%] bg-secondary/20 rounded-full blur-[80px]"}),o.jsx("header",{className:"sticky top-0 z-20 bg-white border-b border-gray-200 shadow-sm",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"bg-gradient-to-tr from-primary to-blue-600 p-2.5 rounded-xl shadow-lg shadow-primary/20",children:o.jsx(wt,{className:"text-white w-6 h-6"})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-xl font-bold text-gray-900 tracking-tight",children:["Hola, ",r.firstName]}),o.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Portal del Paciente"})]})]}),o.jsxs("button",{onClick:Rt,className:"group flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 hover:bg-red-600 hover:text-white rounded-xl font-bold transition-all duration-300 border border-red-100 hover:shadow-lg hover:shadow-red-500/30 active:scale-95",children:[o.jsx(sa,{size:18,className:"group-hover:-translate-x-1 transition-transform"}),o.jsx("span",{children:"Cerrar SesiÃ³n"})]})]})}),o.jsxs("main",{className:"max-w-7xl mx-auto p-4 md:p-8 space-y-8 relative z-10",children:[o.jsxs("section",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-2xl font-bold text-white tracking-tight flex items-center gap-2",children:[o.jsx(or,{className:"text-white"})," PrÃ³ximas Citas"]}),i.length>0&&o.jsxs("span",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-xs font-bold",children:[i.length," ",i.length===1?"Cita":"Citas"]})]}),i.length===0?o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 text-center py-16 text-gray-500 flex flex-col items-center justify-center border-dashed border-2 border-gray-200",children:[o.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mb-6 text-gray-400",children:o.jsx(or,{size:40,strokeWidth:1.5})}),o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No tienes citas programadas"}),o.jsx("p",{className:"max-w-xs mx-auto mb-8 text-gray-500",children:"Agenda tu prÃ³xima revisiÃ³n para mantener tu salud al dÃ­a."}),o.jsxs("a",{href:"https://wa.me/50587893709?text=Hola%20acabo%20de%20completar%20mi%20historia%20cl%C3%ADnica%20quisiera%20agendar%20cita",target:"_blank",rel:"noopener noreferrer",className:"bg-[#25D366] text-white px-8 py-3 rounded-xl font-bold shadow-lg shadow-green-500/20 hover:bg-[#128C7E] transition-all active:scale-95 flex items-center justify-center gap-2 mx-auto",children:[o.jsx(Yt,{size:20})," Agendar mi primera revisiÃ³n"]})]}):o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 auto-rows-fr",children:i.sort((O,B)=>new Date(`${O.date}T${O.time}`).getTime()-new Date(`${B.date}T${B.time}`).getTime()).map((O,B)=>{const U=B===0,te=O.paymentStatus==="paid";return o.jsxs("div",{className:`
                                                relative overflow-hidden transition-all duration-300 hover:shadow-xl !p-4 bg-white rounded-xl border border-gray-100 shadow-sm
                                                ${U?"md:col-span-1 border-blue-100":"hover:scale-[1.02]"}
                                                ${te&&e.get("payment")==="success"?"ring-4 ring-green-400 ring-offset-2":""}
                                            `,children:[U&&o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-primary/10 to-blue-400/10 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),te&&o.jsx("div",{className:"absolute top-0 right-0 bg-green-500 text-white text-[10px] font-bold px-3 py-1.5 rounded-bl-xl z-10 shadow-sm",children:"PAGADO"}),o.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide flex items-center gap-1 ${O.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:[o.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${O.status==="pending"?"bg-yellow-500":"bg-green-500"}`}),O.status==="pending"?"Pendiente":"Confirmada"]}),U&&o.jsx("span",{className:"bg-primary text-white text-[10px] font-bold px-2 py-0.5 rounded-md shadow-sm",children:"PRÃ“XIMA"})]}),o.jsxs("div",{className:"space-y-2 mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg text-white",style:{backgroundColor:"#083c79"},children:o.jsx(or,{size:16})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase",children:"Fecha"}),o.jsx("span",{className:"font-bold text-gray-900 text-sm",children:new Date(O.date).toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short"})})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg text-white",style:{backgroundColor:"#083c79"},children:o.jsx(Oa,{size:16})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase",children:"Hora"}),o.jsx("span",{className:"text-gray-700 font-bold text-sm",children:O.time})]})]})]}),o.jsxs("div",{className:"p-2 rounded-lg border border-gray-100 mb-3",style:{backgroundColor:"#083c79"},children:[o.jsx("p",{className:"text-[10px] text-white/70 font-bold uppercase",children:"MOTIVO"}),o.jsx("p",{className:"text-white text-xs leading-relaxed line-clamp-2 font-medium",children:O.reason})]}),o.jsxs("div",{className:"mt-auto space-y-3",children:[O.status==="pending"&&o.jsxs("a",{href:`https://wa.me/50589776879?text=Hola, confirmo mi cita para el ${O.date} a las ${O.time}`,target:"_blank",rel:"noopener noreferrer",className:"block w-full text-center bg-[#25D366] text-white py-3.5 rounded-xl font-bold hover:bg-[#128C7E] transition-all shadow-lg shadow-green-500/20 active:scale-95 flex items-center justify-center gap-2",children:[o.jsx(Yt,{size:18})," Confirmar por WhatsApp"]}),O.type==="virtual"&&te&&(()=>{const H=Lt(O.date,O.time),x=O.videoRoomActive&&sr(O.date,O.time);return o.jsxs("div",{className:"space-y-2",children:[!H.isPast&&o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg p-2 border border-purple-100",children:[o.jsx("p",{className:"text-[10px] text-purple-600 font-bold uppercase mb-1",children:"â±ï¸ Tiempo para tu consulta"}),o.jsxs("div",{className:"flex justify-center gap-2",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-black text-purple-700",children:H.days}),o.jsx("div",{className:"text-[8px] text-purple-500 uppercase",children:"DÃ­as"})]}),o.jsx("div",{className:"text-purple-300 text-lg",children:":"}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-black text-purple-700",children:H.hours}),o.jsx("div",{className:"text-[8px] text-purple-500 uppercase",children:"Hrs"})]}),o.jsx("div",{className:"text-purple-300 text-lg",children:":"}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-black text-purple-700",children:H.minutes}),o.jsx("div",{className:"text-[8px] text-purple-500 uppercase",children:"Min"})]})]})]}),x?o.jsxs("button",{onClick:()=>ar(O),className:"w-full text-center bg-gradient-to-r from-green-500 to-emerald-600 text-white py-2.5 rounded-lg font-bold text-sm hover:shadow-lg transition-all active:scale-95 flex items-center justify-center gap-2 animate-pulse",children:[o.jsx(La,{size:16}),o.jsx("span",{children:"ðŸŸ¢ Unirse Ahora"})]}):o.jsxs("div",{children:[o.jsxs("button",{disabled:!0,className:"w-full text-center bg-gradient-to-r from-gray-300 to-gray-400 text-white py-2.5 rounded-lg font-bold text-sm cursor-not-allowed opacity-70 flex items-center justify-center gap-2",children:[o.jsx(La,{size:16}),o.jsx("span",{children:"Video Consulta"})]}),o.jsx("p",{className:"text-center text-[10px] text-gray-500 mt-1",children:O.videoRoomActive?"â³ Se habilitarÃ¡ 5 min antes":"â³ Esperando al doctor..."})]})]})})(),O.type==="presencial"&&te&&(()=>{const H=Lt(O.date,O.time);return o.jsxs("div",{className:"space-y-2",children:[!H.isPast&&o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg p-2 border border-blue-100",children:[o.jsx("p",{className:"text-[10px] text-blue-600 font-bold uppercase mb-1",children:"â±ï¸ Tiempo para tu consulta"}),o.jsxs("div",{className:"flex justify-center gap-2",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-black text-blue-700",children:H.days}),o.jsx("div",{className:"text-[8px] text-blue-500 uppercase",children:"DÃ­as"})]}),o.jsx("div",{className:"text-blue-300 text-lg",children:":"}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-black text-blue-700",children:H.hours}),o.jsx("div",{className:"text-[8px] text-blue-500 uppercase",children:"Hrs"})]}),o.jsx("div",{className:"text-blue-300 text-lg",children:":"}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-black text-blue-700",children:H.minutes}),o.jsx("div",{className:"text-[8px] text-blue-500 uppercase",children:"Min"})]})]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-lg p-2 border border-amber-200",children:[o.jsxs("p",{className:"text-[10px] text-amber-700 font-bold uppercase mb-1 flex items-center gap-1",children:[o.jsx(Ra,{size:10})," DirecciÃ³n"]}),o.jsx("p",{className:"text-xs text-amber-900 font-bold",children:"Hospital Vivian Pellas"}),o.jsx("p",{className:"text-[10px] text-amber-800",children:"Torre 1, 2do Piso, Consultorio 208"})]})]})})(),!te&&o.jsxs("button",{onClick:()=>rr(O),className:"block w-full text-center bg-gradient-to-r from-teal-500 to-blue-600 text-white py-3.5 rounded-xl font-bold hover:shadow-lg hover:shadow-teal-500/20 transition-all active:scale-95 flex items-center justify-center gap-2",children:[o.jsx("span",{children:"Pagar Consulta"}),o.jsx("span",{className:"bg-white/20 px-2 py-0.5 rounded text-xs",children:"C$ 1,200"})]})]})]})]},O.id)})})]}),o.jsxs("section",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 tracking-tight flex items-center gap-2",children:[o.jsx(Ya,{className:"text-white"})," Historial de Consultas"]}),d.length===0?o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 text-center py-12 text-gray-500",children:[o.jsx(Ya,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),o.jsx("p",{children:"AÃºn no hay consultas registradas."})]}):o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:o.jsxs("table",{className:"w-full text-left text-sm text-gray-600",children:[o.jsx("thead",{className:"bg-gray-50/50 text-xs uppercase font-bold text-gray-500",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4",children:"Fecha"}),o.jsx("th",{className:"px-6 py-4",children:"Motivo"}),o.jsx("th",{className:"px-6 py-4",children:"DiagnÃ³stico"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:d.map(O=>o.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:O.date}),o.jsx("td",{className:"px-6 py-4",children:Object.keys(O.motives||{}).filter(B=>O.motives[B]).join(", ")||O.otherMotive}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded-md text-xs font-medium",children:O.diagnosis})})]},O.id))})]})})]})]}),o.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:o.jsxs("button",{onClick:tr,className:`flex items-center gap-2 px-5 py-3 rounded-full shadow-xl hover:shadow-2xl hover:scale-105 transition-all font-bold ${f?"bg-gradient-to-r from-teal-600 to-blue-600 text-white":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:[f?o.jsx(Yt,{size:24}):o.jsxs("div",{className:"relative",children:[o.jsx(Yt,{size:24}),o.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 rounded-full w-3 h-3 border-2 border-white"})]}),o.jsx("span",{className:"hidden md:inline",children:f?"Chat con el MÃ©dico":"Chat Bloqueado"})]})}),o.jsx(Dt,{children:h&&o.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[70] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",children:o.jsxs(Se.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-purple-500 to-pink-500"}),o.jsx("button",{onClick:()=>v(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:o.jsx($t,{size:24})}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4 text-purple-600",children:o.jsx(Yt,{size:32})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Servicio Premium Bloqueado"}),o.jsx("p",{className:"text-gray-600",children:"Para chatear con el Dr. en tiempo real y enviar imÃ¡genes, por favor agenda y abona tu consulta."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:nr,className:"w-full py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-bold shadow-lg shadow-purple-500/30 hover:shadow-purple-500/50 transition-all",children:"Ir a Pagar / Agendar"}),o.jsx("button",{onClick:()=>v(!1),className:"w-full py-3 text-gray-500 font-medium hover:bg-gray-50 rounded-xl transition-colors",children:"Entendido"})]})]})})}),o.jsx(Dt,{children:M&&o.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[90] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",children:o.jsxs(Se.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl text-center",children:[o.jsx("div",{className:"w-20 h-20 mx-auto bg-green-100 rounded-full flex items-center justify-center mb-6 text-green-600",children:o.jsx(In,{size:40})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Â¡Pago Exitoso!"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Tu consulta ha sido confirmada y el chat con el mÃ©dico ha sido activado."}),o.jsx("button",{onClick:()=>S(!1),className:"w-full py-3 bg-green-600 text-white rounded-xl font-bold shadow-lg shadow-green-600/20 hover:bg-green-700 transition-all",children:"Continuar"})]})})}),k&&o.jsx(No,{isOpen:g,onClose:()=>D(!1),appointment:k,patientId:r.id}),o.jsx(Dt,{children:c&&o.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] bg-black/40 backdrop-blur-sm flex items-end md:items-center justify-center p-0 md:p-4",children:o.jsx(Se.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},className:"w-full md:w-auto h-[90vh] md:h-auto",children:o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:()=>p(!1),className:"absolute -top-12 right-0 text-white hover:text-gray-200 md:hidden",children:o.jsx($t,{size:32})}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:()=>p(!1),className:"absolute top-4 right-4 z-20 text-gray-500 hover:text-gray-700 hidden md:block",children:o.jsx($t,{size:20})}),o.jsx(Do,{patientId:r.id,chatRoomId:r.id,isPremium:f,currentUserId:r.id,userName:r.firstName})]})]})})})}),_&&o.jsx(Ks,{isOpen:F,onClose:()=>{A(!1),w(null)},roomName:`consulta-${_.id}`,displayName:r.firstName,appointmentId:_.id})]})},ne="w-full px-4 py-3 rounded-xl border-2 border-black font-medium text-[#084286] placeholder-gray-400 focus:border-[#084286] focus:ring-2 focus:ring-[#084286]/20 outline-none transition-all",se="block text-sm font-bold text-black mb-2",Fu="text-xl font-bold text-black mb-6 flex items-center gap-2",Cs=({children:a,className:n,...t})=>o.jsx("div",{className:`rounded-3xl bg-white shadow-xl p-6 border border-gray-200 ${n||""}`,...t,children:a}),Ze=b.memo(({title:a,children:n,className:t=""})=>o.jsxs(Cs,{className:`mb-8 ${t}`,children:[o.jsx("h3",{className:Fu,children:a}),n]})),Hu=b.memo(({items:a,data:n,onChange:t})=>o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:a.map(e=>o.jsxs("label",{className:`
                    flex items-center p-3 rounded-xl border-2 cursor-pointer transition-all duration-200 select-none
                    ${n[e]?"border-[#083c79] bg-blue-50":"border-black hover:border-[#083c79] bg-white"} // NO SELECCIONADO: Negro
                `,children:[o.jsxs("div",{className:"relative flex items-center justify-center flex-shrink-0 mr-3",children:[o.jsx("input",{type:"checkbox",className:"peer appearance-none w-5 h-5 border-2 border-black rounded checked:bg-[#083c79] checked:border-[#083c79] transition-colors cursor-pointer",checked:!!n[e],onChange:r=>t(e,r.target.checked)}),o.jsx("svg",{className:"absolute w-3.5 h-3.5 text-white pointer-events-none hidden peer-checked:block",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("polyline",{points:"20 6 9 17 4 12"})})]}),o.jsx("span",{className:`font-medium text-sm leading-tight ${n[e]?"text-[#083c79]":"text-black"}`,children:e})]},e))})),pe=b.memo(({title:a,list:n,groupKey:t,data:e,onChange:r})=>{const s="w-full px-4 py-3 rounded-xl border-2 border-black font-medium text-[#084286] placeholder-gray-400 focus:border-[#084286] focus:ring-2 focus:ring-[#084286]/20 outline-none transition-all",i="block text-sm font-bold text-black mb-2",l=b.useCallback((c,p)=>{const f={...e,[c]:p};p&&(c==="yes"&&(f.no=!1),c==="no"&&(f.yes=!1)),r(t,f)},[t,e,r]),d=b.useCallback((c,p)=>{const f=e.conditions?"conditions":"list";r(t,{...e,[f]:{...e[f]||{},[c]:p}})},[t,e,r]),u=b.useCallback(c=>{r(t,{...e,other:c.target.value})},[t,e,r]);return o.jsxs("div",{className:"mb-8 pb-6 border-b-2 border-gray-900 last:border-0 last:mb-0 last:pb-0",children:[o.jsx("div",{className:"font-bold text-black mb-2",children:o.jsx(ce,{label:a,value:e,onChange:l})}),e.yes&&o.jsxs("div",{className:"mt-4 animate-in fade-in slide-in-from-top-2",children:[o.jsx(Hu,{items:n,data:e.conditions||e.list,onChange:d}),o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:i,children:"Otra / Detalles adicionales"}),o.jsx("input",{type:"text",className:s,value:e.other||"",onChange:u,placeholder:"Especifique..."})]})]})]})}),Wu=()=>{var S,F,A,_,w,E,L,j,P,I,z,$,W,V,ae,ge,Zt,st,Rt,Jt,er,tr,rr,ar,nr,It,sr,Lt,O,B,U,te,H;const a=Or(),{logout:n}=Rr(),[t,e]=b.useState(null),[r,s]=b.useState(!1),[i,l]=b.useState(!1),[d,u]=b.useState("");b.useEffect(()=>{const x=localStorage.getItem("currentPatient");x?e(JSON.parse(x)):a("/app/patient/login")},[a]),b.useEffect(()=>{if(t!=null&&t.id)return me.updatePatient(t.id,{isOnline:!0}).catch(console.error),()=>{me.updatePatient(t.id,{isOnline:!1}).catch(console.error)}},[t==null?void 0:t.id]),b.useEffect(()=>{if(!(t!=null&&t.id))return;const x=()=>{me.updatePatient(t.id,{isOnline:!1})};return window.addEventListener("beforeunload",x),()=>window.removeEventListener("beforeunload",x)},[t==null?void 0:t.id]);const[c,p]=b.useState({id:Math.random().toString(36),patientId:"",date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),motives:{},otherMotive:"",evolutionTime:"",historyOfPresentIllness:"",preExistingDiseases:{yes:!1,no:!1},neurological:{yes:!1,no:!1,conditions:{},other:""},metabolic:{yes:!1,no:!1,conditions:{},other:""},respiratory:{yes:!1,no:!1,conditions:{},other:""},cardiac:{yes:!1,no:!1,conditions:{},other:""},gastro:{yes:!1,no:!1,conditions:{},other:""},hepato:{yes:!1,no:!1,conditions:{},other:""},peripheral:{yes:!1,no:!1,conditions:{},other:""},hematological:{yes:!1,no:!1,conditions:{},other:""},renal:{yes:!1,no:!1,conditions:{},other:""},rheumatological:{yes:!1,no:!1,conditions:{},other:""},infectious:{yes:!1,no:!1,conditions:{},other:""},psychiatric:{yes:!1,no:!1,conditions:{},other:""},gyneco:{yes:!1,no:!1,na:!1,conditions:{},other:"",g:"",p:"",a:"",c:"",surgeries:"",gestationalDiabetes:{yes:!1,no:!1},preeclampsia:{yes:!1,no:!1},eclampsia:{yes:!1,no:!1},pregnancySuspicion:{yes:!1,no:!1,na:!1},breastfeeding:{yes:!1,no:!1,na:!1}},regularMeds:{yes:!1,no:!1,list:{},other:"",specific:""},naturalMeds:{yes:!1,no:!1,description:""},hospitalizations:{yes:!1,no:!1,reason:""},surgeries:{yes:!1,no:!1,list:""},endoscopy:{yes:!1,no:!1,list:"",results:""},complications:{yes:!1,no:!1,list:""},allergies:{yes:!1,no:!1,list:{},other:""},foodAllergies:{yes:!1,no:!1,list:{},other:""},foodIntolerances:{yes:!1,no:!1,list:{}},implants:{yes:!1,no:!1,which:""},devices:{yes:!1,no:!1,which:""},habits:{yes:!1,no:!1,list:{},other:""},transfusions:{yes:!1,no:!1,reactions:!1,which:""},exposures:{yes:!1,no:!1,list:{},other:""},familyHistory:{yes:!1,no:!1,list:{},other:""},familyGastro:{yes:!1,no:!1,list:{},other:""},physicalExam:{fc:"",fr:"",temp:"",pa:"",pam:"",sat02:"",weight:"",height:"",imc:"",systems:{}},previousStudies:{yes:!1,no:!1,description:""},comments:"",treatment:{food:"",meds:"",exams:"",norms:""},orders:{medical:{included:!1,details:""},prescription:{included:!1,details:""},labs:{included:!1,details:""},images:{included:!1,details:""},endoscopy:{included:!1,details:""}},diagnosis:"",isValidated:!1});b.useEffect(()=>{t&&p(x=>({...x,patientId:t.id}))},[t]);const f=b.useCallback((x,N)=>{p(fe=>({...fe,[x]:N}))},[]),m=(x,N)=>{f("motives",{...c.motives,[x]:N}),x==="Obesidad"&&N&&s(!0),x==="Obesidad"&&!N&&p(fe=>({...fe,obesityHistory:void 0})),x==="CÃ¡ncer"&&!N&&u("")},h=b.useCallback((x,N,fe)=>{p(ee=>{const vt={...ee[x],[N]:fe};return fe&&(N==="yes"&&(vt.no=!1),N==="no"&&(vt.yes=!1)),{...ee,[x]:vt}})},[]),v=b.useCallback((x,N,fe,ee)=>{p(zr=>{const vt=zr[x],Qr={...vt[N],[fe]:ee};return ee&&(fe==="yes"&&(Qr.no=!1),fe==="no"&&(Qr.yes=!1)),{...zr,[x]:{...vt,[N]:Qr}}})},[]),[g,D]=b.useState({message:"",type:"success",isVisible:!1}),k=(x,N)=>{D({message:x,type:N,isVisible:!0})},C=async()=>{try{await n(),localStorage.removeItem("currentPatient"),a("/app/patient/login")}catch(x){console.error("Error logging out:",x)}},M=async()=>{if(t)try{await me.createHistory({...c,isValidated:!1}),await me.updatePatient(t.id,{registrationStatus:"Proceso3",registrationMessage:"Historia completada, Signos Vitales pendientes"}),k("Historia enviada para revisiÃ³n","success"),setTimeout(()=>a("/app/patient/dashboard"),1500)}catch(x){console.error(x),k("Error al guardar historia","error")}};return t?o.jsx("div",{className:"min-h-screen bg-[#083c79] p-4 pb-32",children:o.jsxs("div",{className:"max-w-5xl mx-auto",children:[o.jsx(Gs,{message:g.message,type:g.type,isVisible:g.isVisible,onClose:()=>D(x=>({...x,isVisible:!1}))}),o.jsxs(Cs,{className:"rounded-t-2xl border-b-2 border-gray-900 mb-8 shadow-sm relative",children:[o.jsx("button",{onClick:C,className:"absolute top-6 right-6 p-2 bg-[#083c79] text-white rounded-lg hover:opacity-90 transition-opacity",title:"Cerrar SesiÃ³n",children:o.jsx(sa,{size:20})}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Mi Historia ClÃ­nica"}),o.jsx("p",{className:"text-gray-500",children:"Por favor complete su informaciÃ³n mÃ©dica."})]}),o.jsxs(Ze,{title:"Motivo de Consulta",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:Xs.map(x=>o.jsxs("div",{className:"relative",children:[o.jsxs("label",{className:`
                                        flex items-center p-3 rounded-xl border-2 cursor-pointer transition-all duration-200 select-none
                                        ${c.motives[x]?"border-[#083c79] bg-blue-50":"border-black hover:border-[#083c79] bg-white"}
                                    `,children:[o.jsxs("div",{className:"relative flex items-center justify-center flex-shrink-0 mr-3",children:[o.jsx("input",{type:"checkbox",className:"peer appearance-none w-5 h-5 border-2 border-black rounded checked:bg-[#083c79] checked:border-[#083c79] transition-colors cursor-pointer",checked:!!c.motives[x],onChange:N=>m(x,N.target.checked)}),o.jsx("svg",{className:"absolute w-3.5 h-3.5 text-white pointer-events-none hidden peer-checked:block",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("polyline",{points:"20 6 9 17 4 12"})})]}),o.jsx("span",{className:`font-medium text-sm leading-tight flex-1 ${c.motives[x]?"text-[#083c79]":"text-black"}`,children:x}),x==="Obesidad"&&c.motives.Obesidad&&c.obesityHistory&&Object.keys(c.obesityHistory).length>0&&o.jsx("button",{type:"button",onClick:N=>{N.preventDefault(),N.stopPropagation(),l(!0)},className:"ml-2 p-1.5 bg-[#083c79] text-white rounded-lg hover:bg-[#0a4a94] transition-colors",title:"Ver Historia de Obesidad",children:o.jsx(na,{size:16})})]}),x==="CÃ¡ncer"&&c.motives.CÃ¡ncer&&o.jsx("div",{className:"mt-2 animate-in fade-in slide-in-from-top-1",children:o.jsx("input",{type:"text",value:d,onChange:N=>u(N.target.value),className:"w-full px-4 py-2.5 rounded-xl border-2 border-[#083c79] bg-blue-50 font-medium text-[#084286] placeholder-gray-400 focus:ring-2 focus:ring-[#084286]/20 outline-none transition-all",placeholder:"Â¿CuÃ¡l tipo de cÃ¡ncer?"})})]},x))}),o.jsxs("div",{className:"mt-6",children:[o.jsx("label",{className:se,children:"Otros Motivos"}),o.jsx("input",{type:"text",className:ne,value:c.otherMotive,onChange:x=>f("otherMotive",x.target.value),placeholder:"Especifique..."})]})]}),o.jsx(Ze,{title:"Historia de la Enfermedad",children:o.jsxs("div",{className:"max-w-sm",children:[o.jsx("label",{className:se,children:"Tiempo de evoluciÃ³n"}),o.jsx("input",{type:"text",className:ne,value:c.evolutionTime,onChange:x=>f("evolutionTime",x.target.value),placeholder:"Ej: 3 dÃ­as, 1 semana..."})]})}),o.jsxs(Ze,{title:"I. ANTECEDENTES PATOLÃ“GICOS PERSONALES",children:[o.jsx(ce,{label:"Enfermedades pre existentes",value:c.preExistingDiseases,onChange:(x,N)=>h("preExistingDiseases",x,N)}),c.preExistingDiseases.yes&&o.jsxs("div",{className:"mt-6 space-y-2",children:[o.jsx(pe,{title:"NeurolÃ³gicas",list:Zs,groupKey:"neurological",data:c.neurological,onChange:f}),o.jsx(pe,{title:"MetabÃ³licas",list:Js,groupKey:"metabolic",data:c.metabolic,onChange:f}),o.jsx(pe,{title:"DermatolÃ³gicas",list:eo,groupKey:"dermatologic",data:c.dermatologic||{yes:!1,no:!1,conditions:{},other:""},onChange:f}),o.jsx(pe,{title:"Respiratorias",list:to,groupKey:"respiratory",data:c.respiratory,onChange:f}),o.jsx(pe,{title:"CardÃ­acas",list:ro,groupKey:"cardiac",data:c.cardiac,onChange:f}),o.jsx(pe,{title:"Gastrointestinales",list:ao,groupKey:"gastro",data:c.gastro,onChange:f}),o.jsx(pe,{title:"HepatobiliopancreÃ¡ticas",list:no,groupKey:"hepato",data:c.hepato,onChange:f}),o.jsx(pe,{title:"Arterial o venosa perifÃ©ricas",list:so,groupKey:"peripheral",data:c.peripheral,onChange:f}),o.jsx(pe,{title:"HematolÃ³gicas",list:oo,groupKey:"hematological",data:c.hematological,onChange:f}),o.jsx(pe,{title:"Reno-ureterales",list:io,groupKey:"renal",data:c.renal,onChange:f}),o.jsx(pe,{title:"ReumatolÃ³gicas/Autoinmunes",list:lo,groupKey:"rheumatological",data:c.rheumatological,onChange:f}),o.jsx(pe,{title:"Infecciosas",list:co,groupKey:"infectious",data:c.infectious,onChange:f}),o.jsx(pe,{title:"PsiquiÃ¡tricas",list:uo,groupKey:"psychiatric",data:c.psychiatric,onChange:f}),(t==null?void 0:t.sex)==="Femenino"&&o.jsx(pe,{title:"GinecolÃ³gicas",list:po,groupKey:"gynecoPathological",data:c.gynecoPathological||{yes:!1,no:!1,conditions:{},other:""},onChange:f})]})]}),(t==null?void 0:t.sex)==="Femenino"&&o.jsxs(Ze,{title:"Gineco ObstÃ©tricos",children:[o.jsx(ce,{label:"Antecedentes Ginecologicos",value:c.gyneco,onChange:(x,N)=>h("gyneco",x,N)}),c.gyneco.yes&&o.jsxs("div",{className:"bg-gray-50/50 p-6 rounded-xl border border-gray-200/50 mt-4 space-y-6",children:[o.jsx(Wa,{items:fo,data:c.gyneco.conditions,onChange:(x,N)=>f("gyneco",{...c.gyneco,conditions:{...c.gyneco.conditions,[x]:N}})}),o.jsx("div",{className:"grid grid-cols-4 gap-4 py-4 border-t border-b-2 border-gray-900 my-4",children:["G","P","A","C"].map(x=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("label",{className:"font-bold text-gray-600",children:[x,":"]}),o.jsx("input",{className:"w-full px-2 py-1 bg-white border-2 border-gray-900 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",value:c.gyneco[x.toLowerCase()],onChange:N=>f("gyneco",{...c.gyneco,[x.toLowerCase()]:N.target.value})})]},x))}),o.jsxs("div",{children:[o.jsx("label",{className:se,children:"Cirugias Gineco Obstetricas"}),o.jsx("input",{type:"text",className:ne,value:c.gyneco.surgeries,onChange:x=>f("gyneco",{...c.gyneco,surgeries:x.target.value})})]}),o.jsxs("div",{className:"space-y-3 pt-3",children:[o.jsx(ce,{label:"Diabetes gestacional",value:c.gyneco.gestationalDiabetes,onChange:(x,N)=>v("gyneco","gestationalDiabetes",x,N)}),o.jsx(ce,{label:"Preclampsia",value:c.gyneco.preeclampsia,onChange:(x,N)=>v("gyneco","preeclampsia",x,N)}),o.jsx(ce,{label:"Eclampsia",value:c.gyneco.eclampsia,onChange:(x,N)=>v("gyneco","eclampsia",x,N)}),o.jsx(ce,{label:"Sospecha de embarazo",value:c.gyneco.pregnancySuspicion,onChange:(x,N)=>v("gyneco","pregnancySuspicion",x,N)}),o.jsx(ce,{label:"Lactancia materna actual",value:c.gyneco.breastfeeding,onChange:(x,N)=>v("gyneco","breastfeeding",x,N)})]})]})]}),o.jsxs(Ze,{title:"II. MEDICAMENTOS",children:[o.jsxs("div",{className:"py-4 border-b-2 border-gray-900",children:[o.jsx(ce,{label:"De uso crÃ³nico",value:c.regularMeds,onChange:(x,N)=>h("regularMeds",x,N)}),c.regularMeds.yes&&o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:se,children:"Describa cuÃ¡l..."}),o.jsx("textarea",{className:`${ne} min-h-[80px]`,value:c.regularMeds.description||"",onChange:x=>f("regularMeds",{...c.regularMeds,description:x.target.value}),placeholder:"Lista de medicamentos de uso crÃ³nico..."})]})]}),o.jsxs("div",{className:"py-4 border-b-2 border-gray-900",children:[o.jsx(ce,{label:"Naturales o suplementos",value:c.naturalMeds,onChange:(x,N)=>h("naturalMeds",x,N)}),c.naturalMeds.yes&&o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:se,children:"Describa cuÃ¡l..."}),o.jsx("input",{className:ne,value:c.naturalMeds.description,onChange:x=>f("naturalMeds",{...c.naturalMeds,description:x.target.value}),placeholder:"Medicina natural o suplementos..."})]})]})]}),o.jsxs(Ze,{title:"III. CIRUGÃAS U HOSPITALIZACIONES",children:[o.jsxs("div",{className:"py-4 border-b-2 border-gray-900",children:[o.jsx(ce,{label:"CirugÃ­as y Hospitalizaciones previas",value:c.surgeriesAndHospitalizations||{yes:!1,no:!1},onChange:(x,N)=>{const ee={...c.surgeriesAndHospitalizations||{yes:!1,no:!1,which:""},[x]:N};N&&(x==="yes"&&(ee.no=!1),x==="no"&&(ee.yes=!1)),f("surgeriesAndHospitalizations",ee)}}),((S=c.surgeriesAndHospitalizations)==null?void 0:S.yes)&&o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:se,children:"Â¿CuÃ¡les?"}),o.jsx("textarea",{className:`${ne} min-h-[80px]`,value:((F=c.surgeriesAndHospitalizations)==null?void 0:F.which)||"",onChange:x=>f("surgeriesAndHospitalizations",{...c.surgeriesAndHospitalizations,which:x.target.value}),placeholder:"Describa las cirugÃ­as y hospitalizaciones..."})]})]}),o.jsxs("div",{className:"py-4 border-b-2 border-gray-900",children:[o.jsx(ce,{label:"Procedimientos endoscÃ³picos previos",value:c.endoscopy,onChange:(x,N)=>h("endoscopy",x,N)}),c.endoscopy.yes&&o.jsxs("div",{className:"mt-4 space-y-6",children:[o.jsxs("div",{className:"p-4 bg-gray-50/50 rounded-xl border border-gray-200",children:[o.jsx("h4",{className:"font-bold text-sm text-gray-600 mb-3",children:"Procedimiento 1"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:se,children:"Â¿CuÃ¡les?"}),o.jsx("input",{className:ne,value:((_=(A=c.endoscopy.procedures)==null?void 0:A[0])==null?void 0:_.which)||"",onChange:x=>{const N=[...c.endoscopy.procedures||[]];N[0]={...N[0],which:x.target.value},f("endoscopy",{...c.endoscopy,procedures:N})},placeholder:"Tipo de procedimiento..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:se,children:"Resultados"}),o.jsx("input",{className:ne,value:((E=(w=c.endoscopy.procedures)==null?void 0:w[0])==null?void 0:E.results)||"",onChange:x=>{const N=[...c.endoscopy.procedures||[]];N[0]={...N[0],results:x.target.value},f("endoscopy",{...c.endoscopy,procedures:N})},placeholder:"Resultados..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:se,children:"Fecha del Ãºltimo"}),o.jsx("input",{type:"date",className:ne,value:((j=(L=c.endoscopy.procedures)==null?void 0:L[0])==null?void 0:j.lastDate)||"",onChange:x=>{const N=[...c.endoscopy.procedures||[]];N[0]={...N[0],lastDate:x.target.value},f("endoscopy",{...c.endoscopy,procedures:N})}})]})]})]}),(((P=c.endoscopy.procedures)==null?void 0:P.length)||0)>=2&&o.jsxs("div",{className:"p-4 bg-gray-50/50 rounded-xl border border-gray-200",children:[o.jsx("h4",{className:"font-bold text-sm text-gray-600 mb-3",children:"Procedimiento 2"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:se,children:"Â¿CuÃ¡les?"}),o.jsx("input",{className:ne,value:((z=(I=c.endoscopy.procedures)==null?void 0:I[1])==null?void 0:z.which)||"",onChange:x=>{const N=[...c.endoscopy.procedures||[]];N[1]={...N[1],which:x.target.value},f("endoscopy",{...c.endoscopy,procedures:N})},placeholder:"Tipo de procedimiento..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:se,children:"Resultados"}),o.jsx("input",{className:ne,value:((W=($=c.endoscopy.procedures)==null?void 0:$[1])==null?void 0:W.results)||"",onChange:x=>{const N=[...c.endoscopy.procedures||[]];N[1]={...N[1],results:x.target.value},f("endoscopy",{...c.endoscopy,procedures:N})},placeholder:"Resultados..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:se,children:"Fecha del Ãºltimo"}),o.jsx("input",{type:"date",className:ne,value:((ae=(V=c.endoscopy.procedures)==null?void 0:V[1])==null?void 0:ae.lastDate)||"",onChange:x=>{const N=[...c.endoscopy.procedures||[]];N[1]={...N[1],lastDate:x.target.value},f("endoscopy",{...c.endoscopy,procedures:N})}})]})]})]}),(((ge=c.endoscopy.procedures)==null?void 0:ge.length)||0)>=3&&o.jsxs("div",{className:"p-4 bg-gray-50/50 rounded-xl border border-gray-200",children:[o.jsx("h4",{className:"font-bold text-sm text-gray-600 mb-3",children:"Procedimiento 3"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:se,children:"Â¿CuÃ¡les?"}),o.jsx("input",{className:ne,value:((st=(Zt=c.endoscopy.procedures)==null?void 0:Zt[2])==null?void 0:st.which)||"",onChange:x=>{const N=[...c.endoscopy.procedures||[]];N[2]={...N[2],which:x.target.value},f("endoscopy",{...c.endoscopy,procedures:N})},placeholder:"Tipo de procedimiento..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:se,children:"Resultados"}),o.jsx("input",{className:ne,value:((Jt=(Rt=c.endoscopy.procedures)==null?void 0:Rt[2])==null?void 0:Jt.results)||"",onChange:x=>{const N=[...c.endoscopy.procedures||[]];N[2]={...N[2],results:x.target.value},f("endoscopy",{...c.endoscopy,procedures:N})},placeholder:"Resultados..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:se,children:"Fecha del Ãºltimo"}),o.jsx("input",{type:"date",className:ne,value:((tr=(er=c.endoscopy.procedures)==null?void 0:er[2])==null?void 0:tr.lastDate)||"",onChange:x=>{const N=[...c.endoscopy.procedures||[]];N[2]={...N[2],lastDate:x.target.value},f("endoscopy",{...c.endoscopy,procedures:N})}})]})]})]}),(((rr=c.endoscopy.procedures)==null?void 0:rr.length)||1)<3&&o.jsxs("button",{type:"button",onClick:()=>{const x=[...c.endoscopy.procedures||[{which:"",results:"",lastDate:""}]];x.push({which:"",results:"",lastDate:""}),f("endoscopy",{...c.endoscopy,procedures:x})},className:"flex items-center gap-2 px-4 py-2 bg-[#083c79] text-white rounded-xl font-bold hover:bg-[#0a4a94] transition-all",children:[o.jsx("span",{className:"text-xl",children:"+"})," Agregar procedimiento"]})]})]}),o.jsxs("div",{className:"py-4 border-b-2 border-gray-900",children:[o.jsx(ce,{label:"Implantes o prÃ³tesis intracorpÃ³reos",value:c.implants,onChange:(x,N)=>h("implants",x,N)}),c.implants.yes&&o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:se,children:"Especifique..."}),o.jsx("input",{className:ne,value:c.implants.which,onChange:x=>f("implants",{...c.implants,which:x.target.value}),placeholder:"Tipo de implante o prÃ³tesis..."})]})]}),o.jsxs("div",{className:"py-4 border-b-2 border-gray-900",children:[o.jsx(ce,{label:"Marcapasos, desfibriladores, neuro estimuladores o algÃºn otro dispositivo intracorpÃ³reo",value:c.devices,onChange:(x,N)=>h("devices",x,N)}),c.devices.yes&&o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:se,children:"Especifique..."}),o.jsx("input",{className:ne,value:c.devices.which,onChange:x=>f("devices",{...c.devices,which:x.target.value}),placeholder:"Tipo de dispositivo..."})]})]}),o.jsxs("div",{className:"py-4 border-b-2 border-gray-900",children:[o.jsx(ce,{label:"Complicaciones relacionadas a cirugÃ­as, procedimientos endoscÃ³picos, uso de medicamentos o anestesia",value:c.complications,onChange:(x,N)=>h("complications",x,N)}),c.complications.yes&&o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:se,children:"Â¿CuÃ¡les?"}),o.jsx("input",{className:ne,value:c.complications.list,onChange:x=>f("complications",{...c.complications,list:x.target.value}),placeholder:"Describa las complicaciones..."})]})]}),o.jsxs("div",{className:"py-4 border-b-2 border-gray-900",children:[o.jsx(ce,{label:"ANAFILAXIA / SHOCK",value:c.anaphylaxis||{yes:!1,no:!1},onChange:(x,N)=>{const ee={...c.anaphylaxis||{yes:!1,no:!1,toWhat:""},[x]:N};N&&(x==="yes"&&(ee.no=!1),x==="no"&&(ee.yes=!1)),f("anaphylaxis",ee)}}),((ar=c.anaphylaxis)==null?void 0:ar.yes)&&o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:se,children:"Â¿A quÃ©?"}),o.jsx("input",{className:ne,value:((nr=c.anaphylaxis)==null?void 0:nr.toWhat)||"",onChange:x=>f("anaphylaxis",{...c.anaphylaxis,toWhat:x.target.value}),placeholder:"Causa de la anafilaxia..."})]})]}),o.jsx(pe,{title:"Alergias",list:mo,groupKey:"allergies",data:c.allergies,onChange:f}),o.jsxs("div",{className:"py-4 border-b-2 border-gray-900",children:[o.jsx(ce,{label:"Intolerancias alimenticias",value:c.foodIntolerances,onChange:(x,N)=>h("foodIntolerances",x,N)}),c.foodIntolerances.yes&&o.jsxs("div",{className:"mt-4 space-y-4",children:[o.jsx("div",{className:"p-4 bg-gray-50/50 rounded-xl border border-gray-100",children:o.jsx(Wa,{items:ho,data:c.foodIntolerances.list,onChange:(x,N)=>f("foodIntolerances",{...c.foodIntolerances,list:{...c.foodIntolerances.list,[x]:N}})})}),o.jsxs("div",{children:[o.jsx("label",{className:se,children:"Otra / Detalles adicionales"}),o.jsx("input",{className:ne,value:c.foodIntolerances.other||"",onChange:x=>f("foodIntolerances",{...c.foodIntolerances,other:x.target.value}),placeholder:"Especifique otras intolerancias..."})]})]})]})]}),o.jsxs(Ze,{title:"IV. ANTECEDENTES NO PATOLÃ“GICOS PERSONALES",children:[(t==null?void 0:t.sex)==="Femenino"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"py-4 border-b-2 border-gray-900",children:[o.jsx(ce,{label:"Sospecha o confirmaciÃ³n de embarazo",value:c.pregnancyConfirmation||{yes:!1,no:!1},onChange:(x,N)=>{const ee={...c.pregnancyConfirmation||{yes:!1,no:!1,lastPeriodDate:""},[x]:N};N&&(x==="yes"&&(ee.no=!1),x==="no"&&(ee.yes=!1)),f("pregnancyConfirmation",ee)}}),((It=c.pregnancyConfirmation)==null?void 0:It.yes)&&o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:se,children:"Fecha de su Ãºltima regla"}),o.jsx("input",{type:"date",className:ne,value:((sr=c.pregnancyConfirmation)==null?void 0:sr.lastPeriodDate)||"",onChange:x=>f("pregnancyConfirmation",{...c.pregnancyConfirmation,lastPeriodDate:x.target.value})})]})]}),o.jsx("div",{className:"py-4 border-b-2 border-gray-900",children:o.jsx(ce,{label:"Lactancia materna actual",value:c.currentBreastfeeding||{yes:!1,no:!1},onChange:(x,N)=>{const ee={...c.currentBreastfeeding||{yes:!1,no:!1},[x]:N};N&&(x==="yes"&&(ee.no=!1),x==="no"&&(ee.yes=!1)),f("currentBreastfeeding",ee)}})})]}),o.jsx(pe,{title:"HÃ¡bitos / Adicciones",list:go,groupKey:"habits",data:c.habits,onChange:f}),(((Lt=c.habits.list)==null?void 0:Lt.Drogas)||((O=c.habits.list)==null?void 0:O.Psicofarmacos)||((B=c.habits.list)==null?void 0:B["Medicamentos controlados"]))&&o.jsxs("div",{className:"mt-4 mb-6 p-4 bg-orange-50/50 rounded-xl border border-orange-200",children:[o.jsx("label",{className:se,children:"Â¿CuÃ¡les? (Drogas, PsicofÃ¡rmacos o Medicamentos controlados)"}),o.jsx("input",{className:ne,value:((U=c.habits.details)==null?void 0:U.habitsDetail)||"",onChange:x=>f("habits",{...c.habits,details:{...c.habits.details,habitsDetail:x.target.value}}),placeholder:"Especifique cuÃ¡les..."})]}),o.jsx("div",{className:"py-4 border-b-2 border-gray-900",children:o.jsx(ce,{label:"Transfusiones SanguÃ­neas",value:c.transfusions,onChange:(x,N)=>h("transfusions",x,N)})}),o.jsxs("div",{className:"py-4 border-b-2 border-gray-900",children:[o.jsx(ce,{label:"Reacciones post transfusionales",value:c.postTransfusionReactions||{yes:!1,no:!1},onChange:(x,N)=>{const ee={...c.postTransfusionReactions||{yes:!1,no:!1,which:""},[x]:N};N&&(x==="yes"&&(ee.no=!1),x==="no"&&(ee.yes=!1)),f("postTransfusionReactions",ee)}}),((te=c.postTransfusionReactions)==null?void 0:te.yes)&&o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:se,children:"Â¿CuÃ¡les?"}),o.jsx("input",{className:ne,value:((H=c.postTransfusionReactions)==null?void 0:H.which)||"",onChange:x=>f("postTransfusionReactions",{...c.postTransfusionReactions,which:x.target.value}),placeholder:"Describa las reacciones..."})]})]}),o.jsx(pe,{title:"Exposiciones",list:vo,groupKey:"exposures",data:c.exposures,onChange:f})]}),o.jsx(Ze,{title:"V. ANTECEDENTES MÃ‰DICOS FAMILIARES",children:o.jsx(pe,{title:"Generales",list:xo,groupKey:"familyHistory",data:c.familyHistory,onChange:f})}),o.jsx("div",{className:"fixed bottom-6 left-0 w-full flex justify-center z-50 pointer-events-none",children:o.jsxs("button",{onClick:M,className:"bg-[#083c79] text-white px-8 py-3 rounded-xl font-bold hover:bg-[#0a4a94] flex items-center gap-2 shadow-xl shadow-blue-600/30 transition-all pointer-events-auto",children:[o.jsx(Ln,{size:20})," Guardar"]})}),o.jsx(Ba,{isOpen:r,onClose:()=>{s(!1),f("motives",{...c.motives,Obesidad:!1})},onSave:x=>{p(N=>({...N,obesityHistory:x})),s(!1)},initialData:c.obesityHistory}),o.jsx(Ba,{isOpen:i,onClose:()=>l(!1),onSave:x=>{p(N=>({...N,obesityHistory:x})),l(!1)},initialData:c.obesityHistory})]})}):null},Zu=()=>o.jsxs(As,{children:[o.jsx(At,{path:"login",element:o.jsx(yo,{})}),o.jsx(At,{path:"register",element:o.jsx(wo,{})}),o.jsx(At,{path:"dashboard",element:o.jsx(Au,{})}),o.jsx(At,{path:"history",element:o.jsx(Wu,{})}),o.jsx(At,{path:"*",element:o.jsx(Fs,{to:"login",replace:!0})})]});export{Zu as PatientPortalRoutes};
