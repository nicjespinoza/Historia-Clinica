import{j as e,E as j,y,J as w,K as N,v as S}from"./ui-BeP2E2EB.js";import{a as p,r as o,u as _}from"./vendor-CGaW2js3.js";import{F as x}from"./FloatingLabelInput-Bllz3MGy.js";import{u as h}from"./index-1xibhE-N.js";import"./utils-CDN07tui.js";import"./firebase-BCTgdpS7.js";const E=({initialRole:t})=>{const i=p(),[a,l]=o.useState(""),[s,c]=o.useState(""),[d,g]=o.useState(!1),[n,m]=o.useState(""),{signIn:b}=h(),f=()=>t==="doctor"?"Personal Médico":t==="assistant"?"Administración":"Acceso al Sistema",v=async r=>{r.preventDefault();try{await b(a,s)}catch(u){console.error(u),m("Error al iniciar sesión: "+u.message)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-cenlae-primary p-4 font-sans relative overflow-hidden",children:e.jsx("div",{className:"relative z-10 w-full max-w-md",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-xl border border-white/50 p-8 md:p-12 rounded-3xl shadow-2xl relative overflow-hidden",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("img",{src:"https://static.wixstatic.com/media/3743a7_bc65d6328e9c443e95b330a92181fbc8~mv2.png/v1/crop/x_13,y_9,w_387,h_61/fill/w_542,h_85,al_c,lg_1,q_85,enc_avif,quality_auto/logo-drmairenavalle.png",alt:"Dr. Milton Mairena Valle",className:"h-16 md:h-20 w-auto mx-auto object-contain mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-gray-800 uppercase tracking-wide",children:f()})]}),e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[n&&e.jsxs("div",{className:"bg-red-50 text-red-600 p-4 rounded-xl text-sm font-medium text-center border border-red-100 flex items-center justify-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),n]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(x,{label:"Correo Electrónico",type:"email",required:!0,value:a,onChange:r=>{l(r.target.value),m("")},icon:e.jsx(j,{size:20}),error:n?" ":void 0,containerClassName:"!mb-0"}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{label:"Contraseña",type:d?"text":"password",required:!0,value:s,onChange:r=>{c(r.target.value),m("")},icon:e.jsx(y,{size:20}),error:n?" ":void 0,containerClassName:"!mb-0"}),e.jsx("button",{type:"button",onClick:()=>g(!d),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-cenlae-primary transition-colors",children:d?e.jsx(w,{size:20}):e.jsx(N,{size:20})})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-cenlae-primary hover:bg-[#0d3d6e] text-white py-4 rounded-xl font-bold hover:shadow-lg transition-all active:scale-[0.98] text-lg",children:"Ingresar al Sistema"}),e.jsxs("button",{type:"button",onClick:()=>i("/"),className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 rounded-xl font-bold transition-all flex items-center justify-center gap-2",children:[e.jsx(S,{size:18})," Salir"]})]})]})})})},q=()=>{const t=p(),[i]=_(),{currentUser:a}=h();o.useEffect(()=>{a&&t("/app")},[a,t]);const l=()=>{t("/app/patient/login")},s=i.get("role"),c=s==="doctor"||s==="assistant"?s:void 0;return e.jsx(E,{onLogin:()=>{},onPatientAccess:l,initialRole:c})};export{q as AuthPage};
